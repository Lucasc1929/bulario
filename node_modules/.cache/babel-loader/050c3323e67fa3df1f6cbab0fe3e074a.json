{"ast":null,"code":"import _slicedToArray from\"/media/lucas/Code/Code/JavaScript/ReactJs/Projects/bulario/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{PDFJS}from\"pdfjs-dist\";import\"../WebsiteRoutes/components/styles/bula.css\";import Highlighter from\"react-highlight-words\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ReadFile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dataArr=_useState4[0],setDataArr=_useState4[1];var _useState5=useState(14),_useState6=_slicedToArray(_useState5,2),font=_useState6[0],setFont=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),upload=_useState8[0],setUpload=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),searchedWord=_useState10[0],setSearchedWord=_useState10[1];var textRead=\"\";function ExtractText(e){var file_Reader=new FileReader();file_Reader.readAsDataURL(e.target.files[0]);file_Reader.onloadend=function(event){convertURIToBinary(event.target.result);};setUpload(true);}var BASE64_MARKER=\";base64,\";function convertURIToBinary(dataURI){var base64Index=dataURI.indexOf(BASE64_MARKER)+BASE64_MARKER.length;var base64=dataURI.substring(base64Index);var raw=window.atob(base64);var rawLength=raw.length;var array=new Uint8Array(new ArrayBuffer(rawLength));for(var i=0;i<rawLength;i++){array[i]=raw.charCodeAt(i);}pdfAsArray(array);}function getPageText(pageNum,PDFDocumentInstance){return new Promise(function(resolve,reject){PDFDocumentInstance.getPage(pageNum).then(function(pdfPage){pdfPage.getTextContent().then(function(textContent){var textItems=textContent.items;var finalString=\"\";for(var i=0;i<textItems.length;i++){var item=textItems[i];finalString+=item.str+\" \";}resolve(finalString);});});});}function pdfAsArray(pdfAsArray){PDFJS.getDocument(pdfAsArray).then(function(pdf){var pdfDocument=pdf;var pagesPromises=[];for(var i=0;i<pdf.pdfInfo.numPages;i++){(function(pageNumber){pagesPromises.push(getPageText(pageNumber,pdfDocument));})(i+1);}Promise.all(pagesPromises).then(function(pagesText){setDataArr(pagesText);for(var pageNum=0;pageNum<pagesText.length;pageNum++){setText(pagesText[pageNum]);}});},function(reason){// PDF loading error\nconsole.error(reason);});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-id\",className:upload?\"display-none\":\"upload-input\",name:\"file_name\",onChange:function onChange(e){return ExtractText(e);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchedWord,onChange:function onChange(e){return setSearchedWord(e.target.value);},className:upload?'searchforsomething':\"display-none\",placeholder:\"Pesquisar uma informa\\xE7\\xE3o \\uD83D\\uDD0E\\uFE0F\"})]}),/*#__PURE__*/_jsx(\"abbr\",{title:font,children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:upload?'range-input':\"display-none\",min:14,defaultValue:20,max:40,onChange:function onChange(e){return setFont(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:upload?\"bulario\":\"display-none\",children:dataArr.length<=0?null:dataArr.map(function(page){return/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:\"\".concat(font,\"px\"),width:\"80%\"},className:\"bula-textarea\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"bula-paragraph\",children:[textRead+=page,/*#__PURE__*/_jsx(Highlighter,{highlightClassName:\"HighlightedWords\",searchWords:[\"\".concat(searchedWord)],textToHighlight:page})]}),/*#__PURE__*/_jsx(\"br\",{})]},page.length);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]});};export default ReadFile;","map":{"version":3,"sources":["/media/lucas/Code/Code/JavaScript/ReactJs/Projects/bulario/src/components/WebsiteRoutes/FileReader.jsx"],"names":["React","useState","PDFJS","Highlighter","ReadFile","text","setText","dataArr","setDataArr","font","setFont","upload","setUpload","searchedWord","setSearchedWord","textRead","ExtractText","e","file_Reader","FileReader","readAsDataURL","target","files","onloadend","event","convertURIToBinary","result","BASE64_MARKER","dataURI","base64Index","indexOf","length","base64","substring","raw","window","atob","rawLength","array","Uint8Array","ArrayBuffer","i","charCodeAt","pdfAsArray","getPageText","pageNum","PDFDocumentInstance","Promise","resolve","reject","getPage","then","pdfPage","getTextContent","textContent","textItems","items","finalString","item","str","getDocument","pdf","pdfDocument","pagesPromises","pdfInfo","numPages","pageNumber","push","all","pagesText","reason","console","error","value","map","page","fontSize","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport {PDFJS} from \"pdfjs-dist\"\nimport \"../WebsiteRoutes/components/styles/bula.css\"\nimport Highlighter from \"react-highlight-words\";\n\n\nfunction ReadFile() {\n\n  const [text, setText] = useState(\"\")\n  const [dataArr, setDataArr] = useState([])\n  const [font, setFont] = useState(14)\n  const [upload, setUpload] = useState(false)\n  const [searchedWord, setSearchedWord] = useState(\"\")\n  var textRead = \"\"\n\n  function ExtractText(e){\n    var file_Reader = new FileReader()\n    file_Reader.readAsDataURL(e.target.files[0])\n    file_Reader.onloadend = function(event){\n      convertURIToBinary(event.target.result)\n    }\n    setUpload(true)\n\n  }\n\n  var BASE64_MARKER = \";base64,\"\n\n  function convertURIToBinary(dataURI){\n    var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\n    var base64 = dataURI.substring(base64Index);\n    var raw = window.atob(base64);\n    var rawLength = raw.length;\n    var array = new Uint8Array(new ArrayBuffer(rawLength));\n\n    for (var i = 0; i < rawLength; i++) {\n        array[i] = raw.charCodeAt(i);\n    }\n    pdfAsArray(array)\n  }\n\n  function getPageText(pageNum, PDFDocumentInstance) {\n    return new Promise(function (resolve, reject) {\n      PDFDocumentInstance.getPage(pageNum).then(function (pdfPage) {\n        pdfPage.getTextContent().then(function (textContent) {\n          var textItems = textContent.items;\n          var finalString = \"\";\n\n          for (var i = 0; i < textItems.length; i++) {\n            var item = textItems[i];\n\n            finalString += item.str + \" \";\n        }\n\n        resolve(finalString);\n    });\n      });\n  });\n        }\n\n  function pdfAsArray(pdfAsArray){\n    PDFJS.getDocument(pdfAsArray).then(function (pdf) {\n    var pdfDocument = pdf;\n    var pagesPromises = [];\n\n    for (var i = 0; i < pdf.pdfInfo.numPages; i++) {\n      (function (pageNumber) {\n          pagesPromises.push(getPageText(pageNumber, pdfDocument));\n      })(i + 1);\n  }\n\n    Promise.all(pagesPromises).then(function (pagesText) {\n\n    setDataArr(pagesText)\n    for (var pageNum = 0; pageNum < pagesText.length; pageNum++) {\n        setText(pagesText[pageNum]);\n    }\n  });\n\n    }, function (reason) {\n        // PDF loading error\n        console.error(reason);\n    });\n  }\n  \n  \n\n  return (\n    <React.Fragment>    \n      \n      <br></br>\n      \n      <input type=\"file\" id=\"file-id\" className={upload?\"display-none\":\"upload-input\"} name=\"file_name\" onChange={(e)=>ExtractText(e)}>\n      </input>\n\n      <br />\n      <div className=\"output\">\n\n      <span>\n        <br /><br /><br />        \n        <input type=\"text\" value={searchedWord} onChange={(e)=>setSearchedWord(e.target.value)} className={upload?'searchforsomething':\"display-none\"} placeholder=\"Pesquisar uma informação &#x1F50E;&#xFE0F;\" />\n        \n      </span>\n\n      <abbr title={font}><input type=\"range\" className={upload?'range-input':\"display-none\"} min={14} defaultValue={20} max={40} onChange={(e)=>setFont(e.target.value)} /></abbr>\n\n      <div className={upload?\"bulario\":\"display-none\"}>\n        {dataArr.length<=0?null:dataArr.map((page)=>{\n          return(\n          <span key={page.length} style={{fontSize:`${font}px`, width:\"80%\"}} className='bula-textarea'>\n              <p className='bula-paragraph'>\n                {textRead += page}\n                <Highlighter\n                  highlightClassName=\"HighlightedWords\"\n                  searchWords={[`${searchedWord}`]}\n                  textToHighlight={page}\n                />\n              </p>\n              <br/>\n            </span>\n          )\n        })}\n      </div>\n      <br />\n      <br />\n      </div>\n\n    </React.Fragment>\n  );\n};\n\n\nexport default ReadFile"]},"metadata":{},"sourceType":"module"}