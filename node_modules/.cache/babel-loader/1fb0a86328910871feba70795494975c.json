{"ast":null,"code":"/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define(\"pdfjs-dist/build/pdf\", [], factory);else if (typeof exports === 'object') exports[\"pdfjs-dist/build/pdf\"] = factory();else root[\"pdfjs-dist/build/pdf\"] = root.pdfjsDistBuildPdf = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __w_pdfjs_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __w_pdfjs_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __w_pdfjs_require__.c = installedModules;\n      /******/\n\n      /******/\n      // identity function for calling harmony imports with the correct context\n\n      /******/\n\n      __w_pdfjs_require__.i = function (value) {\n        return value;\n      };\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n\n      __w_pdfjs_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__w_pdfjs_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __w_pdfjs_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __w_pdfjs_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __w_pdfjs_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __w_pdfjs_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __w_pdfjs_require__(__w_pdfjs_require__.s = 15);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n    /* 0 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.unreachable = exports.warn = exports.utf8StringToString = exports.stringToUTF8String = exports.stringToPDFString = exports.stringToBytes = exports.string32 = exports.shadow = exports.setVerbosityLevel = exports.ReadableStream = exports.removeNullCharacters = exports.readUint32 = exports.readUint16 = exports.readInt8 = exports.log2 = exports.loadJpegStream = exports.isEvalSupported = exports.isLittleEndian = exports.createValidAbsoluteUrl = exports.isSameOrigin = exports.isNodeJS = exports.isSpace = exports.isString = exports.isNum = exports.isInt = exports.isEmptyObj = exports.isBool = exports.isArrayBuffer = exports.isArray = exports.info = exports.globalScope = exports.getVerbosityLevel = exports.getLookupTableFactory = exports.deprecated = exports.createObjectURL = exports.createPromiseCapability = exports.createBlob = exports.bytesToString = exports.assert = exports.arraysToBytes = exports.arrayByteLength = exports.FormatError = exports.XRefParseException = exports.Util = exports.UnknownErrorException = exports.UnexpectedResponseException = exports.TextRenderingMode = exports.StreamType = exports.StatTimer = exports.PasswordResponses = exports.PasswordException = exports.PageViewport = exports.NotImplementedException = exports.NativeImageDecoding = exports.MissingPDFException = exports.MissingDataException = exports.MessageHandler = exports.InvalidPDFException = exports.AbortException = exports.CMapCompressionType = exports.ImageKind = exports.FontType = exports.AnnotationType = exports.AnnotationFlag = exports.AnnotationFieldFlag = exports.AnnotationBorderStyleType = exports.UNSUPPORTED_FEATURES = exports.VERBOSITY_LEVELS = exports.OPS = exports.IDENTITY_MATRIX = exports.FONT_IDENTITY_MATRIX = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      __w_pdfjs_require__(16);\n\n      var _streams_polyfill = __w_pdfjs_require__(17);\n\n      var globalScope = typeof window !== 'undefined' && window.Math === Math ? window : typeof global !== 'undefined' && global.Math === Math ? global : typeof self !== 'undefined' && self.Math === Math ? self : undefined;\n      var FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n      var NativeImageDecoding = {\n        NONE: 'none',\n        DECODE: 'decode',\n        DISPLAY: 'display'\n      };\n      var TextRenderingMode = {\n        FILL: 0,\n        STROKE: 1,\n        FILL_STROKE: 2,\n        INVISIBLE: 3,\n        FILL_ADD_TO_PATH: 4,\n        STROKE_ADD_TO_PATH: 5,\n        FILL_STROKE_ADD_TO_PATH: 6,\n        ADD_TO_PATH: 7,\n        FILL_STROKE_MASK: 3,\n        ADD_TO_PATH_FLAG: 4\n      };\n      var ImageKind = {\n        GRAYSCALE_1BPP: 1,\n        RGB_24BPP: 2,\n        RGBA_32BPP: 3\n      };\n      var AnnotationType = {\n        TEXT: 1,\n        LINK: 2,\n        FREETEXT: 3,\n        LINE: 4,\n        SQUARE: 5,\n        CIRCLE: 6,\n        POLYGON: 7,\n        POLYLINE: 8,\n        HIGHLIGHT: 9,\n        UNDERLINE: 10,\n        SQUIGGLY: 11,\n        STRIKEOUT: 12,\n        STAMP: 13,\n        CARET: 14,\n        INK: 15,\n        POPUP: 16,\n        FILEATTACHMENT: 17,\n        SOUND: 18,\n        MOVIE: 19,\n        WIDGET: 20,\n        SCREEN: 21,\n        PRINTERMARK: 22,\n        TRAPNET: 23,\n        WATERMARK: 24,\n        THREED: 25,\n        REDACT: 26\n      };\n      var AnnotationFlag = {\n        INVISIBLE: 0x01,\n        HIDDEN: 0x02,\n        PRINT: 0x04,\n        NOZOOM: 0x08,\n        NOROTATE: 0x10,\n        NOVIEW: 0x20,\n        READONLY: 0x40,\n        LOCKED: 0x80,\n        TOGGLENOVIEW: 0x100,\n        LOCKEDCONTENTS: 0x200\n      };\n      var AnnotationFieldFlag = {\n        READONLY: 0x0000001,\n        REQUIRED: 0x0000002,\n        NOEXPORT: 0x0000004,\n        MULTILINE: 0x0001000,\n        PASSWORD: 0x0002000,\n        NOTOGGLETOOFF: 0x0004000,\n        RADIO: 0x0008000,\n        PUSHBUTTON: 0x0010000,\n        COMBO: 0x0020000,\n        EDIT: 0x0040000,\n        SORT: 0x0080000,\n        FILESELECT: 0x0100000,\n        MULTISELECT: 0x0200000,\n        DONOTSPELLCHECK: 0x0400000,\n        DONOTSCROLL: 0x0800000,\n        COMB: 0x1000000,\n        RICHTEXT: 0x2000000,\n        RADIOSINUNISON: 0x2000000,\n        COMMITONSELCHANGE: 0x4000000\n      };\n      var AnnotationBorderStyleType = {\n        SOLID: 1,\n        DASHED: 2,\n        BEVELED: 3,\n        INSET: 4,\n        UNDERLINE: 5\n      };\n      var StreamType = {\n        UNKNOWN: 0,\n        FLATE: 1,\n        LZW: 2,\n        DCT: 3,\n        JPX: 4,\n        JBIG: 5,\n        A85: 6,\n        AHX: 7,\n        CCF: 8,\n        RL: 9\n      };\n      var FontType = {\n        UNKNOWN: 0,\n        TYPE1: 1,\n        TYPE1C: 2,\n        CIDFONTTYPE0: 3,\n        CIDFONTTYPE0C: 4,\n        TRUETYPE: 5,\n        CIDFONTTYPE2: 6,\n        TYPE3: 7,\n        OPENTYPE: 8,\n        TYPE0: 9,\n        MMTYPE1: 10\n      };\n      var VERBOSITY_LEVELS = {\n        errors: 0,\n        warnings: 1,\n        infos: 5\n      };\n      var CMapCompressionType = {\n        NONE: 0,\n        BINARY: 1,\n        STREAM: 2\n      };\n      var OPS = {\n        dependency: 1,\n        setLineWidth: 2,\n        setLineCap: 3,\n        setLineJoin: 4,\n        setMiterLimit: 5,\n        setDash: 6,\n        setRenderingIntent: 7,\n        setFlatness: 8,\n        setGState: 9,\n        save: 10,\n        restore: 11,\n        transform: 12,\n        moveTo: 13,\n        lineTo: 14,\n        curveTo: 15,\n        curveTo2: 16,\n        curveTo3: 17,\n        closePath: 18,\n        rectangle: 19,\n        stroke: 20,\n        closeStroke: 21,\n        fill: 22,\n        eoFill: 23,\n        fillStroke: 24,\n        eoFillStroke: 25,\n        closeFillStroke: 26,\n        closeEOFillStroke: 27,\n        endPath: 28,\n        clip: 29,\n        eoClip: 30,\n        beginText: 31,\n        endText: 32,\n        setCharSpacing: 33,\n        setWordSpacing: 34,\n        setHScale: 35,\n        setLeading: 36,\n        setFont: 37,\n        setTextRenderingMode: 38,\n        setTextRise: 39,\n        moveText: 40,\n        setLeadingMoveText: 41,\n        setTextMatrix: 42,\n        nextLine: 43,\n        showText: 44,\n        showSpacedText: 45,\n        nextLineShowText: 46,\n        nextLineSetSpacingShowText: 47,\n        setCharWidth: 48,\n        setCharWidthAndBounds: 49,\n        setStrokeColorSpace: 50,\n        setFillColorSpace: 51,\n        setStrokeColor: 52,\n        setStrokeColorN: 53,\n        setFillColor: 54,\n        setFillColorN: 55,\n        setStrokeGray: 56,\n        setFillGray: 57,\n        setStrokeRGBColor: 58,\n        setFillRGBColor: 59,\n        setStrokeCMYKColor: 60,\n        setFillCMYKColor: 61,\n        shadingFill: 62,\n        beginInlineImage: 63,\n        beginImageData: 64,\n        endInlineImage: 65,\n        paintXObject: 66,\n        markPoint: 67,\n        markPointProps: 68,\n        beginMarkedContent: 69,\n        beginMarkedContentProps: 70,\n        endMarkedContent: 71,\n        beginCompat: 72,\n        endCompat: 73,\n        paintFormXObjectBegin: 74,\n        paintFormXObjectEnd: 75,\n        beginGroup: 76,\n        endGroup: 77,\n        beginAnnotations: 78,\n        endAnnotations: 79,\n        beginAnnotation: 80,\n        endAnnotation: 81,\n        paintJpegXObject: 82,\n        paintImageMaskXObject: 83,\n        paintImageMaskXObjectGroup: 84,\n        paintImageXObject: 85,\n        paintInlineImageXObject: 86,\n        paintInlineImageXObjectGroup: 87,\n        paintImageXObjectRepeat: 88,\n        paintImageMaskXObjectRepeat: 89,\n        paintSolidColorImageMask: 90,\n        constructPath: 91\n      };\n      var verbosity = VERBOSITY_LEVELS.warnings;\n\n      function setVerbosityLevel(level) {\n        verbosity = level;\n      }\n\n      function getVerbosityLevel() {\n        return verbosity;\n      }\n\n      function info(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.infos) {\n          console.log('Info: ' + msg);\n        }\n      }\n\n      function warn(msg) {\n        if (verbosity >= VERBOSITY_LEVELS.warnings) {\n          console.log('Warning: ' + msg);\n        }\n      }\n\n      function deprecated(details) {\n        console.log('Deprecated API usage: ' + details);\n      }\n\n      function unreachable(msg) {\n        throw new Error(msg);\n      }\n\n      function assert(cond, msg) {\n        if (!cond) {\n          unreachable(msg);\n        }\n      }\n\n      var UNSUPPORTED_FEATURES = {\n        unknown: 'unknown',\n        forms: 'forms',\n        javaScript: 'javaScript',\n        smask: 'smask',\n        shadingPattern: 'shadingPattern',\n        font: 'font'\n      };\n\n      function isSameOrigin(baseUrl, otherUrl) {\n        try {\n          var base = new URL(baseUrl);\n\n          if (!base.origin || base.origin === 'null') {\n            return false;\n          }\n        } catch (e) {\n          return false;\n        }\n\n        var other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      }\n\n      function isValidProtocol(url) {\n        if (!url) {\n          return false;\n        }\n\n        switch (url.protocol) {\n          case 'http:':\n          case 'https:':\n          case 'ftp:':\n          case 'mailto:':\n          case 'tel:':\n            return true;\n\n          default:\n            return false;\n        }\n      }\n\n      function createValidAbsoluteUrl(url, baseUrl) {\n        if (!url) {\n          return null;\n        }\n\n        try {\n          var absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n\n          if (isValidProtocol(absoluteUrl)) {\n            return absoluteUrl;\n          }\n        } catch (ex) {}\n\n        return null;\n      }\n\n      function shadow(obj, prop, value) {\n        Object.defineProperty(obj, prop, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n        return value;\n      }\n\n      function getLookupTableFactory(initializer) {\n        var lookup;\n        return function () {\n          if (initializer) {\n            lookup = Object.create(null);\n            initializer(lookup);\n            initializer = null;\n          }\n\n          return lookup;\n        };\n      }\n\n      var PasswordResponses = {\n        NEED_PASSWORD: 1,\n        INCORRECT_PASSWORD: 2\n      };\n\n      var PasswordException = function PasswordExceptionClosure() {\n        function PasswordException(msg, code) {\n          this.name = 'PasswordException';\n          this.message = msg;\n          this.code = code;\n        }\n\n        PasswordException.prototype = new Error();\n        PasswordException.constructor = PasswordException;\n        return PasswordException;\n      }();\n\n      var UnknownErrorException = function UnknownErrorExceptionClosure() {\n        function UnknownErrorException(msg, details) {\n          this.name = 'UnknownErrorException';\n          this.message = msg;\n          this.details = details;\n        }\n\n        UnknownErrorException.prototype = new Error();\n        UnknownErrorException.constructor = UnknownErrorException;\n        return UnknownErrorException;\n      }();\n\n      var InvalidPDFException = function InvalidPDFExceptionClosure() {\n        function InvalidPDFException(msg) {\n          this.name = 'InvalidPDFException';\n          this.message = msg;\n        }\n\n        InvalidPDFException.prototype = new Error();\n        InvalidPDFException.constructor = InvalidPDFException;\n        return InvalidPDFException;\n      }();\n\n      var MissingPDFException = function MissingPDFExceptionClosure() {\n        function MissingPDFException(msg) {\n          this.name = 'MissingPDFException';\n          this.message = msg;\n        }\n\n        MissingPDFException.prototype = new Error();\n        MissingPDFException.constructor = MissingPDFException;\n        return MissingPDFException;\n      }();\n\n      var UnexpectedResponseException = function UnexpectedResponseExceptionClosure() {\n        function UnexpectedResponseException(msg, status) {\n          this.name = 'UnexpectedResponseException';\n          this.message = msg;\n          this.status = status;\n        }\n\n        UnexpectedResponseException.prototype = new Error();\n        UnexpectedResponseException.constructor = UnexpectedResponseException;\n        return UnexpectedResponseException;\n      }();\n\n      var NotImplementedException = function NotImplementedExceptionClosure() {\n        function NotImplementedException(msg) {\n          this.message = msg;\n        }\n\n        NotImplementedException.prototype = new Error();\n        NotImplementedException.prototype.name = 'NotImplementedException';\n        NotImplementedException.constructor = NotImplementedException;\n        return NotImplementedException;\n      }();\n\n      var MissingDataException = function MissingDataExceptionClosure() {\n        function MissingDataException(begin, end) {\n          this.begin = begin;\n          this.end = end;\n          this.message = 'Missing data [' + begin + ', ' + end + ')';\n        }\n\n        MissingDataException.prototype = new Error();\n        MissingDataException.prototype.name = 'MissingDataException';\n        MissingDataException.constructor = MissingDataException;\n        return MissingDataException;\n      }();\n\n      var XRefParseException = function XRefParseExceptionClosure() {\n        function XRefParseException(msg) {\n          this.message = msg;\n        }\n\n        XRefParseException.prototype = new Error();\n        XRefParseException.prototype.name = 'XRefParseException';\n        XRefParseException.constructor = XRefParseException;\n        return XRefParseException;\n      }();\n\n      var FormatError = function FormatErrorClosure() {\n        function FormatError(msg) {\n          this.message = msg;\n        }\n\n        FormatError.prototype = new Error();\n        FormatError.prototype.name = 'FormatError';\n        FormatError.constructor = FormatError;\n        return FormatError;\n      }();\n\n      var AbortException = function AbortExceptionClosure() {\n        function AbortException(msg) {\n          this.name = 'AbortException';\n          this.message = msg;\n        }\n\n        AbortException.prototype = new Error();\n        AbortException.constructor = AbortException;\n        return AbortException;\n      }();\n\n      var NullCharactersRegExp = /\\x00/g;\n\n      function removeNullCharacters(str) {\n        if (typeof str !== 'string') {\n          warn('The argument for removeNullCharacters must be a string.');\n          return str;\n        }\n\n        return str.replace(NullCharactersRegExp, '');\n      }\n\n      function bytesToString(bytes) {\n        assert(bytes !== null && (typeof bytes === 'undefined' ? 'undefined' : _typeof(bytes)) === 'object' && bytes.length !== undefined, 'Invalid argument for bytesToString');\n        var length = bytes.length;\n        var MAX_ARGUMENT_COUNT = 8192;\n\n        if (length < MAX_ARGUMENT_COUNT) {\n          return String.fromCharCode.apply(null, bytes);\n        }\n\n        var strBuf = [];\n\n        for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n          var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n          var chunk = bytes.subarray(i, chunkEnd);\n          strBuf.push(String.fromCharCode.apply(null, chunk));\n        }\n\n        return strBuf.join('');\n      }\n\n      function stringToBytes(str) {\n        assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n        var length = str.length;\n        var bytes = new Uint8Array(length);\n\n        for (var i = 0; i < length; ++i) {\n          bytes[i] = str.charCodeAt(i) & 0xFF;\n        }\n\n        return bytes;\n      }\n\n      function arrayByteLength(arr) {\n        if (arr.length !== undefined) {\n          return arr.length;\n        }\n\n        assert(arr.byteLength !== undefined);\n        return arr.byteLength;\n      }\n\n      function arraysToBytes(arr) {\n        if (arr.length === 1 && arr[0] instanceof Uint8Array) {\n          return arr[0];\n        }\n\n        var resultLength = 0;\n        var i,\n            ii = arr.length;\n        var item, itemLength;\n\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n          itemLength = arrayByteLength(item);\n          resultLength += itemLength;\n        }\n\n        var pos = 0;\n        var data = new Uint8Array(resultLength);\n\n        for (i = 0; i < ii; i++) {\n          item = arr[i];\n\n          if (!(item instanceof Uint8Array)) {\n            if (typeof item === 'string') {\n              item = stringToBytes(item);\n            } else {\n              item = new Uint8Array(item);\n            }\n          }\n\n          itemLength = item.byteLength;\n          data.set(item, pos);\n          pos += itemLength;\n        }\n\n        return data;\n      }\n\n      function string32(value) {\n        return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n      }\n\n      function log2(x) {\n        var n = 1,\n            i = 0;\n\n        while (x > n) {\n          n <<= 1;\n          i++;\n        }\n\n        return i;\n      }\n\n      function readInt8(data, start) {\n        return data[start] << 24 >> 24;\n      }\n\n      function readUint16(data, offset) {\n        return data[offset] << 8 | data[offset + 1];\n      }\n\n      function readUint32(data, offset) {\n        return (data[offset] << 24 | data[offset + 1] << 16 | data[offset + 2] << 8 | data[offset + 3]) >>> 0;\n      }\n\n      function isLittleEndian() {\n        var buffer8 = new Uint8Array(4);\n        buffer8[0] = 1;\n        var view32 = new Uint32Array(buffer8.buffer, 0, 1);\n        return view32[0] === 1;\n      }\n\n      function isEvalSupported() {\n        try {\n          new Function('');\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n\n      var IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\n      var Util = function UtilClosure() {\n        function Util() {}\n\n        var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n        Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n          rgbBuf[1] = r;\n          rgbBuf[3] = g;\n          rgbBuf[5] = b;\n          return rgbBuf.join('');\n        };\n\n        Util.transform = function Util_transform(m1, m2) {\n          return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n        };\n\n        Util.applyTransform = function Util_applyTransform(p, m) {\n          var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n          var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n          return [xt, yt];\n        };\n\n        Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n          var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n          return [xt, yt];\n        };\n\n        Util.getAxialAlignedBoundingBox = function Util_getAxialAlignedBoundingBox(r, m) {\n          var p1 = Util.applyTransform(r, m);\n          var p2 = Util.applyTransform(r.slice(2, 4), m);\n          var p3 = Util.applyTransform([r[0], r[3]], m);\n          var p4 = Util.applyTransform([r[2], r[1]], m);\n          return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n        };\n\n        Util.inverseTransform = function Util_inverseTransform(m) {\n          var d = m[0] * m[3] - m[1] * m[2];\n          return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n        };\n\n        Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n          return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[3] * v[0] + m[4] * v[1] + m[5] * v[2], m[6] * v[0] + m[7] * v[1] + m[8] * v[2]];\n        };\n\n        Util.singularValueDecompose2dScale = function Util_singularValueDecompose2dScale(m) {\n          var transpose = [m[0], m[2], m[1], m[3]];\n          var a = m[0] * transpose[0] + m[1] * transpose[2];\n          var b = m[0] * transpose[1] + m[1] * transpose[3];\n          var c = m[2] * transpose[0] + m[3] * transpose[2];\n          var d = m[2] * transpose[1] + m[3] * transpose[3];\n          var first = (a + d) / 2;\n          var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n          var sx = first + second || 1;\n          var sy = first - second || 1;\n          return [Math.sqrt(sx), Math.sqrt(sy)];\n        };\n\n        Util.normalizeRect = function Util_normalizeRect(rect) {\n          var r = rect.slice(0);\n\n          if (rect[0] > rect[2]) {\n            r[0] = rect[2];\n            r[2] = rect[0];\n          }\n\n          if (rect[1] > rect[3]) {\n            r[1] = rect[3];\n            r[3] = rect[1];\n          }\n\n          return r;\n        };\n\n        Util.intersect = function Util_intersect(rect1, rect2) {\n          function compare(a, b) {\n            return a - b;\n          }\n\n          var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n              orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n              result = [];\n          rect1 = Util.normalizeRect(rect1);\n          rect2 = Util.normalizeRect(rect2);\n\n          if (orderedX[0] === rect1[0] && orderedX[1] === rect2[0] || orderedX[0] === rect2[0] && orderedX[1] === rect1[0]) {\n            result[0] = orderedX[1];\n            result[2] = orderedX[2];\n          } else {\n            return false;\n          }\n\n          if (orderedY[0] === rect1[1] && orderedY[1] === rect2[1] || orderedY[0] === rect2[1] && orderedY[1] === rect1[1]) {\n            result[1] = orderedY[1];\n            result[3] = orderedY[2];\n          } else {\n            return false;\n          }\n\n          return result;\n        };\n\n        Util.sign = function Util_sign(num) {\n          return num < 0 ? -1 : 1;\n        };\n\n        var ROMAN_NUMBER_MAP = ['', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM', '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC', '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'];\n\n        Util.toRoman = function Util_toRoman(number, lowerCase) {\n          assert(isInt(number) && number > 0, 'The number should be a positive integer.');\n          var pos,\n              romanBuf = [];\n\n          while (number >= 1000) {\n            number -= 1000;\n            romanBuf.push('M');\n          }\n\n          pos = number / 100 | 0;\n          number %= 100;\n          romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n          pos = number / 10 | 0;\n          number %= 10;\n          romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n          romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n          var romanStr = romanBuf.join('');\n          return lowerCase ? romanStr.toLowerCase() : romanStr;\n        };\n\n        Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n          Array.prototype.push.apply(arr1, arr2);\n        };\n\n        Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n          Array.prototype.unshift.apply(arr1, arr2);\n        };\n\n        Util.extendObj = function extendObj(obj1, obj2) {\n          for (var key in obj2) {\n            obj1[key] = obj2[key];\n          }\n        };\n\n        Util.getInheritableProperty = function Util_getInheritableProperty(dict, name, getArray) {\n          while (dict && !dict.has(name)) {\n            dict = dict.get('Parent');\n          }\n\n          if (!dict) {\n            return null;\n          }\n\n          return getArray ? dict.getArray(name) : dict.get(name);\n        };\n\n        Util.inherit = function Util_inherit(sub, base, prototype) {\n          sub.prototype = Object.create(base.prototype);\n          sub.prototype.constructor = sub;\n\n          for (var prop in prototype) {\n            sub.prototype[prop] = prototype[prop];\n          }\n        };\n\n        Util.loadScript = function Util_loadScript(src, callback) {\n          var script = document.createElement('script');\n          var loaded = false;\n          script.setAttribute('src', src);\n\n          if (callback) {\n            script.onload = function () {\n              if (!loaded) {\n                callback();\n              }\n\n              loaded = true;\n            };\n          }\n\n          document.getElementsByTagName('head')[0].appendChild(script);\n        };\n\n        return Util;\n      }();\n\n      var PageViewport = function PageViewportClosure() {\n        function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n          this.viewBox = viewBox;\n          this.scale = scale;\n          this.rotation = rotation;\n          this.offsetX = offsetX;\n          this.offsetY = offsetY;\n          var centerX = (viewBox[2] + viewBox[0]) / 2;\n          var centerY = (viewBox[3] + viewBox[1]) / 2;\n          var rotateA, rotateB, rotateC, rotateD;\n          rotation = rotation % 360;\n          rotation = rotation < 0 ? rotation + 360 : rotation;\n\n          switch (rotation) {\n            case 180:\n              rotateA = -1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = 1;\n              break;\n\n            case 90:\n              rotateA = 0;\n              rotateB = 1;\n              rotateC = 1;\n              rotateD = 0;\n              break;\n\n            case 270:\n              rotateA = 0;\n              rotateB = -1;\n              rotateC = -1;\n              rotateD = 0;\n              break;\n\n            default:\n              rotateA = 1;\n              rotateB = 0;\n              rotateC = 0;\n              rotateD = -1;\n              break;\n          }\n\n          if (dontFlip) {\n            rotateC = -rotateC;\n            rotateD = -rotateD;\n          }\n\n          var offsetCanvasX, offsetCanvasY;\n          var width, height;\n\n          if (rotateA === 0) {\n            offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n            width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n            height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n          } else {\n            offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n            offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n            width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n            height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n          }\n\n          this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n          this.width = width;\n          this.height = height;\n          this.fontScale = scale;\n        }\n\n        PageViewport.prototype = {\n          clone: function PageViewPort_clone(args) {\n            args = args || {};\n            var scale = 'scale' in args ? args.scale : this.scale;\n            var rotation = 'rotation' in args ? args.rotation : this.rotation;\n            return new PageViewport(this.viewBox.slice(), scale, rotation, this.offsetX, this.offsetY, args.dontFlip);\n          },\n          convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n            return Util.applyTransform([x, y], this.transform);\n          },\n          convertToViewportRectangle: function PageViewport_convertToViewportRectangle(rect) {\n            var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n            var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n            return [tl[0], tl[1], br[0], br[1]];\n          },\n          convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n            return Util.applyInverseTransform([x, y], this.transform);\n          }\n        };\n        return PageViewport;\n      }();\n\n      var PDFStringTranslateTable = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C, 0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160, 0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC];\n\n      function stringToPDFString(str) {\n        var i,\n            n = str.length,\n            strBuf = [];\n\n        if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n          for (i = 2; i < n; i += 2) {\n            strBuf.push(String.fromCharCode(str.charCodeAt(i) << 8 | str.charCodeAt(i + 1)));\n          }\n        } else {\n          for (i = 0; i < n; ++i) {\n            var code = PDFStringTranslateTable[str.charCodeAt(i)];\n            strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n          }\n        }\n\n        return strBuf.join('');\n      }\n\n      function stringToUTF8String(str) {\n        return decodeURIComponent(escape(str));\n      }\n\n      function utf8StringToString(str) {\n        return unescape(encodeURIComponent(str));\n      }\n\n      function isEmptyObj(obj) {\n        for (var key in obj) {\n          return false;\n        }\n\n        return true;\n      }\n\n      function isBool(v) {\n        return typeof v === 'boolean';\n      }\n\n      function isInt(v) {\n        return typeof v === 'number' && (v | 0) === v;\n      }\n\n      function isNum(v) {\n        return typeof v === 'number';\n      }\n\n      function isString(v) {\n        return typeof v === 'string';\n      }\n\n      function isArray(v) {\n        return v instanceof Array;\n      }\n\n      function isArrayBuffer(v) {\n        return (typeof v === 'undefined' ? 'undefined' : _typeof(v)) === 'object' && v !== null && v.byteLength !== undefined;\n      }\n\n      function isSpace(ch) {\n        return ch === 0x20 || ch === 0x09 || ch === 0x0D || ch === 0x0A;\n      }\n\n      function isNodeJS() {\n        return (typeof process === 'undefined' ? 'undefined' : _typeof(process)) === 'object' && process + '' === '[object process]';\n      }\n\n      function createPromiseCapability() {\n        var capability = {};\n        capability.promise = new Promise(function (resolve, reject) {\n          capability.resolve = resolve;\n          capability.reject = reject;\n        });\n        return capability;\n      }\n\n      var StatTimer = function StatTimerClosure() {\n        function rpad(str, pad, length) {\n          while (str.length < length) {\n            str += pad;\n          }\n\n          return str;\n        }\n\n        function StatTimer() {\n          this.started = Object.create(null);\n          this.times = [];\n          this.enabled = true;\n        }\n\n        StatTimer.prototype = {\n          time: function StatTimer_time(name) {\n            if (!this.enabled) {\n              return;\n            }\n\n            if (name in this.started) {\n              warn('Timer is already running for ' + name);\n            }\n\n            this.started[name] = Date.now();\n          },\n          timeEnd: function StatTimer_timeEnd(name) {\n            if (!this.enabled) {\n              return;\n            }\n\n            if (!(name in this.started)) {\n              warn('Timer has not been started for ' + name);\n            }\n\n            this.times.push({\n              'name': name,\n              'start': this.started[name],\n              'end': Date.now()\n            });\n            delete this.started[name];\n          },\n          toString: function StatTimer_toString() {\n            var i, ii;\n            var times = this.times;\n            var out = '';\n            var longest = 0;\n\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var name = times[i]['name'];\n\n              if (name.length > longest) {\n                longest = name.length;\n              }\n            }\n\n            for (i = 0, ii = times.length; i < ii; ++i) {\n              var span = times[i];\n              var duration = span.end - span.start;\n              out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n            }\n\n            return out;\n          }\n        };\n        return StatTimer;\n      }();\n\n      var createBlob = function createBlob(data, contentType) {\n        if (typeof Blob !== 'undefined') {\n          return new Blob([data], {\n            type: contentType\n          });\n        }\n\n        throw new Error('The \"Blob\" constructor is not supported.');\n      };\n\n      var createObjectURL = function createObjectURLClosure() {\n        var digits = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        return function createObjectURL(data, contentType) {\n          var forceDataSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n          if (!forceDataSchema && URL.createObjectURL) {\n            var blob = createBlob(data, contentType);\n            return URL.createObjectURL(blob);\n          }\n\n          var buffer = 'data:' + contentType + ';base64,';\n\n          for (var i = 0, ii = data.length; i < ii; i += 3) {\n            var b1 = data[i] & 0xFF;\n            var b2 = data[i + 1] & 0xFF;\n            var b3 = data[i + 2] & 0xFF;\n            var d1 = b1 >> 2,\n                d2 = (b1 & 3) << 4 | b2 >> 4;\n            var d3 = i + 1 < ii ? (b2 & 0xF) << 2 | b3 >> 6 : 64;\n            var d4 = i + 2 < ii ? b3 & 0x3F : 64;\n            buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n          }\n\n          return buffer;\n        };\n      }();\n\n      function resolveCall(fn, args) {\n        var thisArg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n        if (!fn) {\n          return Promise.resolve(undefined);\n        }\n\n        return new Promise(function (resolve, reject) {\n          resolve(fn.apply(thisArg, args));\n        });\n      }\n\n      function wrapReason(reason) {\n        if ((typeof reason === 'undefined' ? 'undefined' : _typeof(reason)) !== 'object') {\n          return reason;\n        }\n\n        switch (reason.name) {\n          case 'AbortException':\n            return new AbortException(reason.message);\n\n          case 'MissingPDFException':\n            return new MissingPDFException(reason.message);\n\n          case 'UnexpectedResponseException':\n            return new UnexpectedResponseException(reason.message, reason.status);\n\n          default:\n            return new UnknownErrorException(reason.message, reason.details);\n        }\n      }\n\n      function resolveOrReject(capability, success, reason) {\n        if (success) {\n          capability.resolve();\n        } else {\n          capability.reject(reason);\n        }\n      }\n\n      function finalize(promise) {\n        return Promise.resolve(promise).catch(function () {});\n      }\n\n      function MessageHandler(sourceName, targetName, comObj) {\n        var _this = this;\n\n        this.sourceName = sourceName;\n        this.targetName = targetName;\n        this.comObj = comObj;\n        this.callbackId = 1;\n        this.streamId = 1;\n        this.postMessageTransfers = true;\n        this.streamSinks = Object.create(null);\n        this.streamControllers = Object.create(null);\n        var callbacksCapabilities = this.callbacksCapabilities = Object.create(null);\n        var ah = this.actionHandler = Object.create(null);\n\n        this._onComObjOnMessage = function (event) {\n          var data = event.data;\n\n          if (data.targetName !== _this.sourceName) {\n            return;\n          }\n\n          if (data.stream) {\n            _this._processStreamMessage(data);\n          } else if (data.isReply) {\n            var callbackId = data.callbackId;\n\n            if (data.callbackId in callbacksCapabilities) {\n              var callback = callbacksCapabilities[callbackId];\n              delete callbacksCapabilities[callbackId];\n\n              if ('error' in data) {\n                callback.reject(wrapReason(data.error));\n              } else {\n                callback.resolve(data.data);\n              }\n            } else {\n              throw new Error('Cannot resolve callback ' + callbackId);\n            }\n          } else if (data.action in ah) {\n            var action = ah[data.action];\n\n            if (data.callbackId) {\n              var _sourceName = _this.sourceName;\n              var _targetName = data.sourceName;\n              Promise.resolve().then(function () {\n                return action[0].call(action[1], data.data);\n              }).then(function (result) {\n                comObj.postMessage({\n                  sourceName: _sourceName,\n                  targetName: _targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  data: result\n                });\n              }, function (reason) {\n                if (reason instanceof Error) {\n                  reason = reason + '';\n                }\n\n                comObj.postMessage({\n                  sourceName: _sourceName,\n                  targetName: _targetName,\n                  isReply: true,\n                  callbackId: data.callbackId,\n                  error: reason\n                });\n              });\n            } else if (data.streamId) {\n              _this._createStreamSink(data);\n            } else {\n              action[0].call(action[1], data.data);\n            }\n          } else {\n            throw new Error('Unknown action from worker: ' + data.action);\n          }\n        };\n\n        comObj.addEventListener('message', this._onComObjOnMessage);\n      }\n\n      MessageHandler.prototype = {\n        on: function on(actionName, handler, scope) {\n          var ah = this.actionHandler;\n\n          if (ah[actionName]) {\n            throw new Error('There is already an actionName called \"' + actionName + '\"');\n          }\n\n          ah[actionName] = [handler, scope];\n        },\n        send: function send(actionName, data, transfers) {\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data\n          };\n          this.postMessage(message, transfers);\n        },\n        sendWithPromise: function sendWithPromise(actionName, data, transfers) {\n          var callbackId = this.callbackId++;\n          var message = {\n            sourceName: this.sourceName,\n            targetName: this.targetName,\n            action: actionName,\n            data: data,\n            callbackId: callbackId\n          };\n          var capability = createPromiseCapability();\n          this.callbacksCapabilities[callbackId] = capability;\n\n          try {\n            this.postMessage(message, transfers);\n          } catch (e) {\n            capability.reject(e);\n          }\n\n          return capability.promise;\n        },\n        sendWithStream: function sendWithStream(actionName, data, queueingStrategy, transfers) {\n          var _this2 = this;\n\n          var streamId = this.streamId++;\n          var sourceName = this.sourceName;\n          var targetName = this.targetName;\n          return new _streams_polyfill.ReadableStream({\n            start: function start(controller) {\n              var startCapability = createPromiseCapability();\n              _this2.streamControllers[streamId] = {\n                controller: controller,\n                startCall: startCapability,\n                isClosed: false\n              };\n\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                action: actionName,\n                streamId: streamId,\n                data: data,\n                desiredSize: controller.desiredSize\n              });\n\n              return startCapability.promise;\n            },\n            pull: function pull(controller) {\n              var pullCapability = createPromiseCapability();\n              _this2.streamControllers[streamId].pullCall = pullCapability;\n\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                stream: 'pull',\n                streamId: streamId,\n                desiredSize: controller.desiredSize\n              });\n\n              return pullCapability.promise;\n            },\n            cancel: function cancel(reason) {\n              var cancelCapability = createPromiseCapability();\n              _this2.streamControllers[streamId].cancelCall = cancelCapability;\n              _this2.streamControllers[streamId].isClosed = true;\n\n              _this2.postMessage({\n                sourceName: sourceName,\n                targetName: targetName,\n                stream: 'cancel',\n                reason: reason,\n                streamId: streamId\n              });\n\n              return cancelCapability.promise;\n            }\n          }, queueingStrategy);\n        },\n        _createStreamSink: function _createStreamSink(data) {\n          var _this3 = this;\n\n          var self = this;\n          var action = this.actionHandler[data.action];\n          var streamId = data.streamId;\n          var desiredSize = data.desiredSize;\n          var sourceName = this.sourceName;\n          var targetName = data.sourceName;\n          var capability = createPromiseCapability();\n\n          var sendStreamRequest = function sendStreamRequest(_ref) {\n            var stream = _ref.stream,\n                chunk = _ref.chunk,\n                transfers = _ref.transfers,\n                success = _ref.success,\n                reason = _ref.reason;\n\n            _this3.postMessage({\n              sourceName: sourceName,\n              targetName: targetName,\n              stream: stream,\n              streamId: streamId,\n              chunk: chunk,\n              success: success,\n              reason: reason\n            }, transfers);\n          };\n\n          var streamSink = {\n            enqueue: function enqueue(chunk) {\n              var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var transfers = arguments[2];\n\n              if (this.isCancelled) {\n                return;\n              }\n\n              var lastDesiredSize = this.desiredSize;\n              this.desiredSize -= size;\n\n              if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n                this.sinkCapability = createPromiseCapability();\n                this.ready = this.sinkCapability.promise;\n              }\n\n              sendStreamRequest({\n                stream: 'enqueue',\n                chunk: chunk,\n                transfers: transfers\n              });\n            },\n            close: function close() {\n              if (this.isCancelled) {\n                return;\n              }\n\n              sendStreamRequest({\n                stream: 'close'\n              });\n              delete self.streamSinks[streamId];\n            },\n            error: function error(reason) {\n              if (this.isCancelled) {\n                return;\n              }\n\n              this.isCancelled = true;\n              sendStreamRequest({\n                stream: 'error',\n                reason: reason\n              });\n            },\n            sinkCapability: capability,\n            onPull: null,\n            onCancel: null,\n            isCancelled: false,\n            desiredSize: desiredSize,\n            ready: null\n          };\n          streamSink.sinkCapability.resolve();\n          streamSink.ready = streamSink.sinkCapability.promise;\n          this.streamSinks[streamId] = streamSink;\n          resolveCall(action[0], [data.data, streamSink], action[1]).then(function () {\n            sendStreamRequest({\n              stream: 'start_complete',\n              success: true\n            });\n          }, function (reason) {\n            sendStreamRequest({\n              stream: 'start_complete',\n              success: false,\n              reason: reason\n            });\n          });\n        },\n        _processStreamMessage: function _processStreamMessage(data) {\n          var _this4 = this;\n\n          var sourceName = this.sourceName;\n          var targetName = data.sourceName;\n          var streamId = data.streamId;\n\n          var sendStreamResponse = function sendStreamResponse(_ref2) {\n            var stream = _ref2.stream,\n                success = _ref2.success,\n                reason = _ref2.reason;\n\n            _this4.comObj.postMessage({\n              sourceName: sourceName,\n              targetName: targetName,\n              stream: stream,\n              success: success,\n              streamId: streamId,\n              reason: reason\n            });\n          };\n\n          var deleteStreamController = function deleteStreamController() {\n            Promise.all([_this4.streamControllers[data.streamId].startCall, _this4.streamControllers[data.streamId].pullCall, _this4.streamControllers[data.streamId].cancelCall].map(function (capability) {\n              return capability && finalize(capability.promise);\n            })).then(function () {\n              delete _this4.streamControllers[data.streamId];\n            });\n          };\n\n          switch (data.stream) {\n            case 'start_complete':\n              resolveOrReject(this.streamControllers[data.streamId].startCall, data.success, wrapReason(data.reason));\n              break;\n\n            case 'pull_complete':\n              resolveOrReject(this.streamControllers[data.streamId].pullCall, data.success, wrapReason(data.reason));\n              break;\n\n            case 'pull':\n              if (!this.streamSinks[data.streamId]) {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: true\n                });\n                break;\n              }\n\n              if (this.streamSinks[data.streamId].desiredSize <= 0 && data.desiredSize > 0) {\n                this.streamSinks[data.streamId].sinkCapability.resolve();\n              }\n\n              this.streamSinks[data.streamId].desiredSize = data.desiredSize;\n              resolveCall(this.streamSinks[data.streamId].onPull).then(function () {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: true\n                });\n              }, function (reason) {\n                sendStreamResponse({\n                  stream: 'pull_complete',\n                  success: false,\n                  reason: reason\n                });\n              });\n              break;\n\n            case 'enqueue':\n              assert(this.streamControllers[data.streamId], 'enqueue should have stream controller');\n\n              if (!this.streamControllers[data.streamId].isClosed) {\n                this.streamControllers[data.streamId].controller.enqueue(data.chunk);\n              }\n\n              break;\n\n            case 'close':\n              assert(this.streamControllers[data.streamId], 'close should have stream controller');\n\n              if (this.streamControllers[data.streamId].isClosed) {\n                break;\n              }\n\n              this.streamControllers[data.streamId].isClosed = true;\n              this.streamControllers[data.streamId].controller.close();\n              deleteStreamController();\n              break;\n\n            case 'error':\n              assert(this.streamControllers[data.streamId], 'error should have stream controller');\n              this.streamControllers[data.streamId].controller.error(wrapReason(data.reason));\n              deleteStreamController();\n              break;\n\n            case 'cancel_complete':\n              resolveOrReject(this.streamControllers[data.streamId].cancelCall, data.success, wrapReason(data.reason));\n              deleteStreamController();\n              break;\n\n            case 'cancel':\n              if (!this.streamSinks[data.streamId]) {\n                break;\n              }\n\n              resolveCall(this.streamSinks[data.streamId].onCancel, [wrapReason(data.reason)]).then(function () {\n                sendStreamResponse({\n                  stream: 'cancel_complete',\n                  success: true\n                });\n              }, function (reason) {\n                sendStreamResponse({\n                  stream: 'cancel_complete',\n                  success: false,\n                  reason: reason\n                });\n              });\n              this.streamSinks[data.streamId].sinkCapability.reject(wrapReason(data.reason));\n              this.streamSinks[data.streamId].isCancelled = true;\n              delete this.streamSinks[data.streamId];\n              break;\n\n            default:\n              throw new Error('Unexpected stream case');\n          }\n        },\n        postMessage: function postMessage(message, transfers) {\n          if (transfers && this.postMessageTransfers) {\n            this.comObj.postMessage(message, transfers);\n          } else {\n            this.comObj.postMessage(message);\n          }\n        },\n        destroy: function destroy() {\n          this.comObj.removeEventListener('message', this._onComObjOnMessage);\n        }\n      };\n\n      function loadJpegStream(id, imageUrl, objs) {\n        var img = new Image();\n\n        img.onload = function loadJpegStream_onloadClosure() {\n          objs.resolve(id, img);\n        };\n\n        img.onerror = function loadJpegStream_onerrorClosure() {\n          objs.resolve(id, null);\n          warn('Error during JPEG image loading');\n        };\n\n        img.src = imageUrl;\n      }\n\n      exports.FONT_IDENTITY_MATRIX = FONT_IDENTITY_MATRIX;\n      exports.IDENTITY_MATRIX = IDENTITY_MATRIX;\n      exports.OPS = OPS;\n      exports.VERBOSITY_LEVELS = VERBOSITY_LEVELS;\n      exports.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\n      exports.AnnotationBorderStyleType = AnnotationBorderStyleType;\n      exports.AnnotationFieldFlag = AnnotationFieldFlag;\n      exports.AnnotationFlag = AnnotationFlag;\n      exports.AnnotationType = AnnotationType;\n      exports.FontType = FontType;\n      exports.ImageKind = ImageKind;\n      exports.CMapCompressionType = CMapCompressionType;\n      exports.AbortException = AbortException;\n      exports.InvalidPDFException = InvalidPDFException;\n      exports.MessageHandler = MessageHandler;\n      exports.MissingDataException = MissingDataException;\n      exports.MissingPDFException = MissingPDFException;\n      exports.NativeImageDecoding = NativeImageDecoding;\n      exports.NotImplementedException = NotImplementedException;\n      exports.PageViewport = PageViewport;\n      exports.PasswordException = PasswordException;\n      exports.PasswordResponses = PasswordResponses;\n      exports.StatTimer = StatTimer;\n      exports.StreamType = StreamType;\n      exports.TextRenderingMode = TextRenderingMode;\n      exports.UnexpectedResponseException = UnexpectedResponseException;\n      exports.UnknownErrorException = UnknownErrorException;\n      exports.Util = Util;\n      exports.XRefParseException = XRefParseException;\n      exports.FormatError = FormatError;\n      exports.arrayByteLength = arrayByteLength;\n      exports.arraysToBytes = arraysToBytes;\n      exports.assert = assert;\n      exports.bytesToString = bytesToString;\n      exports.createBlob = createBlob;\n      exports.createPromiseCapability = createPromiseCapability;\n      exports.createObjectURL = createObjectURL;\n      exports.deprecated = deprecated;\n      exports.getLookupTableFactory = getLookupTableFactory;\n      exports.getVerbosityLevel = getVerbosityLevel;\n      exports.globalScope = globalScope;\n      exports.info = info;\n      exports.isArray = isArray;\n      exports.isArrayBuffer = isArrayBuffer;\n      exports.isBool = isBool;\n      exports.isEmptyObj = isEmptyObj;\n      exports.isInt = isInt;\n      exports.isNum = isNum;\n      exports.isString = isString;\n      exports.isSpace = isSpace;\n      exports.isNodeJS = isNodeJS;\n      exports.isSameOrigin = isSameOrigin;\n      exports.createValidAbsoluteUrl = createValidAbsoluteUrl;\n      exports.isLittleEndian = isLittleEndian;\n      exports.isEvalSupported = isEvalSupported;\n      exports.loadJpegStream = loadJpegStream;\n      exports.log2 = log2;\n      exports.readInt8 = readInt8;\n      exports.readUint16 = readUint16;\n      exports.readUint32 = readUint32;\n      exports.removeNullCharacters = removeNullCharacters;\n      exports.ReadableStream = _streams_polyfill.ReadableStream;\n      exports.setVerbosityLevel = setVerbosityLevel;\n      exports.shadow = shadow;\n      exports.string32 = string32;\n      exports.stringToBytes = stringToBytes;\n      exports.stringToPDFString = stringToPDFString;\n      exports.stringToUTF8String = stringToUTF8String;\n      exports.utf8StringToString = utf8StringToString;\n      exports.warn = warn;\n      exports.unreachable = unreachable;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DOMCMapReaderFactory = exports.DOMCanvasFactory = exports.DEFAULT_LINK_REL = exports.getDefaultSetting = exports.LinkTarget = exports.getFilenameFromUrl = exports.isValidUrl = exports.isExternalLinkTargetSet = exports.addLinkAttributes = exports.RenderingCancelledException = exports.CustomStyle = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _util = __w_pdfjs_require__(0);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\n\n      var DOMCanvasFactory = function () {\n        function DOMCanvasFactory() {\n          _classCallCheck(this, DOMCanvasFactory);\n        }\n\n        _createClass(DOMCanvasFactory, [{\n          key: 'create',\n          value: function create(width, height) {\n            if (width <= 0 || height <= 0) {\n              throw new Error('invalid canvas size');\n            }\n\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n            canvas.width = width;\n            canvas.height = height;\n            return {\n              canvas: canvas,\n              context: context\n            };\n          }\n        }, {\n          key: 'reset',\n          value: function reset(canvasAndContext, width, height) {\n            if (!canvasAndContext.canvas) {\n              throw new Error('canvas is not specified');\n            }\n\n            if (width <= 0 || height <= 0) {\n              throw new Error('invalid canvas size');\n            }\n\n            canvasAndContext.canvas.width = width;\n            canvasAndContext.canvas.height = height;\n          }\n        }, {\n          key: 'destroy',\n          value: function destroy(canvasAndContext) {\n            if (!canvasAndContext.canvas) {\n              throw new Error('canvas is not specified');\n            }\n\n            canvasAndContext.canvas.width = 0;\n            canvasAndContext.canvas.height = 0;\n            canvasAndContext.canvas = null;\n            canvasAndContext.context = null;\n          }\n        }]);\n\n        return DOMCanvasFactory;\n      }();\n\n      var DOMCMapReaderFactory = function () {\n        function DOMCMapReaderFactory(_ref) {\n          var _ref$baseUrl = _ref.baseUrl,\n              baseUrl = _ref$baseUrl === undefined ? null : _ref$baseUrl,\n              _ref$isCompressed = _ref.isCompressed,\n              isCompressed = _ref$isCompressed === undefined ? false : _ref$isCompressed;\n\n          _classCallCheck(this, DOMCMapReaderFactory);\n\n          this.baseUrl = baseUrl;\n          this.isCompressed = isCompressed;\n        }\n\n        _createClass(DOMCMapReaderFactory, [{\n          key: 'fetch',\n          value: function fetch(_ref2) {\n            var _this = this;\n\n            var name = _ref2.name;\n\n            if (!name) {\n              return Promise.reject(new Error('CMap name must be specified.'));\n            }\n\n            return new Promise(function (resolve, reject) {\n              var url = _this.baseUrl + name + (_this.isCompressed ? '.bcmap' : '');\n              var request = new XMLHttpRequest();\n              request.open('GET', url, true);\n\n              if (_this.isCompressed) {\n                request.responseType = 'arraybuffer';\n              }\n\n              request.onreadystatechange = function () {\n                if (request.readyState !== XMLHttpRequest.DONE) {\n                  return;\n                }\n\n                if (request.status === 200 || request.status === 0) {\n                  var data = void 0;\n\n                  if (_this.isCompressed && request.response) {\n                    data = new Uint8Array(request.response);\n                  } else if (!_this.isCompressed && request.responseText) {\n                    data = (0, _util.stringToBytes)(request.responseText);\n                  }\n\n                  if (data) {\n                    resolve({\n                      cMapData: data,\n                      compressionType: _this.isCompressed ? _util.CMapCompressionType.BINARY : _util.CMapCompressionType.NONE\n                    });\n                    return;\n                  }\n                }\n\n                reject(new Error('Unable to load ' + (_this.isCompressed ? 'binary ' : '') + 'CMap at: ' + url));\n              };\n\n              request.send(null);\n            });\n          }\n        }]);\n\n        return DOMCMapReaderFactory;\n      }();\n\n      var CustomStyle = function CustomStyleClosure() {\n        var prefixes = ['ms', 'Moz', 'Webkit', 'O'];\n\n        var _cache = Object.create(null);\n\n        function CustomStyle() {}\n\n        CustomStyle.getProp = function get(propName, element) {\n          if (arguments.length === 1 && typeof _cache[propName] === 'string') {\n            return _cache[propName];\n          }\n\n          element = element || document.documentElement;\n          var style = element.style,\n              prefixed,\n              uPropName;\n\n          if (typeof style[propName] === 'string') {\n            return _cache[propName] = propName;\n          }\n\n          uPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n          for (var i = 0, l = prefixes.length; i < l; i++) {\n            prefixed = prefixes[i] + uPropName;\n\n            if (typeof style[prefixed] === 'string') {\n              return _cache[propName] = prefixed;\n            }\n          }\n\n          return _cache[propName] = 'undefined';\n        };\n\n        CustomStyle.setProp = function set(propName, element, str) {\n          var prop = this.getProp(propName);\n\n          if (prop !== 'undefined') {\n            element.style[prop] = str;\n          }\n        };\n\n        return CustomStyle;\n      }();\n\n      var RenderingCancelledException = function RenderingCancelledException() {\n        function RenderingCancelledException(msg, type) {\n          this.message = msg;\n          this.type = type;\n        }\n\n        RenderingCancelledException.prototype = new Error();\n        RenderingCancelledException.prototype.name = 'RenderingCancelledException';\n        RenderingCancelledException.constructor = RenderingCancelledException;\n        return RenderingCancelledException;\n      }();\n\n      var LinkTarget = {\n        NONE: 0,\n        SELF: 1,\n        BLANK: 2,\n        PARENT: 3,\n        TOP: 4\n      };\n      var LinkTargetStringMap = ['', '_self', '_blank', '_parent', '_top'];\n\n      function addLinkAttributes(link, params) {\n        var url = params && params.url;\n        link.href = link.title = url ? (0, _util.removeNullCharacters)(url) : '';\n\n        if (url) {\n          var target = params.target;\n\n          if (typeof target === 'undefined') {\n            target = getDefaultSetting('externalLinkTarget');\n          }\n\n          link.target = LinkTargetStringMap[target];\n          var rel = params.rel;\n\n          if (typeof rel === 'undefined') {\n            rel = getDefaultSetting('externalLinkRel');\n          }\n\n          link.rel = rel;\n        }\n      }\n\n      function getFilenameFromUrl(url) {\n        var anchor = url.indexOf('#');\n        var query = url.indexOf('?');\n        var end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);\n        return url.substring(url.lastIndexOf('/', end) + 1, end);\n      }\n\n      function getDefaultSetting(id) {\n        var globalSettings = _util.globalScope.PDFJS;\n\n        switch (id) {\n          case 'pdfBug':\n            return globalSettings ? globalSettings.pdfBug : false;\n\n          case 'disableAutoFetch':\n            return globalSettings ? globalSettings.disableAutoFetch : false;\n\n          case 'disableStream':\n            return globalSettings ? globalSettings.disableStream : false;\n\n          case 'disableRange':\n            return globalSettings ? globalSettings.disableRange : false;\n\n          case 'disableFontFace':\n            return globalSettings ? globalSettings.disableFontFace : false;\n\n          case 'disableCreateObjectURL':\n            return globalSettings ? globalSettings.disableCreateObjectURL : false;\n\n          case 'disableWebGL':\n            return globalSettings ? globalSettings.disableWebGL : true;\n\n          case 'cMapUrl':\n            return globalSettings ? globalSettings.cMapUrl : null;\n\n          case 'cMapPacked':\n            return globalSettings ? globalSettings.cMapPacked : false;\n\n          case 'postMessageTransfers':\n            return globalSettings ? globalSettings.postMessageTransfers : true;\n\n          case 'workerPort':\n            return globalSettings ? globalSettings.workerPort : null;\n\n          case 'workerSrc':\n            return globalSettings ? globalSettings.workerSrc : null;\n\n          case 'disableWorker':\n            return globalSettings ? globalSettings.disableWorker : false;\n\n          case 'maxImageSize':\n            return globalSettings ? globalSettings.maxImageSize : -1;\n\n          case 'imageResourcesPath':\n            return globalSettings ? globalSettings.imageResourcesPath : '';\n\n          case 'isEvalSupported':\n            return globalSettings ? globalSettings.isEvalSupported : true;\n\n          case 'externalLinkTarget':\n            if (!globalSettings) {\n              return LinkTarget.NONE;\n            }\n\n            switch (globalSettings.externalLinkTarget) {\n              case LinkTarget.NONE:\n              case LinkTarget.SELF:\n              case LinkTarget.BLANK:\n              case LinkTarget.PARENT:\n              case LinkTarget.TOP:\n                return globalSettings.externalLinkTarget;\n            }\n\n            (0, _util.warn)('PDFJS.externalLinkTarget is invalid: ' + globalSettings.externalLinkTarget);\n            globalSettings.externalLinkTarget = LinkTarget.NONE;\n            return LinkTarget.NONE;\n\n          case 'externalLinkRel':\n            return globalSettings ? globalSettings.externalLinkRel : DEFAULT_LINK_REL;\n\n          case 'enableStats':\n            return !!(globalSettings && globalSettings.enableStats);\n\n          case 'pdfjsNext':\n            return !!(globalSettings && globalSettings.pdfjsNext);\n\n          default:\n            throw new Error('Unknown default setting: ' + id);\n        }\n      }\n\n      function isExternalLinkTargetSet() {\n        var externalLinkTarget = getDefaultSetting('externalLinkTarget');\n\n        switch (externalLinkTarget) {\n          case LinkTarget.NONE:\n            return false;\n\n          case LinkTarget.SELF:\n          case LinkTarget.BLANK:\n          case LinkTarget.PARENT:\n          case LinkTarget.TOP:\n            return true;\n        }\n      }\n\n      function isValidUrl(url, allowRelative) {\n        (0, _util.deprecated)('isValidUrl(), please use createValidAbsoluteUrl() instead.');\n        var baseUrl = allowRelative ? 'http://example.com' : null;\n        return (0, _util.createValidAbsoluteUrl)(url, baseUrl) !== null;\n      }\n\n      exports.CustomStyle = CustomStyle;\n      exports.RenderingCancelledException = RenderingCancelledException;\n      exports.addLinkAttributes = addLinkAttributes;\n      exports.isExternalLinkTargetSet = isExternalLinkTargetSet;\n      exports.isValidUrl = isValidUrl;\n      exports.getFilenameFromUrl = getFilenameFromUrl;\n      exports.LinkTarget = LinkTarget;\n      exports.getDefaultSetting = getDefaultSetting;\n      exports.DEFAULT_LINK_REL = DEFAULT_LINK_REL;\n      exports.DOMCanvasFactory = DOMCanvasFactory;\n      exports.DOMCMapReaderFactory = DOMCMapReaderFactory;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.build = exports.version = exports._UnsupportedManager = exports.setPDFNetworkStreamClass = exports.PDFPageProxy = exports.PDFDocumentProxy = exports.PDFWorker = exports.PDFDataRangeTransport = exports.LoopbackPort = exports.getDocument = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _dom_utils = __w_pdfjs_require__(1);\n\n      var _font_loader = __w_pdfjs_require__(12);\n\n      var _canvas = __w_pdfjs_require__(11);\n\n      var _metadata = __w_pdfjs_require__(6);\n\n      var _transport_stream = __w_pdfjs_require__(14);\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var DEFAULT_RANGE_CHUNK_SIZE = 65536;\n      var isWorkerDisabled = false;\n      var workerSrc;\n      var isPostMessageTransfersDisabled = false;\n      var pdfjsFilePath = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : null;\n      var fakeWorkerFilesLoader = null;\n      var useRequireEnsure = false;\n      {\n        if (typeof window === 'undefined') {\n          isWorkerDisabled = true;\n\n          if (typeof require.ensure === 'undefined') {\n            require.ensure = require('node-ensure');\n          }\n\n          useRequireEnsure = true;\n        } else if (typeof require !== 'undefined' && typeof require.ensure === 'function') {\n          useRequireEnsure = true;\n        }\n\n        if (typeof requirejs !== 'undefined' && requirejs.toUrl) {\n          workerSrc = requirejs.toUrl('pdfjs-dist/build/pdf.worker.js');\n        }\n\n        var dynamicLoaderSupported = typeof requirejs !== 'undefined' && requirejs.load;\n        fakeWorkerFilesLoader = useRequireEnsure ? function (callback) {\n          require.ensure([], function () {\n            var worker;\n            worker = require('./pdf.worker.js');\n            callback(worker.WorkerMessageHandler);\n          });\n        } : dynamicLoaderSupported ? function (callback) {\n          requirejs(['pdfjs-dist/build/pdf.worker'], function (worker) {\n            callback(worker.WorkerMessageHandler);\n          });\n        } : null;\n      }\n      var PDFNetworkStream;\n\n      function setPDFNetworkStreamClass(cls) {\n        PDFNetworkStream = cls;\n      }\n\n      function getDocument(src, pdfDataRangeTransport, passwordCallback, progressCallback) {\n        var task = new PDFDocumentLoadingTask();\n\n        if (arguments.length > 1) {\n          (0, _util.deprecated)('getDocument is called with pdfDataRangeTransport, ' + 'passwordCallback or progressCallback argument');\n        }\n\n        if (pdfDataRangeTransport) {\n          if (!(pdfDataRangeTransport instanceof PDFDataRangeTransport)) {\n            pdfDataRangeTransport = Object.create(pdfDataRangeTransport);\n            pdfDataRangeTransport.length = src.length;\n            pdfDataRangeTransport.initialData = src.initialData;\n\n            if (!pdfDataRangeTransport.abort) {\n              pdfDataRangeTransport.abort = function () {};\n            }\n          }\n\n          src = Object.create(src);\n          src.range = pdfDataRangeTransport;\n        }\n\n        task.onPassword = passwordCallback || null;\n        task.onProgress = progressCallback || null;\n        var source;\n\n        if (typeof src === 'string') {\n          source = {\n            url: src\n          };\n        } else if ((0, _util.isArrayBuffer)(src)) {\n          source = {\n            data: src\n          };\n        } else if (src instanceof PDFDataRangeTransport) {\n          source = {\n            range: src\n          };\n        } else {\n          if ((typeof src === 'undefined' ? 'undefined' : _typeof(src)) !== 'object') {\n            throw new Error('Invalid parameter in getDocument, ' + 'need either Uint8Array, string or a parameter object');\n          }\n\n          if (!src.url && !src.data && !src.range) {\n            throw new Error('Invalid parameter object: need either .data, .range or .url');\n          }\n\n          source = src;\n        }\n\n        var params = {};\n        var rangeTransport = null;\n        var worker = null;\n        var CMapReaderFactory = _dom_utils.DOMCMapReaderFactory;\n\n        for (var key in source) {\n          if (key === 'url' && typeof window !== 'undefined') {\n            params[key] = new URL(source[key], window.location).href;\n            continue;\n          } else if (key === 'range') {\n            rangeTransport = source[key];\n            continue;\n          } else if (key === 'worker') {\n            worker = source[key];\n            continue;\n          } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n            var pdfBytes = source[key];\n\n            if (typeof pdfBytes === 'string') {\n              params[key] = (0, _util.stringToBytes)(pdfBytes);\n            } else if ((typeof pdfBytes === 'undefined' ? 'undefined' : _typeof(pdfBytes)) === 'object' && pdfBytes !== null && !isNaN(pdfBytes.length)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else if ((0, _util.isArrayBuffer)(pdfBytes)) {\n              params[key] = new Uint8Array(pdfBytes);\n            } else {\n              throw new Error('Invalid PDF binary data: either typed array, ' + 'string or array-like object is expected in the ' + 'data property.');\n            }\n\n            continue;\n          } else if (key === 'CMapReaderFactory') {\n            CMapReaderFactory = source[key];\n            continue;\n          }\n\n          params[key] = source[key];\n        }\n\n        params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n        params.ignoreErrors = params.stopAtErrors !== true;\n\n        if (params.disableNativeImageDecoder !== undefined) {\n          (0, _util.deprecated)('parameter disableNativeImageDecoder, ' + 'use nativeImageDecoderSupport instead');\n        }\n\n        params.nativeImageDecoderSupport = params.nativeImageDecoderSupport || (params.disableNativeImageDecoder === true ? _util.NativeImageDecoding.NONE : _util.NativeImageDecoding.DECODE);\n\n        if (params.nativeImageDecoderSupport !== _util.NativeImageDecoding.DECODE && params.nativeImageDecoderSupport !== _util.NativeImageDecoding.NONE && params.nativeImageDecoderSupport !== _util.NativeImageDecoding.DISPLAY) {\n          (0, _util.warn)('Invalid parameter nativeImageDecoderSupport: ' + 'need a state of enum {NativeImageDecoding}');\n          params.nativeImageDecoderSupport = _util.NativeImageDecoding.DECODE;\n        }\n\n        if (!worker) {\n          var workerPort = (0, _dom_utils.getDefaultSetting)('workerPort');\n          worker = workerPort ? PDFWorker.fromPort(workerPort) : new PDFWorker();\n          task._worker = worker;\n        }\n\n        var docId = task.docId;\n        worker.promise.then(function () {\n          if (task.destroyed) {\n            throw new Error('Loading aborted');\n          }\n\n          return _fetchDocument(worker, params, rangeTransport, docId).then(function (workerId) {\n            if (task.destroyed) {\n              throw new Error('Loading aborted');\n            }\n\n            var networkStream = void 0;\n\n            if (rangeTransport) {\n              networkStream = new _transport_stream.PDFDataTransportStream(params, rangeTransport);\n            } else if (!params.data) {\n              networkStream = new PDFNetworkStream({\n                source: params,\n                disableRange: (0, _dom_utils.getDefaultSetting)('disableRange')\n              });\n            }\n\n            var messageHandler = new _util.MessageHandler(docId, workerId, worker.port);\n            messageHandler.postMessageTransfers = worker.postMessageTransfers;\n            var transport = new WorkerTransport(messageHandler, task, networkStream, CMapReaderFactory);\n            task._transport = transport;\n            messageHandler.send('Ready', null);\n          });\n        }).catch(task._capability.reject);\n        return task;\n      }\n\n      function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n        if (worker.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n\n        source.disableAutoFetch = (0, _dom_utils.getDefaultSetting)('disableAutoFetch');\n        source.disableStream = (0, _dom_utils.getDefaultSetting)('disableStream');\n        source.chunkedViewerLoading = !!pdfDataRangeTransport;\n\n        if (pdfDataRangeTransport) {\n          source.length = pdfDataRangeTransport.length;\n          source.initialData = pdfDataRangeTransport.initialData;\n        }\n\n        return worker.messageHandler.sendWithPromise('GetDocRequest', {\n          docId: docId,\n          source: {\n            data: source.data,\n            url: source.url,\n            password: source.password,\n            disableAutoFetch: source.disableAutoFetch,\n            rangeChunkSize: source.rangeChunkSize,\n            length: source.length\n          },\n          maxImageSize: (0, _dom_utils.getDefaultSetting)('maxImageSize'),\n          disableFontFace: (0, _dom_utils.getDefaultSetting)('disableFontFace'),\n          disableCreateObjectURL: (0, _dom_utils.getDefaultSetting)('disableCreateObjectURL'),\n          postMessageTransfers: (0, _dom_utils.getDefaultSetting)('postMessageTransfers') && !isPostMessageTransfersDisabled,\n          docBaseUrl: source.docBaseUrl,\n          nativeImageDecoderSupport: source.nativeImageDecoderSupport,\n          ignoreErrors: source.ignoreErrors\n        }).then(function (workerId) {\n          if (worker.destroyed) {\n            throw new Error('Worker was destroyed');\n          }\n\n          return workerId;\n        });\n      }\n\n      var PDFDocumentLoadingTask = function PDFDocumentLoadingTaskClosure() {\n        var nextDocumentId = 0;\n\n        function PDFDocumentLoadingTask() {\n          this._capability = (0, _util.createPromiseCapability)();\n          this._transport = null;\n          this._worker = null;\n          this.docId = 'd' + nextDocumentId++;\n          this.destroyed = false;\n          this.onPassword = null;\n          this.onProgress = null;\n          this.onUnsupportedFeature = null;\n        }\n\n        PDFDocumentLoadingTask.prototype = {\n          get promise() {\n            return this._capability.promise;\n          },\n\n          destroy: function destroy() {\n            var _this = this;\n\n            this.destroyed = true;\n            var transportDestroyed = !this._transport ? Promise.resolve() : this._transport.destroy();\n            return transportDestroyed.then(function () {\n              _this._transport = null;\n\n              if (_this._worker) {\n                _this._worker.destroy();\n\n                _this._worker = null;\n              }\n            });\n          },\n          then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n            return this.promise.then.apply(this.promise, arguments);\n          }\n        };\n        return PDFDocumentLoadingTask;\n      }();\n\n      var PDFDataRangeTransport = function pdfDataRangeTransportClosure() {\n        function PDFDataRangeTransport(length, initialData) {\n          this.length = length;\n          this.initialData = initialData;\n          this._rangeListeners = [];\n          this._progressListeners = [];\n          this._progressiveReadListeners = [];\n          this._readyCapability = (0, _util.createPromiseCapability)();\n        }\n\n        PDFDataRangeTransport.prototype = {\n          addRangeListener: function PDFDataRangeTransport_addRangeListener(listener) {\n            this._rangeListeners.push(listener);\n          },\n          addProgressListener: function PDFDataRangeTransport_addProgressListener(listener) {\n            this._progressListeners.push(listener);\n          },\n          addProgressiveReadListener: function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n            this._progressiveReadListeners.push(listener);\n          },\n          onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n            var listeners = this._rangeListeners;\n\n            for (var i = 0, n = listeners.length; i < n; ++i) {\n              listeners[i](begin, chunk);\n            }\n          },\n          onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n            var _this2 = this;\n\n            this._readyCapability.promise.then(function () {\n              var listeners = _this2._progressListeners;\n\n              for (var i = 0, n = listeners.length; i < n; ++i) {\n                listeners[i](loaded);\n              }\n            });\n          },\n          onDataProgressiveRead: function PDFDataRangeTransport_onDataProgress(chunk) {\n            var _this3 = this;\n\n            this._readyCapability.promise.then(function () {\n              var listeners = _this3._progressiveReadListeners;\n\n              for (var i = 0, n = listeners.length; i < n; ++i) {\n                listeners[i](chunk);\n              }\n            });\n          },\n          transportReady: function PDFDataRangeTransport_transportReady() {\n            this._readyCapability.resolve();\n          },\n          requestDataRange: function PDFDataRangeTransport_requestDataRange(begin, end) {\n            throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n          },\n          abort: function PDFDataRangeTransport_abort() {}\n        };\n        return PDFDataRangeTransport;\n      }();\n\n      var PDFDocumentProxy = function PDFDocumentProxyClosure() {\n        function PDFDocumentProxy(pdfInfo, transport, loadingTask) {\n          this.pdfInfo = pdfInfo;\n          this.transport = transport;\n          this.loadingTask = loadingTask;\n        }\n\n        PDFDocumentProxy.prototype = {\n          get numPages() {\n            return this.pdfInfo.numPages;\n          },\n\n          get fingerprint() {\n            return this.pdfInfo.fingerprint;\n          },\n\n          getPage: function PDFDocumentProxy_getPage(pageNumber) {\n            return this.transport.getPage(pageNumber);\n          },\n          getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n            return this.transport.getPageIndex(ref);\n          },\n          getDestinations: function PDFDocumentProxy_getDestinations() {\n            return this.transport.getDestinations();\n          },\n          getDestination: function PDFDocumentProxy_getDestination(id) {\n            return this.transport.getDestination(id);\n          },\n          getPageLabels: function PDFDocumentProxy_getPageLabels() {\n            return this.transport.getPageLabels();\n          },\n          getPageMode: function getPageMode() {\n            return this.transport.getPageMode();\n          },\n          getAttachments: function PDFDocumentProxy_getAttachments() {\n            return this.transport.getAttachments();\n          },\n          getJavaScript: function PDFDocumentProxy_getJavaScript() {\n            return this.transport.getJavaScript();\n          },\n          getOutline: function PDFDocumentProxy_getOutline() {\n            return this.transport.getOutline();\n          },\n          getMetadata: function PDFDocumentProxy_getMetadata() {\n            return this.transport.getMetadata();\n          },\n          getData: function PDFDocumentProxy_getData() {\n            return this.transport.getData();\n          },\n          getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n            return this.transport.downloadInfoCapability.promise;\n          },\n          getStats: function PDFDocumentProxy_getStats() {\n            return this.transport.getStats();\n          },\n          cleanup: function PDFDocumentProxy_cleanup() {\n            this.transport.startCleanup();\n          },\n          destroy: function PDFDocumentProxy_destroy() {\n            return this.loadingTask.destroy();\n          }\n        };\n        return PDFDocumentProxy;\n      }();\n\n      var PDFPageProxy = function PDFPageProxyClosure() {\n        function PDFPageProxy(pageIndex, pageInfo, transport) {\n          this.pageIndex = pageIndex;\n          this.pageInfo = pageInfo;\n          this.transport = transport;\n          this.stats = new _util.StatTimer();\n          this.stats.enabled = (0, _dom_utils.getDefaultSetting)('enableStats');\n          this.commonObjs = transport.commonObjs;\n          this.objs = new PDFObjects();\n          this.cleanupAfterRender = false;\n          this.pendingCleanup = false;\n          this.intentStates = Object.create(null);\n          this.destroyed = false;\n        }\n\n        PDFPageProxy.prototype = {\n          get pageNumber() {\n            return this.pageIndex + 1;\n          },\n\n          get rotate() {\n            return this.pageInfo.rotate;\n          },\n\n          get ref() {\n            return this.pageInfo.ref;\n          },\n\n          get userUnit() {\n            return this.pageInfo.userUnit;\n          },\n\n          get view() {\n            return this.pageInfo.view;\n          },\n\n          getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n            if (arguments.length < 2) {\n              rotate = this.rotate;\n            }\n\n            return new _util.PageViewport(this.view, scale, rotate, 0, 0);\n          },\n          getAnnotations: function PDFPageProxy_getAnnotations(params) {\n            var intent = params && params.intent || null;\n\n            if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n              this.annotationsPromise = this.transport.getAnnotations(this.pageIndex, intent);\n              this.annotationsIntent = intent;\n            }\n\n            return this.annotationsPromise;\n          },\n          render: function PDFPageProxy_render(params) {\n            var _this4 = this;\n\n            var stats = this.stats;\n            stats.time('Overall');\n            this.pendingCleanup = false;\n            var renderingIntent = params.intent === 'print' ? 'print' : 'display';\n            var canvasFactory = params.canvasFactory || new _dom_utils.DOMCanvasFactory();\n\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n\n            var intentState = this.intentStates[renderingIntent];\n\n            if (!intentState.displayReadyCapability) {\n              intentState.receivingOperatorList = true;\n              intentState.displayReadyCapability = (0, _util.createPromiseCapability)();\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n              this.stats.time('Page Request');\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageNumber - 1,\n                intent: renderingIntent,\n                renderInteractiveForms: params.renderInteractiveForms === true\n              });\n            }\n\n            var complete = function complete(error) {\n              var i = intentState.renderTasks.indexOf(internalRenderTask);\n\n              if (i >= 0) {\n                intentState.renderTasks.splice(i, 1);\n              }\n\n              if (_this4.cleanupAfterRender) {\n                _this4.pendingCleanup = true;\n              }\n\n              _this4._tryCleanup();\n\n              if (error) {\n                internalRenderTask.capability.reject(error);\n              } else {\n                internalRenderTask.capability.resolve();\n              }\n\n              stats.timeEnd('Rendering');\n              stats.timeEnd('Overall');\n            };\n\n            var internalRenderTask = new InternalRenderTask(complete, params, this.objs, this.commonObjs, intentState.operatorList, this.pageNumber, canvasFactory);\n            internalRenderTask.useRequestAnimationFrame = renderingIntent !== 'print';\n\n            if (!intentState.renderTasks) {\n              intentState.renderTasks = [];\n            }\n\n            intentState.renderTasks.push(internalRenderTask);\n            var renderTask = internalRenderTask.task;\n\n            if (params.continueCallback) {\n              (0, _util.deprecated)('render is used with continueCallback parameter');\n              renderTask.onContinue = params.continueCallback;\n            }\n\n            intentState.displayReadyCapability.promise.then(function (transparency) {\n              if (_this4.pendingCleanup) {\n                complete();\n                return;\n              }\n\n              stats.time('Rendering');\n              internalRenderTask.initializeGraphics(transparency);\n              internalRenderTask.operatorListChanged();\n            }).catch(complete);\n            return renderTask;\n          },\n          getOperatorList: function PDFPageProxy_getOperatorList() {\n            function operatorListChanged() {\n              if (intentState.operatorList.lastChunk) {\n                intentState.opListReadCapability.resolve(intentState.operatorList);\n                var i = intentState.renderTasks.indexOf(opListTask);\n\n                if (i >= 0) {\n                  intentState.renderTasks.splice(i, 1);\n                }\n              }\n            }\n\n            var renderingIntent = 'oplist';\n\n            if (!this.intentStates[renderingIntent]) {\n              this.intentStates[renderingIntent] = Object.create(null);\n            }\n\n            var intentState = this.intentStates[renderingIntent];\n            var opListTask;\n\n            if (!intentState.opListReadCapability) {\n              opListTask = {};\n              opListTask.operatorListChanged = operatorListChanged;\n              intentState.receivingOperatorList = true;\n              intentState.opListReadCapability = (0, _util.createPromiseCapability)();\n              intentState.renderTasks = [];\n              intentState.renderTasks.push(opListTask);\n              intentState.operatorList = {\n                fnArray: [],\n                argsArray: [],\n                lastChunk: false\n              };\n              this.transport.messageHandler.send('RenderPageRequest', {\n                pageIndex: this.pageIndex,\n                intent: renderingIntent\n              });\n            }\n\n            return intentState.opListReadCapability.promise;\n          },\n          streamTextContent: function streamTextContent() {\n            var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var TEXT_CONTENT_CHUNK_SIZE = 100;\n            return this.transport.messageHandler.sendWithStream('GetTextContent', {\n              pageIndex: this.pageNumber - 1,\n              normalizeWhitespace: params.normalizeWhitespace === true,\n              combineTextItems: params.disableCombineTextItems !== true\n            }, {\n              highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n              size: function size(textContent) {\n                return textContent.items.length;\n              }\n            });\n          },\n          getTextContent: function PDFPageProxy_getTextContent(params) {\n            params = params || {};\n            var readableStream = this.streamTextContent(params);\n            return new Promise(function (resolve, reject) {\n              function pump() {\n                reader.read().then(function (_ref) {\n                  var value = _ref.value,\n                      done = _ref.done;\n\n                  if (done) {\n                    resolve(textContent);\n                    return;\n                  }\n\n                  _util.Util.extendObj(textContent.styles, value.styles);\n\n                  _util.Util.appendToArray(textContent.items, value.items);\n\n                  pump();\n                }, reject);\n              }\n\n              var reader = readableStream.getReader();\n              var textContent = {\n                items: [],\n                styles: Object.create(null)\n              };\n              pump();\n            });\n          },\n          _destroy: function PDFPageProxy_destroy() {\n            this.destroyed = true;\n            this.transport.pageCache[this.pageIndex] = null;\n            var waitOn = [];\n            Object.keys(this.intentStates).forEach(function (intent) {\n              if (intent === 'oplist') {\n                return;\n              }\n\n              var intentState = this.intentStates[intent];\n              intentState.renderTasks.forEach(function (renderTask) {\n                var renderCompleted = renderTask.capability.promise.catch(function () {});\n                waitOn.push(renderCompleted);\n                renderTask.cancel();\n              });\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n            return Promise.all(waitOn);\n          },\n          destroy: function destroy() {\n            (0, _util.deprecated)('page destroy method, use cleanup() instead');\n            this.cleanup();\n          },\n          cleanup: function PDFPageProxy_cleanup() {\n            this.pendingCleanup = true;\n\n            this._tryCleanup();\n          },\n          _tryCleanup: function PDFPageProxy_tryCleanup() {\n            if (!this.pendingCleanup || Object.keys(this.intentStates).some(function (intent) {\n              var intentState = this.intentStates[intent];\n              return intentState.renderTasks.length !== 0 || intentState.receivingOperatorList;\n            }, this)) {\n              return;\n            }\n\n            Object.keys(this.intentStates).forEach(function (intent) {\n              delete this.intentStates[intent];\n            }, this);\n            this.objs.clear();\n            this.annotationsPromise = null;\n            this.pendingCleanup = false;\n          },\n          _startRenderPage: function PDFPageProxy_startRenderPage(transparency, intent) {\n            var intentState = this.intentStates[intent];\n\n            if (intentState.displayReadyCapability) {\n              intentState.displayReadyCapability.resolve(transparency);\n            }\n          },\n          _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk, intent) {\n            var intentState = this.intentStates[intent];\n            var i, ii;\n\n            for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n              intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n              intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n            }\n\n            intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n            for (i = 0; i < intentState.renderTasks.length; i++) {\n              intentState.renderTasks[i].operatorListChanged();\n            }\n\n            if (operatorListChunk.lastChunk) {\n              intentState.receivingOperatorList = false;\n\n              this._tryCleanup();\n            }\n          }\n        };\n        return PDFPageProxy;\n      }();\n\n      var LoopbackPort = function () {\n        function LoopbackPort(defer) {\n          _classCallCheck(this, LoopbackPort);\n\n          this._listeners = [];\n          this._defer = defer;\n          this._deferred = Promise.resolve(undefined);\n        }\n\n        _createClass(LoopbackPort, [{\n          key: 'postMessage',\n          value: function postMessage(obj, transfers) {\n            var _this5 = this;\n\n            function cloneValue(value) {\n              if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object' || value === null) {\n                return value;\n              }\n\n              if (cloned.has(value)) {\n                return cloned.get(value);\n              }\n\n              var result;\n              var buffer;\n\n              if ((buffer = value.buffer) && (0, _util.isArrayBuffer)(buffer)) {\n                var transferable = transfers && transfers.indexOf(buffer) >= 0;\n\n                if (value === buffer) {\n                  result = value;\n                } else if (transferable) {\n                  result = new value.constructor(buffer, value.byteOffset, value.byteLength);\n                } else {\n                  result = new value.constructor(value);\n                }\n\n                cloned.set(value, result);\n                return result;\n              }\n\n              result = (0, _util.isArray)(value) ? [] : {};\n              cloned.set(value, result);\n\n              for (var i in value) {\n                var desc,\n                    p = value;\n\n                while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n                  p = Object.getPrototypeOf(p);\n                }\n\n                if (typeof desc.value === 'undefined' || typeof desc.value === 'function') {\n                  continue;\n                }\n\n                result[i] = cloneValue(desc.value);\n              }\n\n              return result;\n            }\n\n            if (!this._defer) {\n              this._listeners.forEach(function (listener) {\n                listener.call(this, {\n                  data: obj\n                });\n              }, this);\n\n              return;\n            }\n\n            var cloned = new WeakMap();\n            var e = {\n              data: cloneValue(obj)\n            };\n\n            this._deferred.then(function () {\n              _this5._listeners.forEach(function (listener) {\n                listener.call(this, e);\n              }, _this5);\n            });\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(name, listener) {\n            this._listeners.push(listener);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(name, listener) {\n            var i = this._listeners.indexOf(listener);\n\n            this._listeners.splice(i, 1);\n          }\n        }, {\n          key: 'terminate',\n          value: function terminate() {\n            this._listeners = [];\n          }\n        }]);\n\n        return LoopbackPort;\n      }();\n\n      var PDFWorker = function PDFWorkerClosure() {\n        var nextFakeWorkerId = 0;\n\n        function getWorkerSrc() {\n          if (typeof workerSrc !== 'undefined') {\n            return workerSrc;\n          }\n\n          if ((0, _dom_utils.getDefaultSetting)('workerSrc')) {\n            return (0, _dom_utils.getDefaultSetting)('workerSrc');\n          }\n\n          if (pdfjsFilePath) {\n            return pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, '.worker$1$2');\n          }\n\n          throw new Error('No PDFJS.workerSrc specified');\n        }\n\n        var fakeWorkerFilesLoadedCapability = void 0;\n\n        function setupFakeWorkerGlobal() {\n          var WorkerMessageHandler;\n\n          if (fakeWorkerFilesLoadedCapability) {\n            return fakeWorkerFilesLoadedCapability.promise;\n          }\n\n          fakeWorkerFilesLoadedCapability = (0, _util.createPromiseCapability)();\n\n          var loader = fakeWorkerFilesLoader || function (callback) {\n            _util.Util.loadScript(getWorkerSrc(), function () {\n              callback(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler);\n            });\n          };\n\n          loader(fakeWorkerFilesLoadedCapability.resolve);\n          return fakeWorkerFilesLoadedCapability.promise;\n        }\n\n        function createCDNWrapper(url) {\n          var wrapper = 'importScripts(\\'' + url + '\\');';\n          return URL.createObjectURL(new Blob([wrapper]));\n        }\n\n        var pdfWorkerPorts = new WeakMap();\n\n        function PDFWorker(name, port) {\n          if (port && pdfWorkerPorts.has(port)) {\n            throw new Error('Cannot use more than one PDFWorker per port');\n          }\n\n          this.name = name;\n          this.destroyed = false;\n          this.postMessageTransfers = true;\n          this._readyCapability = (0, _util.createPromiseCapability)();\n          this._port = null;\n          this._webWorker = null;\n          this._messageHandler = null;\n\n          if (port) {\n            pdfWorkerPorts.set(port, this);\n\n            this._initializeFromPort(port);\n\n            return;\n          }\n\n          this._initialize();\n        }\n\n        PDFWorker.prototype = {\n          get promise() {\n            return this._readyCapability.promise;\n          },\n\n          get port() {\n            return this._port;\n          },\n\n          get messageHandler() {\n            return this._messageHandler;\n          },\n\n          _initializeFromPort: function PDFWorker_initializeFromPort(port) {\n            this._port = port;\n            this._messageHandler = new _util.MessageHandler('main', 'worker', port);\n\n            this._messageHandler.on('ready', function () {});\n\n            this._readyCapability.resolve();\n          },\n          _initialize: function PDFWorker_initialize() {\n            var _this6 = this;\n\n            if (!isWorkerDisabled && !(0, _dom_utils.getDefaultSetting)('disableWorker') && typeof Worker !== 'undefined') {\n              var workerSrc = getWorkerSrc();\n\n              try {\n                if (!(0, _util.isSameOrigin)(window.location.href, workerSrc)) {\n                  workerSrc = createCDNWrapper(new URL(workerSrc, window.location).href);\n                }\n\n                var worker = new Worker(workerSrc);\n                var messageHandler = new _util.MessageHandler('main', 'worker', worker);\n\n                var terminateEarly = function terminateEarly() {\n                  worker.removeEventListener('error', onWorkerError);\n                  messageHandler.destroy();\n                  worker.terminate();\n\n                  if (_this6.destroyed) {\n                    _this6._readyCapability.reject(new Error('Worker was destroyed'));\n                  } else {\n                    _this6._setupFakeWorker();\n                  }\n                };\n\n                var onWorkerError = function onWorkerError() {\n                  if (!_this6._webWorker) {\n                    terminateEarly();\n                  }\n                };\n\n                worker.addEventListener('error', onWorkerError);\n                messageHandler.on('test', function (data) {\n                  worker.removeEventListener('error', onWorkerError);\n\n                  if (_this6.destroyed) {\n                    terminateEarly();\n                    return;\n                  }\n\n                  var supportTypedArray = data && data.supportTypedArray;\n\n                  if (supportTypedArray) {\n                    _this6._messageHandler = messageHandler;\n                    _this6._port = worker;\n                    _this6._webWorker = worker;\n\n                    if (!data.supportTransfers) {\n                      _this6.postMessageTransfers = false;\n                      isPostMessageTransfersDisabled = true;\n                    }\n\n                    _this6._readyCapability.resolve();\n\n                    messageHandler.send('configure', {\n                      verbosity: (0, _util.getVerbosityLevel)()\n                    });\n                  } else {\n                    _this6._setupFakeWorker();\n\n                    messageHandler.destroy();\n                    worker.terminate();\n                  }\n                });\n                messageHandler.on('console_log', function (data) {\n                  console.log.apply(console, data);\n                });\n                messageHandler.on('console_error', function (data) {\n                  console.error.apply(console, data);\n                });\n                messageHandler.on('ready', function (data) {\n                  worker.removeEventListener('error', onWorkerError);\n\n                  if (_this6.destroyed) {\n                    terminateEarly();\n                    return;\n                  }\n\n                  try {\n                    sendTest();\n                  } catch (e) {\n                    _this6._setupFakeWorker();\n                  }\n                });\n\n                var sendTest = function sendTest() {\n                  var postMessageTransfers = (0, _dom_utils.getDefaultSetting)('postMessageTransfers') && !isPostMessageTransfersDisabled;\n                  var testObj = new Uint8Array([postMessageTransfers ? 255 : 0]);\n\n                  try {\n                    messageHandler.send('test', testObj, [testObj.buffer]);\n                  } catch (ex) {\n                    (0, _util.info)('Cannot use postMessage transfers');\n                    testObj[0] = 0;\n                    messageHandler.send('test', testObj);\n                  }\n                };\n\n                sendTest();\n                return;\n              } catch (e) {\n                (0, _util.info)('The worker has been disabled.');\n              }\n            }\n\n            this._setupFakeWorker();\n          },\n          _setupFakeWorker: function PDFWorker_setupFakeWorker() {\n            var _this7 = this;\n\n            if (!isWorkerDisabled && !(0, _dom_utils.getDefaultSetting)('disableWorker')) {\n              (0, _util.warn)('Setting up fake worker.');\n              isWorkerDisabled = true;\n            }\n\n            setupFakeWorkerGlobal().then(function (WorkerMessageHandler) {\n              if (_this7.destroyed) {\n                _this7._readyCapability.reject(new Error('Worker was destroyed'));\n\n                return;\n              }\n\n              var isTypedArraysPresent = Uint8Array !== Float32Array;\n              var port = new LoopbackPort(isTypedArraysPresent);\n              _this7._port = port;\n              var id = 'fake' + nextFakeWorkerId++;\n              var workerHandler = new _util.MessageHandler(id + '_worker', id, port);\n              WorkerMessageHandler.setup(workerHandler, port);\n              var messageHandler = new _util.MessageHandler(id, id + '_worker', port);\n              _this7._messageHandler = messageHandler;\n\n              _this7._readyCapability.resolve();\n            });\n          },\n          destroy: function PDFWorker_destroy() {\n            this.destroyed = true;\n\n            if (this._webWorker) {\n              this._webWorker.terminate();\n\n              this._webWorker = null;\n            }\n\n            pdfWorkerPorts.delete(this._port);\n            this._port = null;\n\n            if (this._messageHandler) {\n              this._messageHandler.destroy();\n\n              this._messageHandler = null;\n            }\n          }\n        };\n\n        PDFWorker.fromPort = function (port) {\n          if (pdfWorkerPorts.has(port)) {\n            return pdfWorkerPorts.get(port);\n          }\n\n          return new PDFWorker(null, port);\n        };\n\n        return PDFWorker;\n      }();\n\n      var WorkerTransport = function WorkerTransportClosure() {\n        function WorkerTransport(messageHandler, loadingTask, networkStream, CMapReaderFactory) {\n          this.messageHandler = messageHandler;\n          this.loadingTask = loadingTask;\n          this.commonObjs = new PDFObjects();\n          this.fontLoader = new _font_loader.FontLoader(loadingTask.docId);\n          this.CMapReaderFactory = new CMapReaderFactory({\n            baseUrl: (0, _dom_utils.getDefaultSetting)('cMapUrl'),\n            isCompressed: (0, _dom_utils.getDefaultSetting)('cMapPacked')\n          });\n          this.destroyed = false;\n          this.destroyCapability = null;\n          this._passwordCapability = null;\n          this._networkStream = networkStream;\n          this._fullReader = null;\n          this._lastProgress = null;\n          this.pageCache = [];\n          this.pagePromises = [];\n          this.downloadInfoCapability = (0, _util.createPromiseCapability)();\n          this.setupMessageHandler();\n        }\n\n        WorkerTransport.prototype = {\n          destroy: function WorkerTransport_destroy() {\n            var _this8 = this;\n\n            if (this.destroyCapability) {\n              return this.destroyCapability.promise;\n            }\n\n            this.destroyed = true;\n            this.destroyCapability = (0, _util.createPromiseCapability)();\n\n            if (this._passwordCapability) {\n              this._passwordCapability.reject(new Error('Worker was destroyed during onPassword callback'));\n            }\n\n            var waitOn = [];\n            this.pageCache.forEach(function (page) {\n              if (page) {\n                waitOn.push(page._destroy());\n              }\n            });\n            this.pageCache = [];\n            this.pagePromises = [];\n            var terminated = this.messageHandler.sendWithPromise('Terminate', null);\n            waitOn.push(terminated);\n            Promise.all(waitOn).then(function () {\n              _this8.fontLoader.clear();\n\n              if (_this8._networkStream) {\n                _this8._networkStream.cancelAllRequests();\n              }\n\n              if (_this8.messageHandler) {\n                _this8.messageHandler.destroy();\n\n                _this8.messageHandler = null;\n              }\n\n              _this8.destroyCapability.resolve();\n            }, this.destroyCapability.reject);\n            return this.destroyCapability.promise;\n          },\n          setupMessageHandler: function WorkerTransport_setupMessageHandler() {\n            var messageHandler = this.messageHandler;\n            var loadingTask = this.loadingTask;\n            messageHandler.on('GetReader', function (data, sink) {\n              var _this9 = this;\n\n              (0, _util.assert)(this._networkStream);\n              this._fullReader = this._networkStream.getFullReader();\n\n              this._fullReader.onProgress = function (evt) {\n                _this9._lastProgress = {\n                  loaded: evt.loaded,\n                  total: evt.total\n                };\n              };\n\n              sink.onPull = function () {\n                _this9._fullReader.read().then(function (_ref2) {\n                  var value = _ref2.value,\n                      done = _ref2.done;\n\n                  if (done) {\n                    sink.close();\n                    return;\n                  }\n\n                  (0, _util.assert)((0, _util.isArrayBuffer)(value));\n                  sink.enqueue(new Uint8Array(value), 1, [value]);\n                }).catch(function (reason) {\n                  sink.error(reason);\n                });\n              };\n\n              sink.onCancel = function (reason) {\n                _this9._fullReader.cancel(reason);\n              };\n            }, this);\n            messageHandler.on('ReaderHeadersReady', function (data) {\n              var _this10 = this;\n\n              var headersCapability = (0, _util.createPromiseCapability)();\n              var fullReader = this._fullReader;\n              fullReader.headersReady.then(function () {\n                if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n                  if (_this10._lastProgress) {\n                    var _loadingTask = _this10.loadingTask;\n\n                    if (_loadingTask.onProgress) {\n                      _loadingTask.onProgress(_this10._lastProgress);\n                    }\n                  }\n\n                  fullReader.onProgress = function (evt) {\n                    var loadingTask = _this10.loadingTask;\n\n                    if (loadingTask.onProgress) {\n                      loadingTask.onProgress({\n                        loaded: evt.loaded,\n                        total: evt.total\n                      });\n                    }\n                  };\n                }\n\n                headersCapability.resolve({\n                  isStreamingSupported: fullReader.isStreamingSupported,\n                  isRangeSupported: fullReader.isRangeSupported,\n                  contentLength: fullReader.contentLength\n                });\n              }, headersCapability.reject);\n              return headersCapability.promise;\n            }, this);\n            messageHandler.on('GetRangeReader', function (data, sink) {\n              (0, _util.assert)(this._networkStream);\n\n              var _rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n\n              sink.onPull = function () {\n                _rangeReader.read().then(function (_ref3) {\n                  var value = _ref3.value,\n                      done = _ref3.done;\n\n                  if (done) {\n                    sink.close();\n                    return;\n                  }\n\n                  (0, _util.assert)((0, _util.isArrayBuffer)(value));\n                  sink.enqueue(new Uint8Array(value), 1, [value]);\n                }).catch(function (reason) {\n                  sink.error(reason);\n                });\n              };\n\n              sink.onCancel = function (reason) {\n                _rangeReader.cancel(reason);\n              };\n            }, this);\n            messageHandler.on('GetDoc', function transportDoc(data) {\n              var pdfInfo = data.pdfInfo;\n              this.numPages = data.pdfInfo.numPages;\n              var loadingTask = this.loadingTask;\n              var pdfDocument = new PDFDocumentProxy(pdfInfo, this, loadingTask);\n              this.pdfDocument = pdfDocument;\n\n              loadingTask._capability.resolve(pdfDocument);\n            }, this);\n            messageHandler.on('PasswordRequest', function transportPasswordRequest(exception) {\n              var _this11 = this;\n\n              this._passwordCapability = (0, _util.createPromiseCapability)();\n\n              if (loadingTask.onPassword) {\n                var updatePassword = function updatePassword(password) {\n                  _this11._passwordCapability.resolve({\n                    password: password\n                  });\n                };\n\n                loadingTask.onPassword(updatePassword, exception.code);\n              } else {\n                this._passwordCapability.reject(new _util.PasswordException(exception.message, exception.code));\n              }\n\n              return this._passwordCapability.promise;\n            }, this);\n            messageHandler.on('PasswordException', function transportPasswordException(exception) {\n              loadingTask._capability.reject(new _util.PasswordException(exception.message, exception.code));\n            }, this);\n            messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n              this.loadingTask._capability.reject(new _util.InvalidPDFException(exception.message));\n            }, this);\n            messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n              this.loadingTask._capability.reject(new _util.MissingPDFException(exception.message));\n            }, this);\n            messageHandler.on('UnexpectedResponse', function transportUnexpectedResponse(exception) {\n              this.loadingTask._capability.reject(new _util.UnexpectedResponseException(exception.message, exception.status));\n            }, this);\n            messageHandler.on('UnknownError', function transportUnknownError(exception) {\n              this.loadingTask._capability.reject(new _util.UnknownErrorException(exception.message, exception.details));\n            }, this);\n            messageHandler.on('DataLoaded', function transportPage(data) {\n              this.downloadInfoCapability.resolve(data);\n            }, this);\n            messageHandler.on('PDFManagerReady', function transportPage(data) {}, this);\n            messageHandler.on('StartRenderPage', function transportRender(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var page = this.pageCache[data.pageIndex];\n              page.stats.timeEnd('Page Request');\n\n              page._startRenderPage(data.transparency, data.intent);\n            }, this);\n            messageHandler.on('RenderPageChunk', function transportRender(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var page = this.pageCache[data.pageIndex];\n\n              page._renderPageChunk(data.operatorList, data.intent);\n            }, this);\n            messageHandler.on('commonobj', function transportObj(data) {\n              var _this12 = this;\n\n              if (this.destroyed) {\n                return;\n              }\n\n              var id = data[0];\n              var type = data[1];\n\n              if (this.commonObjs.hasData(id)) {\n                return;\n              }\n\n              switch (type) {\n                case 'Font':\n                  var exportedData = data[2];\n\n                  if ('error' in exportedData) {\n                    var exportedError = exportedData.error;\n                    (0, _util.warn)('Error during font loading: ' + exportedError);\n                    this.commonObjs.resolve(id, exportedError);\n                    break;\n                  }\n\n                  var fontRegistry = null;\n\n                  if ((0, _dom_utils.getDefaultSetting)('pdfBug') && _util.globalScope.FontInspector && _util.globalScope['FontInspector'].enabled) {\n                    fontRegistry = {\n                      registerFont: function registerFont(font, url) {\n                        _util.globalScope['FontInspector'].fontAdded(font, url);\n                      }\n                    };\n                  }\n\n                  var font = new _font_loader.FontFaceObject(exportedData, {\n                    isEvalSuported: (0, _dom_utils.getDefaultSetting)('isEvalSupported'),\n                    disableFontFace: (0, _dom_utils.getDefaultSetting)('disableFontFace'),\n                    fontRegistry: fontRegistry\n                  });\n\n                  var fontReady = function fontReady(fontObjs) {\n                    _this12.commonObjs.resolve(id, font);\n                  };\n\n                  this.fontLoader.bind([font], fontReady);\n                  break;\n\n                case 'FontPath':\n                  this.commonObjs.resolve(id, data[2]);\n                  break;\n\n                default:\n                  throw new Error('Got unknown common object type ' + type);\n              }\n            }, this);\n            messageHandler.on('obj', function transportObj(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var id = data[0];\n              var pageIndex = data[1];\n              var type = data[2];\n              var pageProxy = this.pageCache[pageIndex];\n              var imageData;\n\n              if (pageProxy.objs.hasData(id)) {\n                return;\n              }\n\n              switch (type) {\n                case 'JpegStream':\n                  imageData = data[3];\n                  (0, _util.loadJpegStream)(id, imageData, pageProxy.objs);\n                  break;\n\n                case 'Image':\n                  imageData = data[3];\n                  pageProxy.objs.resolve(id, imageData);\n                  var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n\n                  if (imageData && 'data' in imageData && imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n                    pageProxy.cleanupAfterRender = true;\n                  }\n\n                  break;\n\n                default:\n                  throw new Error('Got unknown object type ' + type);\n              }\n            }, this);\n            messageHandler.on('DocProgress', function transportDocProgress(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var loadingTask = this.loadingTask;\n\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress({\n                  loaded: data.loaded,\n                  total: data.total\n                });\n              }\n            }, this);\n            messageHandler.on('PageError', function transportError(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var page = this.pageCache[data.pageNum - 1];\n              var intentState = page.intentStates[data.intent];\n\n              if (intentState.displayReadyCapability) {\n                intentState.displayReadyCapability.reject(data.error);\n              } else {\n                throw new Error(data.error);\n              }\n\n              if (intentState.operatorList) {\n                intentState.operatorList.lastChunk = true;\n\n                for (var i = 0; i < intentState.renderTasks.length; i++) {\n                  intentState.renderTasks[i].operatorListChanged();\n                }\n              }\n            }, this);\n            messageHandler.on('UnsupportedFeature', function transportUnsupportedFeature(data) {\n              if (this.destroyed) {\n                return;\n              }\n\n              var featureId = data.featureId;\n              var loadingTask = this.loadingTask;\n\n              if (loadingTask.onUnsupportedFeature) {\n                loadingTask.onUnsupportedFeature(featureId);\n              }\n\n              _UnsupportedManager.notify(featureId);\n            }, this);\n            messageHandler.on('JpegDecode', function (data) {\n              if (this.destroyed) {\n                return Promise.reject(new Error('Worker was destroyed'));\n              }\n\n              if (typeof document === 'undefined') {\n                return Promise.reject(new Error('\"document\" is not defined.'));\n              }\n\n              var imageUrl = data[0];\n              var components = data[1];\n\n              if (components !== 3 && components !== 1) {\n                return Promise.reject(new Error('Only 3 components or 1 component can be returned'));\n              }\n\n              return new Promise(function (resolve, reject) {\n                var img = new Image();\n\n                img.onload = function () {\n                  var width = img.width;\n                  var height = img.height;\n                  var size = width * height;\n                  var rgbaLength = size * 4;\n                  var buf = new Uint8Array(size * components);\n                  var tmpCanvas = document.createElement('canvas');\n                  tmpCanvas.width = width;\n                  tmpCanvas.height = height;\n                  var tmpCtx = tmpCanvas.getContext('2d');\n                  tmpCtx.drawImage(img, 0, 0);\n                  var data = tmpCtx.getImageData(0, 0, width, height).data;\n                  var i, j;\n\n                  if (components === 3) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                      buf[j] = data[i];\n                      buf[j + 1] = data[i + 1];\n                      buf[j + 2] = data[i + 2];\n                    }\n                  } else if (components === 1) {\n                    for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                      buf[j] = data[i];\n                    }\n                  }\n\n                  resolve({\n                    data: buf,\n                    width: width,\n                    height: height\n                  });\n                };\n\n                img.onerror = function () {\n                  reject(new Error('JpegDecode failed to load image'));\n                };\n\n                img.src = imageUrl;\n              });\n            }, this);\n            messageHandler.on('FetchBuiltInCMap', function (data) {\n              if (this.destroyed) {\n                return Promise.reject(new Error('Worker was destroyed'));\n              }\n\n              return this.CMapReaderFactory.fetch({\n                name: data.name\n              });\n            }, this);\n          },\n          getData: function WorkerTransport_getData() {\n            return this.messageHandler.sendWithPromise('GetData', null);\n          },\n          getPage: function WorkerTransport_getPage(pageNumber, capability) {\n            var _this13 = this;\n\n            if (!(0, _util.isInt)(pageNumber) || pageNumber <= 0 || pageNumber > this.numPages) {\n              return Promise.reject(new Error('Invalid page request'));\n            }\n\n            var pageIndex = pageNumber - 1;\n\n            if (pageIndex in this.pagePromises) {\n              return this.pagePromises[pageIndex];\n            }\n\n            var promise = this.messageHandler.sendWithPromise('GetPage', {\n              pageIndex: pageIndex\n            }).then(function (pageInfo) {\n              if (_this13.destroyed) {\n                throw new Error('Transport destroyed');\n              }\n\n              var page = new PDFPageProxy(pageIndex, pageInfo, _this13);\n              _this13.pageCache[pageIndex] = page;\n              return page;\n            });\n            this.pagePromises[pageIndex] = promise;\n            return promise;\n          },\n          getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n            return this.messageHandler.sendWithPromise('GetPageIndex', {\n              ref: ref\n            }).catch(function (reason) {\n              return Promise.reject(new Error(reason));\n            });\n          },\n          getAnnotations: function WorkerTransport_getAnnotations(pageIndex, intent) {\n            return this.messageHandler.sendWithPromise('GetAnnotations', {\n              pageIndex: pageIndex,\n              intent: intent\n            });\n          },\n          getDestinations: function WorkerTransport_getDestinations() {\n            return this.messageHandler.sendWithPromise('GetDestinations', null);\n          },\n          getDestination: function WorkerTransport_getDestination(id) {\n            return this.messageHandler.sendWithPromise('GetDestination', {\n              id: id\n            });\n          },\n          getPageLabels: function WorkerTransport_getPageLabels() {\n            return this.messageHandler.sendWithPromise('GetPageLabels', null);\n          },\n          getPageMode: function getPageMode() {\n            return this.messageHandler.sendWithPromise('GetPageMode', null);\n          },\n          getAttachments: function WorkerTransport_getAttachments() {\n            return this.messageHandler.sendWithPromise('GetAttachments', null);\n          },\n          getJavaScript: function WorkerTransport_getJavaScript() {\n            return this.messageHandler.sendWithPromise('GetJavaScript', null);\n          },\n          getOutline: function WorkerTransport_getOutline() {\n            return this.messageHandler.sendWithPromise('GetOutline', null);\n          },\n          getMetadata: function WorkerTransport_getMetadata() {\n            return this.messageHandler.sendWithPromise('GetMetadata', null).then(function transportMetadata(results) {\n              return {\n                info: results[0],\n                metadata: results[1] ? new _metadata.Metadata(results[1]) : null\n              };\n            });\n          },\n          getStats: function WorkerTransport_getStats() {\n            return this.messageHandler.sendWithPromise('GetStats', null);\n          },\n          startCleanup: function WorkerTransport_startCleanup() {\n            var _this14 = this;\n\n            this.messageHandler.sendWithPromise('Cleanup', null).then(function () {\n              for (var i = 0, ii = _this14.pageCache.length; i < ii; i++) {\n                var page = _this14.pageCache[i];\n\n                if (page) {\n                  page.cleanup();\n                }\n              }\n\n              _this14.commonObjs.clear();\n\n              _this14.fontLoader.clear();\n            });\n          }\n        };\n        return WorkerTransport;\n      }();\n\n      var PDFObjects = function PDFObjectsClosure() {\n        function PDFObjects() {\n          this.objs = Object.create(null);\n        }\n\n        PDFObjects.prototype = {\n          ensureObj: function PDFObjects_ensureObj(objId) {\n            if (this.objs[objId]) {\n              return this.objs[objId];\n            }\n\n            var obj = {\n              capability: (0, _util.createPromiseCapability)(),\n              data: null,\n              resolved: false\n            };\n            this.objs[objId] = obj;\n            return obj;\n          },\n          get: function PDFObjects_get(objId, callback) {\n            if (callback) {\n              this.ensureObj(objId).capability.promise.then(callback);\n              return null;\n            }\n\n            var obj = this.objs[objId];\n\n            if (!obj || !obj.resolved) {\n              throw new Error('Requesting object that isn\\'t resolved yet ' + objId);\n            }\n\n            return obj.data;\n          },\n          resolve: function PDFObjects_resolve(objId, data) {\n            var obj = this.ensureObj(objId);\n            obj.resolved = true;\n            obj.data = data;\n            obj.capability.resolve(data);\n          },\n          isResolved: function PDFObjects_isResolved(objId) {\n            var objs = this.objs;\n\n            if (!objs[objId]) {\n              return false;\n            }\n\n            return objs[objId].resolved;\n          },\n          hasData: function PDFObjects_hasData(objId) {\n            return this.isResolved(objId);\n          },\n          getData: function PDFObjects_getData(objId) {\n            var objs = this.objs;\n\n            if (!objs[objId] || !objs[objId].resolved) {\n              return null;\n            }\n\n            return objs[objId].data;\n          },\n          clear: function PDFObjects_clear() {\n            this.objs = Object.create(null);\n          }\n        };\n        return PDFObjects;\n      }();\n\n      var RenderTask = function RenderTaskClosure() {\n        function RenderTask(internalRenderTask) {\n          this._internalRenderTask = internalRenderTask;\n          this.onContinue = null;\n        }\n\n        RenderTask.prototype = {\n          get promise() {\n            return this._internalRenderTask.capability.promise;\n          },\n\n          cancel: function RenderTask_cancel() {\n            this._internalRenderTask.cancel();\n          },\n          then: function RenderTask_then(onFulfilled, onRejected) {\n            return this.promise.then.apply(this.promise, arguments);\n          }\n        };\n        return RenderTask;\n      }();\n\n      var InternalRenderTask = function InternalRenderTaskClosure() {\n        var canvasInRendering = new WeakMap();\n\n        function InternalRenderTask(callback, params, objs, commonObjs, operatorList, pageNumber, canvasFactory) {\n          this.callback = callback;\n          this.params = params;\n          this.objs = objs;\n          this.commonObjs = commonObjs;\n          this.operatorListIdx = null;\n          this.operatorList = operatorList;\n          this.pageNumber = pageNumber;\n          this.canvasFactory = canvasFactory;\n          this.running = false;\n          this.graphicsReadyCallback = null;\n          this.graphicsReady = false;\n          this.useRequestAnimationFrame = false;\n          this.cancelled = false;\n          this.capability = (0, _util.createPromiseCapability)();\n          this.task = new RenderTask(this);\n          this._continueBound = this._continue.bind(this);\n          this._scheduleNextBound = this._scheduleNext.bind(this);\n          this._nextBound = this._next.bind(this);\n          this._canvas = params.canvasContext.canvas;\n        }\n\n        InternalRenderTask.prototype = {\n          initializeGraphics: function InternalRenderTask_initializeGraphics(transparency) {\n            if (this._canvas) {\n              if (canvasInRendering.has(this._canvas)) {\n                throw new Error('Cannot use the same canvas during multiple render() operations. ' + 'Use different canvas or ensure previous operations were ' + 'cancelled or completed.');\n              }\n\n              canvasInRendering.set(this._canvas, this);\n            }\n\n            if (this.cancelled) {\n              return;\n            }\n\n            if ((0, _dom_utils.getDefaultSetting)('pdfBug') && _util.globalScope.StepperManager && _util.globalScope.StepperManager.enabled) {\n              this.stepper = _util.globalScope.StepperManager.create(this.pageNumber - 1);\n              this.stepper.init(this.operatorList);\n              this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n            }\n\n            var params = this.params;\n            this.gfx = new _canvas.CanvasGraphics(params.canvasContext, this.commonObjs, this.objs, this.canvasFactory, params.imageLayer);\n            this.gfx.beginDrawing({\n              transform: params.transform,\n              viewport: params.viewport,\n              transparency: transparency,\n              background: params.background\n            });\n            this.operatorListIdx = 0;\n            this.graphicsReady = true;\n\n            if (this.graphicsReadyCallback) {\n              this.graphicsReadyCallback();\n            }\n          },\n          cancel: function InternalRenderTask_cancel() {\n            this.running = false;\n            this.cancelled = true;\n\n            if (this._canvas) {\n              canvasInRendering.delete(this._canvas);\n            }\n\n            if ((0, _dom_utils.getDefaultSetting)('pdfjsNext')) {\n              this.callback(new _dom_utils.RenderingCancelledException('Rendering cancelled, page ' + this.pageNumber, 'canvas'));\n            } else {\n              this.callback('cancelled');\n            }\n          },\n          operatorListChanged: function InternalRenderTask_operatorListChanged() {\n            if (!this.graphicsReady) {\n              if (!this.graphicsReadyCallback) {\n                this.graphicsReadyCallback = this._continueBound;\n              }\n\n              return;\n            }\n\n            if (this.stepper) {\n              this.stepper.updateOperatorList(this.operatorList);\n            }\n\n            if (this.running) {\n              return;\n            }\n\n            this._continue();\n          },\n          _continue: function InternalRenderTask__continue() {\n            this.running = true;\n\n            if (this.cancelled) {\n              return;\n            }\n\n            if (this.task.onContinue) {\n              this.task.onContinue(this._scheduleNextBound);\n            } else {\n              this._scheduleNext();\n            }\n          },\n          _scheduleNext: function InternalRenderTask__scheduleNext() {\n            if (this.useRequestAnimationFrame && typeof window !== 'undefined') {\n              window.requestAnimationFrame(this._nextBound);\n            } else {\n              Promise.resolve(undefined).then(this._nextBound);\n            }\n          },\n          _next: function InternalRenderTask__next() {\n            if (this.cancelled) {\n              return;\n            }\n\n            this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n\n            if (this.operatorListIdx === this.operatorList.argsArray.length) {\n              this.running = false;\n\n              if (this.operatorList.lastChunk) {\n                this.gfx.endDrawing();\n\n                if (this._canvas) {\n                  canvasInRendering.delete(this._canvas);\n                }\n\n                this.callback();\n              }\n            }\n          }\n        };\n        return InternalRenderTask;\n      }();\n\n      var _UnsupportedManager = function UnsupportedManagerClosure() {\n        var listeners = [];\n        return {\n          listen: function listen(cb) {\n            (0, _util.deprecated)('Global UnsupportedManager.listen is used: ' + ' use PDFDocumentLoadingTask.onUnsupportedFeature instead');\n            listeners.push(cb);\n          },\n          notify: function notify(featureId) {\n            for (var i = 0, ii = listeners.length; i < ii; i++) {\n              listeners[i](featureId);\n            }\n          }\n        };\n      }();\n\n      var version, build;\n      {\n        exports.version = version = '1.9.426';\n        exports.build = build = '2558a58d';\n      }\n      exports.getDocument = getDocument;\n      exports.LoopbackPort = LoopbackPort;\n      exports.PDFDataRangeTransport = PDFDataRangeTransport;\n      exports.PDFWorker = PDFWorker;\n      exports.PDFDocumentProxy = PDFDocumentProxy;\n      exports.PDFPageProxy = PDFPageProxy;\n      exports.setPDFNetworkStreamClass = setPDFNetworkStreamClass;\n      exports._UnsupportedManager = _UnsupportedManager;\n      exports.version = version;\n      exports.build = build;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AnnotationLayer = undefined;\n\n      var _dom_utils = __w_pdfjs_require__(1);\n\n      var _util = __w_pdfjs_require__(0);\n\n      function AnnotationElementFactory() {}\n\n      AnnotationElementFactory.prototype = {\n        create: function AnnotationElementFactory_create(parameters) {\n          var subtype = parameters.data.annotationType;\n\n          switch (subtype) {\n            case _util.AnnotationType.LINK:\n              return new LinkAnnotationElement(parameters);\n\n            case _util.AnnotationType.TEXT:\n              return new TextAnnotationElement(parameters);\n\n            case _util.AnnotationType.WIDGET:\n              var fieldType = parameters.data.fieldType;\n\n              switch (fieldType) {\n                case 'Tx':\n                  return new TextWidgetAnnotationElement(parameters);\n\n                case 'Btn':\n                  if (parameters.data.radioButton) {\n                    return new RadioButtonWidgetAnnotationElement(parameters);\n                  } else if (parameters.data.checkBox) {\n                    return new CheckboxWidgetAnnotationElement(parameters);\n                  }\n\n                  (0, _util.warn)('Unimplemented button widget annotation: pushbutton');\n                  break;\n\n                case 'Ch':\n                  return new ChoiceWidgetAnnotationElement(parameters);\n              }\n\n              return new WidgetAnnotationElement(parameters);\n\n            case _util.AnnotationType.POPUP:\n              return new PopupAnnotationElement(parameters);\n\n            case _util.AnnotationType.LINE:\n              return new LineAnnotationElement(parameters);\n\n            case _util.AnnotationType.HIGHLIGHT:\n              return new HighlightAnnotationElement(parameters);\n\n            case _util.AnnotationType.UNDERLINE:\n              return new UnderlineAnnotationElement(parameters);\n\n            case _util.AnnotationType.SQUIGGLY:\n              return new SquigglyAnnotationElement(parameters);\n\n            case _util.AnnotationType.STRIKEOUT:\n              return new StrikeOutAnnotationElement(parameters);\n\n            case _util.AnnotationType.FILEATTACHMENT:\n              return new FileAttachmentAnnotationElement(parameters);\n\n            default:\n              return new AnnotationElement(parameters);\n          }\n        }\n      };\n\n      var AnnotationElement = function AnnotationElementClosure() {\n        function AnnotationElement(parameters, isRenderable, ignoreBorder) {\n          this.isRenderable = isRenderable || false;\n          this.data = parameters.data;\n          this.layer = parameters.layer;\n          this.page = parameters.page;\n          this.viewport = parameters.viewport;\n          this.linkService = parameters.linkService;\n          this.downloadManager = parameters.downloadManager;\n          this.imageResourcesPath = parameters.imageResourcesPath;\n          this.renderInteractiveForms = parameters.renderInteractiveForms;\n\n          if (isRenderable) {\n            this.container = this._createContainer(ignoreBorder);\n          }\n        }\n\n        AnnotationElement.prototype = {\n          _createContainer: function AnnotationElement_createContainer(ignoreBorder) {\n            var data = this.data,\n                page = this.page,\n                viewport = this.viewport;\n            var container = document.createElement('section');\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            container.setAttribute('data-annotation-id', data.id);\n\n            var rect = _util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n\n            _dom_utils.CustomStyle.setProp('transform', container, 'matrix(' + viewport.transform.join(',') + ')');\n\n            _dom_utils.CustomStyle.setProp('transformOrigin', container, -rect[0] + 'px ' + -rect[1] + 'px');\n\n            if (!ignoreBorder && data.borderStyle.width > 0) {\n              container.style.borderWidth = data.borderStyle.width + 'px';\n\n              if (data.borderStyle.style !== _util.AnnotationBorderStyleType.UNDERLINE) {\n                width = width - 2 * data.borderStyle.width;\n                height = height - 2 * data.borderStyle.width;\n              }\n\n              var horizontalRadius = data.borderStyle.horizontalCornerRadius;\n              var verticalRadius = data.borderStyle.verticalCornerRadius;\n\n              if (horizontalRadius > 0 || verticalRadius > 0) {\n                var radius = horizontalRadius + 'px / ' + verticalRadius + 'px';\n\n                _dom_utils.CustomStyle.setProp('borderRadius', container, radius);\n              }\n\n              switch (data.borderStyle.style) {\n                case _util.AnnotationBorderStyleType.SOLID:\n                  container.style.borderStyle = 'solid';\n                  break;\n\n                case _util.AnnotationBorderStyleType.DASHED:\n                  container.style.borderStyle = 'dashed';\n                  break;\n\n                case _util.AnnotationBorderStyleType.BEVELED:\n                  (0, _util.warn)('Unimplemented border style: beveled');\n                  break;\n\n                case _util.AnnotationBorderStyleType.INSET:\n                  (0, _util.warn)('Unimplemented border style: inset');\n                  break;\n\n                case _util.AnnotationBorderStyleType.UNDERLINE:\n                  container.style.borderBottomStyle = 'solid';\n                  break;\n\n                default:\n                  break;\n              }\n\n              if (data.color) {\n                container.style.borderColor = _util.Util.makeCssRgb(data.color[0] | 0, data.color[1] | 0, data.color[2] | 0);\n              } else {\n                container.style.borderWidth = 0;\n              }\n            }\n\n            container.style.left = rect[0] + 'px';\n            container.style.top = rect[1] + 'px';\n            container.style.width = width + 'px';\n            container.style.height = height + 'px';\n            return container;\n          },\n          _createPopup: function AnnotationElement_createPopup(container, trigger, data) {\n            if (!trigger) {\n              trigger = document.createElement('div');\n              trigger.style.height = container.style.height;\n              trigger.style.width = container.style.width;\n              container.appendChild(trigger);\n            }\n\n            var popupElement = new PopupElement({\n              container: container,\n              trigger: trigger,\n              color: data.color,\n              title: data.title,\n              contents: data.contents,\n              hideWrapper: true\n            });\n            var popup = popupElement.render();\n            popup.style.left = container.style.width;\n            container.appendChild(popup);\n          },\n          render: function AnnotationElement_render() {\n            throw new Error('Abstract method AnnotationElement.render called');\n          }\n        };\n        return AnnotationElement;\n      }();\n\n      var LinkAnnotationElement = function LinkAnnotationElementClosure() {\n        function LinkAnnotationElement(parameters) {\n          AnnotationElement.call(this, parameters, true);\n        }\n\n        _util.Util.inherit(LinkAnnotationElement, AnnotationElement, {\n          render: function LinkAnnotationElement_render() {\n            this.container.className = 'linkAnnotation';\n            var link = document.createElement('a');\n            (0, _dom_utils.addLinkAttributes)(link, {\n              url: this.data.url,\n              target: this.data.newWindow ? _dom_utils.LinkTarget.BLANK : undefined\n            });\n\n            if (!this.data.url) {\n              if (this.data.action) {\n                this._bindNamedAction(link, this.data.action);\n              } else {\n                this._bindLink(link, this.data.dest);\n              }\n            }\n\n            this.container.appendChild(link);\n            return this.container;\n          },\n          _bindLink: function _bindLink(link, destination) {\n            var _this = this;\n\n            link.href = this.linkService.getDestinationHash(destination);\n\n            link.onclick = function () {\n              if (destination) {\n                _this.linkService.navigateTo(destination);\n              }\n\n              return false;\n            };\n\n            if (destination) {\n              link.className = 'internalLink';\n            }\n          },\n          _bindNamedAction: function _bindNamedAction(link, action) {\n            var _this2 = this;\n\n            link.href = this.linkService.getAnchorUrl('');\n\n            link.onclick = function () {\n              _this2.linkService.executeNamedAction(action);\n\n              return false;\n            };\n\n            link.className = 'internalLink';\n          }\n        });\n\n        return LinkAnnotationElement;\n      }();\n\n      var TextAnnotationElement = function TextAnnotationElementClosure() {\n        function TextAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        _util.Util.inherit(TextAnnotationElement, AnnotationElement, {\n          render: function TextAnnotationElement_render() {\n            this.container.className = 'textAnnotation';\n            var image = document.createElement('img');\n            image.style.height = this.container.style.height;\n            image.style.width = this.container.style.width;\n            image.src = this.imageResourcesPath + 'annotation-' + this.data.name.toLowerCase() + '.svg';\n            image.alt = '[{{type}} Annotation]';\n            image.dataset.l10nId = 'text_annotation_type';\n            image.dataset.l10nArgs = JSON.stringify({\n              type: this.data.name\n            });\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, image, this.data);\n            }\n\n            this.container.appendChild(image);\n            return this.container;\n          }\n        });\n\n        return TextAnnotationElement;\n      }();\n\n      var WidgetAnnotationElement = function WidgetAnnotationElementClosure() {\n        function WidgetAnnotationElement(parameters, isRenderable) {\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        _util.Util.inherit(WidgetAnnotationElement, AnnotationElement, {\n          render: function WidgetAnnotationElement_render() {\n            return this.container;\n          }\n        });\n\n        return WidgetAnnotationElement;\n      }();\n\n      var TextWidgetAnnotationElement = function TextWidgetAnnotationElementClosure() {\n        var TEXT_ALIGNMENT = ['left', 'center', 'right'];\n\n        function TextWidgetAnnotationElement(parameters) {\n          var isRenderable = parameters.renderInteractiveForms || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n          WidgetAnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        _util.Util.inherit(TextWidgetAnnotationElement, WidgetAnnotationElement, {\n          render: function TextWidgetAnnotationElement_render() {\n            this.container.className = 'textWidgetAnnotation';\n            var element = null;\n\n            if (this.renderInteractiveForms) {\n              if (this.data.multiLine) {\n                element = document.createElement('textarea');\n                element.textContent = this.data.fieldValue;\n              } else {\n                element = document.createElement('input');\n                element.type = 'text';\n                element.setAttribute('value', this.data.fieldValue);\n              }\n\n              element.disabled = this.data.readOnly;\n\n              if (this.data.maxLen !== null) {\n                element.maxLength = this.data.maxLen;\n              }\n\n              if (this.data.comb) {\n                var fieldWidth = this.data.rect[2] - this.data.rect[0];\n                var combWidth = fieldWidth / this.data.maxLen;\n                element.classList.add('comb');\n                element.style.letterSpacing = 'calc(' + combWidth + 'px - 1ch)';\n              }\n            } else {\n              element = document.createElement('div');\n              element.textContent = this.data.fieldValue;\n              element.style.verticalAlign = 'middle';\n              element.style.display = 'table-cell';\n              var font = null;\n\n              if (this.data.fontRefName) {\n                font = this.page.commonObjs.getData(this.data.fontRefName);\n              }\n\n              this._setTextStyle(element, font);\n            }\n\n            if (this.data.textAlignment !== null) {\n              element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n            }\n\n            this.container.appendChild(element);\n            return this.container;\n          },\n          _setTextStyle: function TextWidgetAnnotationElement_setTextStyle(element, font) {\n            var style = element.style;\n            style.fontSize = this.data.fontSize + 'px';\n            style.direction = this.data.fontDirection < 0 ? 'rtl' : 'ltr';\n\n            if (!font) {\n              return;\n            }\n\n            style.fontWeight = font.black ? font.bold ? '900' : 'bold' : font.bold ? 'bold' : 'normal';\n            style.fontStyle = font.italic ? 'italic' : 'normal';\n            var fontFamily = font.loadedName ? '\"' + font.loadedName + '\", ' : '';\n            var fallbackName = font.fallbackName || 'Helvetica, sans-serif';\n            style.fontFamily = fontFamily + fallbackName;\n          }\n        });\n\n        return TextWidgetAnnotationElement;\n      }();\n\n      var CheckboxWidgetAnnotationElement = function CheckboxWidgetAnnotationElementClosure() {\n        function CheckboxWidgetAnnotationElement(parameters) {\n          WidgetAnnotationElement.call(this, parameters, parameters.renderInteractiveForms);\n        }\n\n        _util.Util.inherit(CheckboxWidgetAnnotationElement, WidgetAnnotationElement, {\n          render: function CheckboxWidgetAnnotationElement_render() {\n            this.container.className = 'buttonWidgetAnnotation checkBox';\n            var element = document.createElement('input');\n            element.disabled = this.data.readOnly;\n            element.type = 'checkbox';\n\n            if (this.data.fieldValue && this.data.fieldValue !== 'Off') {\n              element.setAttribute('checked', true);\n            }\n\n            this.container.appendChild(element);\n            return this.container;\n          }\n        });\n\n        return CheckboxWidgetAnnotationElement;\n      }();\n\n      var RadioButtonWidgetAnnotationElement = function RadioButtonWidgetAnnotationElementClosure() {\n        function RadioButtonWidgetAnnotationElement(parameters) {\n          WidgetAnnotationElement.call(this, parameters, parameters.renderInteractiveForms);\n        }\n\n        _util.Util.inherit(RadioButtonWidgetAnnotationElement, WidgetAnnotationElement, {\n          render: function RadioButtonWidgetAnnotationElement_render() {\n            this.container.className = 'buttonWidgetAnnotation radioButton';\n            var element = document.createElement('input');\n            element.disabled = this.data.readOnly;\n            element.type = 'radio';\n            element.name = this.data.fieldName;\n\n            if (this.data.fieldValue === this.data.buttonValue) {\n              element.setAttribute('checked', true);\n            }\n\n            this.container.appendChild(element);\n            return this.container;\n          }\n        });\n\n        return RadioButtonWidgetAnnotationElement;\n      }();\n\n      var ChoiceWidgetAnnotationElement = function ChoiceWidgetAnnotationElementClosure() {\n        function ChoiceWidgetAnnotationElement(parameters) {\n          WidgetAnnotationElement.call(this, parameters, parameters.renderInteractiveForms);\n        }\n\n        _util.Util.inherit(ChoiceWidgetAnnotationElement, WidgetAnnotationElement, {\n          render: function ChoiceWidgetAnnotationElement_render() {\n            this.container.className = 'choiceWidgetAnnotation';\n            var selectElement = document.createElement('select');\n            selectElement.disabled = this.data.readOnly;\n\n            if (!this.data.combo) {\n              selectElement.size = this.data.options.length;\n\n              if (this.data.multiSelect) {\n                selectElement.multiple = true;\n              }\n            }\n\n            for (var i = 0, ii = this.data.options.length; i < ii; i++) {\n              var option = this.data.options[i];\n              var optionElement = document.createElement('option');\n              optionElement.textContent = option.displayValue;\n              optionElement.value = option.exportValue;\n\n              if (this.data.fieldValue.indexOf(option.displayValue) >= 0) {\n                optionElement.setAttribute('selected', true);\n              }\n\n              selectElement.appendChild(optionElement);\n            }\n\n            this.container.appendChild(selectElement);\n            return this.container;\n          }\n        });\n\n        return ChoiceWidgetAnnotationElement;\n      }();\n\n      var PopupAnnotationElement = function PopupAnnotationElementClosure() {\n        var IGNORE_TYPES = ['Line'];\n\n        function PopupAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable);\n        }\n\n        _util.Util.inherit(PopupAnnotationElement, AnnotationElement, {\n          render: function PopupAnnotationElement_render() {\n            this.container.className = 'popupAnnotation';\n\n            if (IGNORE_TYPES.indexOf(this.data.parentType) >= 0) {\n              return this.container;\n            }\n\n            var selector = '[data-annotation-id=\"' + this.data.parentId + '\"]';\n            var parentElement = this.layer.querySelector(selector);\n\n            if (!parentElement) {\n              return this.container;\n            }\n\n            var popup = new PopupElement({\n              container: this.container,\n              trigger: parentElement,\n              color: this.data.color,\n              title: this.data.title,\n              contents: this.data.contents\n            });\n            var parentLeft = parseFloat(parentElement.style.left);\n            var parentWidth = parseFloat(parentElement.style.width);\n\n            _dom_utils.CustomStyle.setProp('transformOrigin', this.container, -(parentLeft + parentWidth) + 'px -' + parentElement.style.top);\n\n            this.container.style.left = parentLeft + parentWidth + 'px';\n            this.container.appendChild(popup.render());\n            return this.container;\n          }\n        });\n\n        return PopupAnnotationElement;\n      }();\n\n      var PopupElement = function PopupElementClosure() {\n        var BACKGROUND_ENLIGHT = 0.7;\n\n        function PopupElement(parameters) {\n          this.container = parameters.container;\n          this.trigger = parameters.trigger;\n          this.color = parameters.color;\n          this.title = parameters.title;\n          this.contents = parameters.contents;\n          this.hideWrapper = parameters.hideWrapper || false;\n          this.pinned = false;\n        }\n\n        PopupElement.prototype = {\n          render: function PopupElement_render() {\n            var wrapper = document.createElement('div');\n            wrapper.className = 'popupWrapper';\n            this.hideElement = this.hideWrapper ? wrapper : this.container;\n            this.hideElement.setAttribute('hidden', true);\n            var popup = document.createElement('div');\n            popup.className = 'popup';\n            var color = this.color;\n\n            if (color) {\n              var r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n              var g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n              var b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n              popup.style.backgroundColor = _util.Util.makeCssRgb(r | 0, g | 0, b | 0);\n            }\n\n            var contents = this._formatContents(this.contents);\n\n            var title = document.createElement('h1');\n            title.textContent = this.title;\n            this.trigger.addEventListener('click', this._toggle.bind(this));\n            this.trigger.addEventListener('mouseover', this._show.bind(this, false));\n            this.trigger.addEventListener('mouseout', this._hide.bind(this, false));\n            popup.addEventListener('click', this._hide.bind(this, true));\n            popup.appendChild(title);\n            popup.appendChild(contents);\n            wrapper.appendChild(popup);\n            return wrapper;\n          },\n          _formatContents: function PopupElement_formatContents(contents) {\n            var p = document.createElement('p');\n            var lines = contents.split(/(?:\\r\\n?|\\n)/);\n\n            for (var i = 0, ii = lines.length; i < ii; ++i) {\n              var line = lines[i];\n              p.appendChild(document.createTextNode(line));\n\n              if (i < ii - 1) {\n                p.appendChild(document.createElement('br'));\n              }\n            }\n\n            return p;\n          },\n          _toggle: function PopupElement_toggle() {\n            if (this.pinned) {\n              this._hide(true);\n            } else {\n              this._show(true);\n            }\n          },\n          _show: function PopupElement_show(pin) {\n            if (pin) {\n              this.pinned = true;\n            }\n\n            if (this.hideElement.hasAttribute('hidden')) {\n              this.hideElement.removeAttribute('hidden');\n              this.container.style.zIndex += 1;\n            }\n          },\n          _hide: function PopupElement_hide(unpin) {\n            if (unpin) {\n              this.pinned = false;\n            }\n\n            if (!this.hideElement.hasAttribute('hidden') && !this.pinned) {\n              this.hideElement.setAttribute('hidden', true);\n              this.container.style.zIndex -= 1;\n            }\n          }\n        };\n        return PopupElement;\n      }();\n\n      var LineAnnotationElement = function LineAnnotationElementClosure() {\n        var SVG_NS = 'http://www.w3.org/2000/svg';\n\n        function LineAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable, true);\n        }\n\n        _util.Util.inherit(LineAnnotationElement, AnnotationElement, {\n          render: function LineAnnotationElement_render() {\n            this.container.className = 'lineAnnotation';\n            var data = this.data;\n            var width = data.rect[2] - data.rect[0];\n            var height = data.rect[3] - data.rect[1];\n            var svg = document.createElementNS(SVG_NS, 'svg:svg');\n            svg.setAttributeNS(null, 'version', '1.1');\n            svg.setAttributeNS(null, 'width', width + 'px');\n            svg.setAttributeNS(null, 'height', height + 'px');\n            svg.setAttributeNS(null, 'preserveAspectRatio', 'none');\n            svg.setAttributeNS(null, 'viewBox', '0 0 ' + width + ' ' + height);\n            var line = document.createElementNS(SVG_NS, 'svg:line');\n            line.setAttributeNS(null, 'x1', data.rect[2] - data.lineCoordinates[0]);\n            line.setAttributeNS(null, 'y1', data.rect[3] - data.lineCoordinates[1]);\n            line.setAttributeNS(null, 'x2', data.rect[2] - data.lineCoordinates[2]);\n            line.setAttributeNS(null, 'y2', data.rect[3] - data.lineCoordinates[3]);\n            line.setAttributeNS(null, 'stroke-width', data.borderStyle.width);\n            line.setAttributeNS(null, 'stroke', 'transparent');\n            svg.appendChild(line);\n            this.container.append(svg);\n\n            this._createPopup(this.container, line, this.data);\n\n            return this.container;\n          }\n        });\n\n        return LineAnnotationElement;\n      }();\n\n      var HighlightAnnotationElement = function HighlightAnnotationElementClosure() {\n        function HighlightAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable, true);\n        }\n\n        _util.Util.inherit(HighlightAnnotationElement, AnnotationElement, {\n          render: function HighlightAnnotationElement_render() {\n            this.container.className = 'highlightAnnotation';\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n\n            return this.container;\n          }\n        });\n\n        return HighlightAnnotationElement;\n      }();\n\n      var UnderlineAnnotationElement = function UnderlineAnnotationElementClosure() {\n        function UnderlineAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable, true);\n        }\n\n        _util.Util.inherit(UnderlineAnnotationElement, AnnotationElement, {\n          render: function UnderlineAnnotationElement_render() {\n            this.container.className = 'underlineAnnotation';\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n\n            return this.container;\n          }\n        });\n\n        return UnderlineAnnotationElement;\n      }();\n\n      var SquigglyAnnotationElement = function SquigglyAnnotationElementClosure() {\n        function SquigglyAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable, true);\n        }\n\n        _util.Util.inherit(SquigglyAnnotationElement, AnnotationElement, {\n          render: function SquigglyAnnotationElement_render() {\n            this.container.className = 'squigglyAnnotation';\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n\n            return this.container;\n          }\n        });\n\n        return SquigglyAnnotationElement;\n      }();\n\n      var StrikeOutAnnotationElement = function StrikeOutAnnotationElementClosure() {\n        function StrikeOutAnnotationElement(parameters) {\n          var isRenderable = !!(parameters.data.hasPopup || parameters.data.title || parameters.data.contents);\n          AnnotationElement.call(this, parameters, isRenderable, true);\n        }\n\n        _util.Util.inherit(StrikeOutAnnotationElement, AnnotationElement, {\n          render: function StrikeOutAnnotationElement_render() {\n            this.container.className = 'strikeoutAnnotation';\n\n            if (!this.data.hasPopup) {\n              this._createPopup(this.container, null, this.data);\n            }\n\n            return this.container;\n          }\n        });\n\n        return StrikeOutAnnotationElement;\n      }();\n\n      var FileAttachmentAnnotationElement = function FileAttachmentAnnotationElementClosure() {\n        function FileAttachmentAnnotationElement(parameters) {\n          AnnotationElement.call(this, parameters, true);\n          var file = this.data.file;\n          this.filename = (0, _dom_utils.getFilenameFromUrl)(file.filename);\n          this.content = file.content;\n          this.linkService.onFileAttachmentAnnotation({\n            id: (0, _util.stringToPDFString)(file.filename),\n            filename: file.filename,\n            content: file.content\n          });\n        }\n\n        _util.Util.inherit(FileAttachmentAnnotationElement, AnnotationElement, {\n          render: function FileAttachmentAnnotationElement_render() {\n            this.container.className = 'fileAttachmentAnnotation';\n            var trigger = document.createElement('div');\n            trigger.style.height = this.container.style.height;\n            trigger.style.width = this.container.style.width;\n            trigger.addEventListener('dblclick', this._download.bind(this));\n\n            if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n              this._createPopup(this.container, trigger, this.data);\n            }\n\n            this.container.appendChild(trigger);\n            return this.container;\n          },\n          _download: function FileAttachmentAnnotationElement_download() {\n            if (!this.downloadManager) {\n              (0, _util.warn)('Download cannot be started due to unavailable download manager');\n              return;\n            }\n\n            this.downloadManager.downloadData(this.content, this.filename, '');\n          }\n        });\n\n        return FileAttachmentAnnotationElement;\n      }();\n\n      var AnnotationLayer = function AnnotationLayerClosure() {\n        return {\n          render: function AnnotationLayer_render(parameters) {\n            var annotationElementFactory = new AnnotationElementFactory();\n\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n\n              if (!data) {\n                continue;\n              }\n\n              var element = annotationElementFactory.create({\n                data: data,\n                layer: parameters.div,\n                page: parameters.page,\n                viewport: parameters.viewport,\n                linkService: parameters.linkService,\n                downloadManager: parameters.downloadManager,\n                imageResourcesPath: parameters.imageResourcesPath || (0, _dom_utils.getDefaultSetting)('imageResourcesPath'),\n                renderInteractiveForms: parameters.renderInteractiveForms || false\n              });\n\n              if (element.isRenderable) {\n                parameters.div.appendChild(element.render());\n              }\n            }\n          },\n          update: function AnnotationLayer_update(parameters) {\n            for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n              var data = parameters.annotations[i];\n              var element = parameters.div.querySelector('[data-annotation-id=\"' + data.id + '\"]');\n\n              if (element) {\n                _dom_utils.CustomStyle.setProp('transform', element, 'matrix(' + parameters.viewport.transform.join(',') + ')');\n              }\n            }\n\n            parameters.div.removeAttribute('hidden');\n          }\n        };\n      }();\n\n      exports.AnnotationLayer = AnnotationLayer;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SVGGraphics = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var SVGGraphics = function SVGGraphics() {\n        throw new Error('Not implemented: SVGGraphics');\n      };\n\n      {\n        var SVG_DEFAULTS = {\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          fillColor: '#000000'\n        };\n\n        var convertImgDataToPng = function convertImgDataToPngClosure() {\n          var PNG_HEADER = new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n          var CHUNK_WRAPPER_SIZE = 12;\n          var crcTable = new Int32Array(256);\n\n          for (var i = 0; i < 256; i++) {\n            var c = i;\n\n            for (var h = 0; h < 8; h++) {\n              if (c & 1) {\n                c = 0xedB88320 ^ c >> 1 & 0x7fffffff;\n              } else {\n                c = c >> 1 & 0x7fffffff;\n              }\n            }\n\n            crcTable[i] = c;\n          }\n\n          function crc32(data, start, end) {\n            var crc = -1;\n\n            for (var i = start; i < end; i++) {\n              var a = (crc ^ data[i]) & 0xff;\n              var b = crcTable[a];\n              crc = crc >>> 8 ^ b;\n            }\n\n            return crc ^ -1;\n          }\n\n          function writePngChunk(type, body, data, offset) {\n            var p = offset;\n            var len = body.length;\n            data[p] = len >> 24 & 0xff;\n            data[p + 1] = len >> 16 & 0xff;\n            data[p + 2] = len >> 8 & 0xff;\n            data[p + 3] = len & 0xff;\n            p += 4;\n            data[p] = type.charCodeAt(0) & 0xff;\n            data[p + 1] = type.charCodeAt(1) & 0xff;\n            data[p + 2] = type.charCodeAt(2) & 0xff;\n            data[p + 3] = type.charCodeAt(3) & 0xff;\n            p += 4;\n            data.set(body, p);\n            p += body.length;\n            var crc = crc32(data, offset + 4, p);\n            data[p] = crc >> 24 & 0xff;\n            data[p + 1] = crc >> 16 & 0xff;\n            data[p + 2] = crc >> 8 & 0xff;\n            data[p + 3] = crc & 0xff;\n          }\n\n          function adler32(data, start, end) {\n            var a = 1;\n            var b = 0;\n\n            for (var i = start; i < end; ++i) {\n              a = (a + (data[i] & 0xff)) % 65521;\n              b = (b + a) % 65521;\n            }\n\n            return b << 16 | a;\n          }\n\n          function deflateSync(literals) {\n            if (!(0, _util.isNodeJS)()) {\n              return deflateSyncUncompressed(literals);\n            }\n\n            try {\n              var input;\n\n              if (parseInt(process.versions.node) >= 8) {\n                input = literals;\n              } else {\n                input = new Buffer(literals);\n              }\n\n              var output = require('zlib').deflateSync(input, {\n                level: 9\n              });\n\n              return output instanceof Uint8Array ? output : new Uint8Array(output);\n            } catch (e) {\n              (0, _util.warn)('Not compressing PNG because zlib.deflateSync is unavailable: ' + e);\n            }\n\n            return deflateSyncUncompressed(literals);\n          }\n\n          function deflateSyncUncompressed(literals) {\n            var len = literals.length;\n            var maxBlockLength = 0xFFFF;\n            var deflateBlocks = Math.ceil(len / maxBlockLength);\n            var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n            var pi = 0;\n            idat[pi++] = 0x78;\n            idat[pi++] = 0x9c;\n            var pos = 0;\n\n            while (len > maxBlockLength) {\n              idat[pi++] = 0x00;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0xff;\n              idat[pi++] = 0x00;\n              idat[pi++] = 0x00;\n              idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n              pi += maxBlockLength;\n              pos += maxBlockLength;\n              len -= maxBlockLength;\n            }\n\n            idat[pi++] = 0x01;\n            idat[pi++] = len & 0xff;\n            idat[pi++] = len >> 8 & 0xff;\n            idat[pi++] = ~len & 0xffff & 0xff;\n            idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n            idat.set(literals.subarray(pos), pi);\n            pi += literals.length - pos;\n            var adler = adler32(literals, 0, literals.length);\n            idat[pi++] = adler >> 24 & 0xff;\n            idat[pi++] = adler >> 16 & 0xff;\n            idat[pi++] = adler >> 8 & 0xff;\n            idat[pi++] = adler & 0xff;\n            return idat;\n          }\n\n          function encode(imgData, kind, forceDataSchema) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var bitDepth, colorType, lineSize;\n            var bytes = imgData.data;\n\n            switch (kind) {\n              case _util.ImageKind.GRAYSCALE_1BPP:\n                colorType = 0;\n                bitDepth = 1;\n                lineSize = width + 7 >> 3;\n                break;\n\n              case _util.ImageKind.RGB_24BPP:\n                colorType = 2;\n                bitDepth = 8;\n                lineSize = width * 3;\n                break;\n\n              case _util.ImageKind.RGBA_32BPP:\n                colorType = 6;\n                bitDepth = 8;\n                lineSize = width * 4;\n                break;\n\n              default:\n                throw new Error('invalid format');\n            }\n\n            var literals = new Uint8Array((1 + lineSize) * height);\n            var offsetLiterals = 0,\n                offsetBytes = 0;\n            var y, i;\n\n            for (y = 0; y < height; ++y) {\n              literals[offsetLiterals++] = 0;\n              literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize), offsetLiterals);\n              offsetBytes += lineSize;\n              offsetLiterals += lineSize;\n            }\n\n            if (kind === _util.ImageKind.GRAYSCALE_1BPP) {\n              offsetLiterals = 0;\n\n              for (y = 0; y < height; y++) {\n                offsetLiterals++;\n\n                for (i = 0; i < lineSize; i++) {\n                  literals[offsetLiterals++] ^= 0xFF;\n                }\n              }\n            }\n\n            var ihdr = new Uint8Array([width >> 24 & 0xff, width >> 16 & 0xff, width >> 8 & 0xff, width & 0xff, height >> 24 & 0xff, height >> 16 & 0xff, height >> 8 & 0xff, height & 0xff, bitDepth, colorType, 0x00, 0x00, 0x00]);\n            var idat = deflateSync(literals);\n            var pngLength = PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n            var data = new Uint8Array(pngLength);\n            var offset = 0;\n            data.set(PNG_HEADER, offset);\n            offset += PNG_HEADER.length;\n            writePngChunk('IHDR', ihdr, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n            writePngChunk('IDATA', idat, data, offset);\n            offset += CHUNK_WRAPPER_SIZE + idat.length;\n            writePngChunk('IEND', new Uint8Array(0), data, offset);\n            return (0, _util.createObjectURL)(data, 'image/png', forceDataSchema);\n          }\n\n          return function convertImgDataToPng(imgData, forceDataSchema) {\n            var kind = imgData.kind === undefined ? _util.ImageKind.GRAYSCALE_1BPP : imgData.kind;\n            return encode(imgData, kind, forceDataSchema);\n          };\n        }();\n\n        var SVGExtraState = function SVGExtraStateClosure() {\n          function SVGExtraState() {\n            this.fontSizeScale = 1;\n            this.fontWeight = SVG_DEFAULTS.fontWeight;\n            this.fontSize = 0;\n            this.textMatrix = _util.IDENTITY_MATRIX;\n            this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n            this.leading = 0;\n            this.x = 0;\n            this.y = 0;\n            this.lineX = 0;\n            this.lineY = 0;\n            this.charSpacing = 0;\n            this.wordSpacing = 0;\n            this.textHScale = 1;\n            this.textRise = 0;\n            this.fillColor = SVG_DEFAULTS.fillColor;\n            this.strokeColor = '#000000';\n            this.fillAlpha = 1;\n            this.strokeAlpha = 1;\n            this.lineWidth = 1;\n            this.lineJoin = '';\n            this.lineCap = '';\n            this.miterLimit = 0;\n            this.dashArray = [];\n            this.dashPhase = 0;\n            this.dependencies = [];\n            this.activeClipUrl = null;\n            this.clipGroup = null;\n            this.maskId = '';\n          }\n\n          SVGExtraState.prototype = {\n            clone: function SVGExtraState_clone() {\n              return Object.create(this);\n            },\n            setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n              this.x = x;\n              this.y = y;\n            }\n          };\n          return SVGExtraState;\n        }();\n\n        exports.SVGGraphics = SVGGraphics = function SVGGraphicsClosure() {\n          function opListToTree(opList) {\n            var opTree = [];\n            var tmp = [];\n            var opListLen = opList.length;\n\n            for (var x = 0; x < opListLen; x++) {\n              if (opList[x].fn === 'save') {\n                opTree.push({\n                  'fnId': 92,\n                  'fn': 'group',\n                  'items': []\n                });\n                tmp.push(opTree);\n                opTree = opTree[opTree.length - 1].items;\n                continue;\n              }\n\n              if (opList[x].fn === 'restore') {\n                opTree = tmp.pop();\n              } else {\n                opTree.push(opList[x]);\n              }\n            }\n\n            return opTree;\n          }\n\n          function pf(value) {\n            if (value === (value | 0)) {\n              return value.toString();\n            }\n\n            var s = value.toFixed(10);\n            var i = s.length - 1;\n\n            if (s[i] !== '0') {\n              return s;\n            }\n\n            do {\n              i--;\n            } while (s[i] === '0');\n\n            return s.substr(0, s[i] === '.' ? i : i + 1);\n          }\n\n          function pm(m) {\n            if (m[4] === 0 && m[5] === 0) {\n              if (m[1] === 0 && m[2] === 0) {\n                if (m[0] === 1 && m[3] === 1) {\n                  return '';\n                }\n\n                return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n              }\n\n              if (m[0] === m[3] && m[1] === -m[2]) {\n                var a = Math.acos(m[0]) * 180 / Math.PI;\n                return 'rotate(' + pf(a) + ')';\n              }\n            } else {\n              if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n                return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n              }\n            }\n\n            return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' + pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n          }\n\n          function SVGGraphics(commonObjs, objs, forceDataSchema) {\n            this.current = new SVGExtraState();\n            this.transformMatrix = _util.IDENTITY_MATRIX;\n            this.transformStack = [];\n            this.extraStack = [];\n            this.commonObjs = commonObjs;\n            this.objs = objs;\n            this.pendingClip = null;\n            this.pendingEOFill = false;\n            this.embedFonts = false;\n            this.embeddedFonts = Object.create(null);\n            this.cssStyle = null;\n            this.forceDataSchema = !!forceDataSchema;\n          }\n\n          var NS = 'http://www.w3.org/2000/svg';\n          var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n          var XLINK_NS = 'http://www.w3.org/1999/xlink';\n          var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n          var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n          var clipCount = 0;\n          var maskCount = 0;\n          SVGGraphics.prototype = {\n            save: function SVGGraphics_save() {\n              this.transformStack.push(this.transformMatrix);\n              var old = this.current;\n              this.extraStack.push(old);\n              this.current = old.clone();\n            },\n            restore: function SVGGraphics_restore() {\n              this.transformMatrix = this.transformStack.pop();\n              this.current = this.extraStack.pop();\n              this.pendingClip = null;\n              this.tgrp = null;\n            },\n            group: function SVGGraphics_group(items) {\n              this.save();\n              this.executeOpTree(items);\n              this.restore();\n            },\n            loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n              var _this = this;\n\n              var fnArray = operatorList.fnArray;\n              var fnArrayLen = fnArray.length;\n              var argsArray = operatorList.argsArray;\n\n              for (var i = 0; i < fnArrayLen; i++) {\n                if (_util.OPS.dependency === fnArray[i]) {\n                  var deps = argsArray[i];\n\n                  for (var n = 0, nn = deps.length; n < nn; n++) {\n                    var obj = deps[n];\n                    var common = obj.substring(0, 2) === 'g_';\n                    var promise;\n\n                    if (common) {\n                      promise = new Promise(function (resolve) {\n                        _this.commonObjs.get(obj, resolve);\n                      });\n                    } else {\n                      promise = new Promise(function (resolve) {\n                        _this.objs.get(obj, resolve);\n                      });\n                    }\n\n                    this.current.dependencies.push(promise);\n                  }\n                }\n              }\n\n              return Promise.all(this.current.dependencies);\n            },\n            transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n              var transformMatrix = [a, b, c, d, e, f];\n              this.transformMatrix = _util.Util.transform(this.transformMatrix, transformMatrix);\n              this.tgrp = null;\n            },\n            getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n              var _this2 = this;\n\n              this.viewport = viewport;\n\n              var svgElement = this._initialize(viewport);\n\n              return this.loadDependencies(operatorList).then(function () {\n                _this2.transformMatrix = _util.IDENTITY_MATRIX;\n\n                var opTree = _this2.convertOpList(operatorList);\n\n                _this2.executeOpTree(opTree);\n\n                return svgElement;\n              });\n            },\n            convertOpList: function SVGGraphics_convertOpList(operatorList) {\n              var argsArray = operatorList.argsArray;\n              var fnArray = operatorList.fnArray;\n              var fnArrayLen = fnArray.length;\n              var REVOPS = [];\n              var opList = [];\n\n              for (var op in _util.OPS) {\n                REVOPS[_util.OPS[op]] = op;\n              }\n\n              for (var x = 0; x < fnArrayLen; x++) {\n                var fnId = fnArray[x];\n                opList.push({\n                  'fnId': fnId,\n                  'fn': REVOPS[fnId],\n                  'args': argsArray[x]\n                });\n              }\n\n              return opListToTree(opList);\n            },\n            executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n              var opTreeLen = opTree.length;\n\n              for (var x = 0; x < opTreeLen; x++) {\n                var fn = opTree[x].fn;\n                var fnId = opTree[x].fnId;\n                var args = opTree[x].args;\n\n                switch (fnId | 0) {\n                  case _util.OPS.beginText:\n                    this.beginText();\n                    break;\n\n                  case _util.OPS.setLeading:\n                    this.setLeading(args);\n                    break;\n\n                  case _util.OPS.setLeadingMoveText:\n                    this.setLeadingMoveText(args[0], args[1]);\n                    break;\n\n                  case _util.OPS.setFont:\n                    this.setFont(args);\n                    break;\n\n                  case _util.OPS.showText:\n                    this.showText(args[0]);\n                    break;\n\n                  case _util.OPS.showSpacedText:\n                    this.showText(args[0]);\n                    break;\n\n                  case _util.OPS.endText:\n                    this.endText();\n                    break;\n\n                  case _util.OPS.moveText:\n                    this.moveText(args[0], args[1]);\n                    break;\n\n                  case _util.OPS.setCharSpacing:\n                    this.setCharSpacing(args[0]);\n                    break;\n\n                  case _util.OPS.setWordSpacing:\n                    this.setWordSpacing(args[0]);\n                    break;\n\n                  case _util.OPS.setHScale:\n                    this.setHScale(args[0]);\n                    break;\n\n                  case _util.OPS.setTextMatrix:\n                    this.setTextMatrix(args[0], args[1], args[2], args[3], args[4], args[5]);\n                    break;\n\n                  case _util.OPS.setLineWidth:\n                    this.setLineWidth(args[0]);\n                    break;\n\n                  case _util.OPS.setLineJoin:\n                    this.setLineJoin(args[0]);\n                    break;\n\n                  case _util.OPS.setLineCap:\n                    this.setLineCap(args[0]);\n                    break;\n\n                  case _util.OPS.setMiterLimit:\n                    this.setMiterLimit(args[0]);\n                    break;\n\n                  case _util.OPS.setFillRGBColor:\n                    this.setFillRGBColor(args[0], args[1], args[2]);\n                    break;\n\n                  case _util.OPS.setStrokeRGBColor:\n                    this.setStrokeRGBColor(args[0], args[1], args[2]);\n                    break;\n\n                  case _util.OPS.setDash:\n                    this.setDash(args[0], args[1]);\n                    break;\n\n                  case _util.OPS.setGState:\n                    this.setGState(args[0]);\n                    break;\n\n                  case _util.OPS.fill:\n                    this.fill();\n                    break;\n\n                  case _util.OPS.eoFill:\n                    this.eoFill();\n                    break;\n\n                  case _util.OPS.stroke:\n                    this.stroke();\n                    break;\n\n                  case _util.OPS.fillStroke:\n                    this.fillStroke();\n                    break;\n\n                  case _util.OPS.eoFillStroke:\n                    this.eoFillStroke();\n                    break;\n\n                  case _util.OPS.clip:\n                    this.clip('nonzero');\n                    break;\n\n                  case _util.OPS.eoClip:\n                    this.clip('evenodd');\n                    break;\n\n                  case _util.OPS.paintSolidColorImageMask:\n                    this.paintSolidColorImageMask();\n                    break;\n\n                  case _util.OPS.paintJpegXObject:\n                    this.paintJpegXObject(args[0], args[1], args[2]);\n                    break;\n\n                  case _util.OPS.paintImageXObject:\n                    this.paintImageXObject(args[0]);\n                    break;\n\n                  case _util.OPS.paintInlineImageXObject:\n                    this.paintInlineImageXObject(args[0]);\n                    break;\n\n                  case _util.OPS.paintImageMaskXObject:\n                    this.paintImageMaskXObject(args[0]);\n                    break;\n\n                  case _util.OPS.paintFormXObjectBegin:\n                    this.paintFormXObjectBegin(args[0], args[1]);\n                    break;\n\n                  case _util.OPS.paintFormXObjectEnd:\n                    this.paintFormXObjectEnd();\n                    break;\n\n                  case _util.OPS.closePath:\n                    this.closePath();\n                    break;\n\n                  case _util.OPS.closeStroke:\n                    this.closeStroke();\n                    break;\n\n                  case _util.OPS.closeFillStroke:\n                    this.closeFillStroke();\n                    break;\n\n                  case _util.OPS.nextLine:\n                    this.nextLine();\n                    break;\n\n                  case _util.OPS.transform:\n                    this.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n                    break;\n\n                  case _util.OPS.constructPath:\n                    this.constructPath(args[0], args[1]);\n                    break;\n\n                  case _util.OPS.endPath:\n                    this.endPath();\n                    break;\n\n                  case 92:\n                    this.group(opTree[x].items);\n                    break;\n\n                  default:\n                    (0, _util.warn)('Unimplemented operator ' + fn);\n                    break;\n                }\n              }\n            },\n            setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n              this.current.wordSpacing = wordSpacing;\n            },\n            setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n              this.current.charSpacing = charSpacing;\n            },\n            nextLine: function SVGGraphics_nextLine() {\n              this.moveText(0, this.current.leading);\n            },\n            setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n              var current = this.current;\n              this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n              this.current.x = this.current.lineX = 0;\n              this.current.y = this.current.lineY = 0;\n              current.xcoords = [];\n              current.tspan = document.createElementNS(NS, 'svg:tspan');\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.txtElement = document.createElementNS(NS, 'svg:text');\n              current.txtElement.appendChild(current.tspan);\n            },\n            beginText: function SVGGraphics_beginText() {\n              this.current.x = this.current.lineX = 0;\n              this.current.y = this.current.lineY = 0;\n              this.current.textMatrix = _util.IDENTITY_MATRIX;\n              this.current.lineMatrix = _util.IDENTITY_MATRIX;\n              this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n              this.current.txtElement = document.createElementNS(NS, 'svg:text');\n              this.current.txtgrp = document.createElementNS(NS, 'svg:g');\n              this.current.xcoords = [];\n            },\n            moveText: function SVGGraphics_moveText(x, y) {\n              var current = this.current;\n              this.current.x = this.current.lineX += x;\n              this.current.y = this.current.lineY += y;\n              current.xcoords = [];\n              current.tspan = document.createElementNS(NS, 'svg:tspan');\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n            },\n            showText: function SVGGraphics_showText(glyphs) {\n              var current = this.current;\n              var font = current.font;\n              var fontSize = current.fontSize;\n\n              if (fontSize === 0) {\n                return;\n              }\n\n              var charSpacing = current.charSpacing;\n              var wordSpacing = current.wordSpacing;\n              var fontDirection = current.fontDirection;\n              var textHScale = current.textHScale * fontDirection;\n              var glyphsLength = glyphs.length;\n              var vertical = font.vertical;\n              var widthAdvanceScale = fontSize * current.fontMatrix[0];\n              var x = 0,\n                  i;\n\n              for (i = 0; i < glyphsLength; ++i) {\n                var glyph = glyphs[i];\n\n                if (glyph === null) {\n                  x += fontDirection * wordSpacing;\n                  continue;\n                } else if ((0, _util.isNum)(glyph)) {\n                  x += -glyph * fontSize * 0.001;\n                  continue;\n                }\n\n                current.xcoords.push(current.x + x * textHScale);\n                var width = glyph.width;\n                var character = glyph.fontChar;\n                var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n                var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n                x += charWidth;\n                current.tspan.textContent += character;\n              }\n\n              if (vertical) {\n                current.y -= x * textHScale;\n              } else {\n                current.x += x * textHScale;\n              }\n\n              current.tspan.setAttributeNS(null, 'x', current.xcoords.map(pf).join(' '));\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n              current.tspan.setAttributeNS(null, 'font-size', pf(current.fontSize) + 'px');\n\n              if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n                current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n              }\n\n              if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n                current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n              }\n\n              if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n                current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n              }\n\n              current.txtElement.setAttributeNS(null, 'transform', pm(current.textMatrix) + ' scale(1, -1)');\n              current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n              current.txtElement.appendChild(current.tspan);\n              current.txtgrp.appendChild(current.txtElement);\n\n              this._ensureTransformGroup().appendChild(current.txtElement);\n            },\n            setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n              this.setLeading(-y);\n              this.moveText(x, y);\n            },\n            addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n              if (!this.cssStyle) {\n                this.cssStyle = document.createElementNS(NS, 'svg:style');\n                this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n                this.defs.appendChild(this.cssStyle);\n              }\n\n              var url = (0, _util.createObjectURL)(fontObj.data, fontObj.mimetype, this.forceDataSchema);\n              this.cssStyle.textContent += '@font-face { font-family: \"' + fontObj.loadedName + '\";' + ' src: url(' + url + '); }\\n';\n            },\n            setFont: function SVGGraphics_setFont(details) {\n              var current = this.current;\n              var fontObj = this.commonObjs.get(details[0]);\n              var size = details[1];\n              this.current.font = fontObj;\n\n              if (this.embedFonts && fontObj.data && !this.embeddedFonts[fontObj.loadedName]) {\n                this.addFontStyle(fontObj);\n                this.embeddedFonts[fontObj.loadedName] = fontObj;\n              }\n\n              current.fontMatrix = fontObj.fontMatrix ? fontObj.fontMatrix : _util.FONT_IDENTITY_MATRIX;\n              var bold = fontObj.black ? fontObj.bold ? 'bolder' : 'bold' : fontObj.bold ? 'bold' : 'normal';\n              var italic = fontObj.italic ? 'italic' : 'normal';\n\n              if (size < 0) {\n                size = -size;\n                current.fontDirection = -1;\n              } else {\n                current.fontDirection = 1;\n              }\n\n              current.fontSize = size;\n              current.fontFamily = fontObj.loadedName;\n              current.fontWeight = bold;\n              current.fontStyle = italic;\n              current.tspan = document.createElementNS(NS, 'svg:tspan');\n              current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n              current.xcoords = [];\n            },\n            endText: function SVGGraphics_endText() {},\n            setLineWidth: function SVGGraphics_setLineWidth(width) {\n              this.current.lineWidth = width;\n            },\n            setLineCap: function SVGGraphics_setLineCap(style) {\n              this.current.lineCap = LINE_CAP_STYLES[style];\n            },\n            setLineJoin: function SVGGraphics_setLineJoin(style) {\n              this.current.lineJoin = LINE_JOIN_STYLES[style];\n            },\n            setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n              this.current.miterLimit = limit;\n            },\n            setStrokeAlpha: function SVGGraphics_setStrokeAlpha(strokeAlpha) {\n              this.current.strokeAlpha = strokeAlpha;\n            },\n            setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n              var color = _util.Util.makeCssRgb(r, g, b);\n\n              this.current.strokeColor = color;\n            },\n            setFillAlpha: function SVGGraphics_setFillAlpha(fillAlpha) {\n              this.current.fillAlpha = fillAlpha;\n            },\n            setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n              var color = _util.Util.makeCssRgb(r, g, b);\n\n              this.current.fillColor = color;\n              this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n              this.current.xcoords = [];\n            },\n            setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n              this.current.dashArray = dashArray;\n              this.current.dashPhase = dashPhase;\n            },\n            constructPath: function SVGGraphics_constructPath(ops, args) {\n              var current = this.current;\n              var x = current.x,\n                  y = current.y;\n              current.path = document.createElementNS(NS, 'svg:path');\n              var d = [];\n              var opLength = ops.length;\n\n              for (var i = 0, j = 0; i < opLength; i++) {\n                switch (ops[i] | 0) {\n                  case _util.OPS.rectangle:\n                    x = args[j++];\n                    y = args[j++];\n                    var width = args[j++];\n                    var height = args[j++];\n                    var xw = x + width;\n                    var yh = y + height;\n                    d.push('M', pf(x), pf(y), 'L', pf(xw), pf(y), 'L', pf(xw), pf(yh), 'L', pf(x), pf(yh), 'Z');\n                    break;\n\n                  case _util.OPS.moveTo:\n                    x = args[j++];\n                    y = args[j++];\n                    d.push('M', pf(x), pf(y));\n                    break;\n\n                  case _util.OPS.lineTo:\n                    x = args[j++];\n                    y = args[j++];\n                    d.push('L', pf(x), pf(y));\n                    break;\n\n                  case _util.OPS.curveTo:\n                    x = args[j + 4];\n                    y = args[j + 5];\n                    d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]), pf(x), pf(y));\n                    j += 6;\n                    break;\n\n                  case _util.OPS.curveTo2:\n                    x = args[j + 2];\n                    y = args[j + 3];\n                    d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]), pf(args[j + 2]), pf(args[j + 3]));\n                    j += 4;\n                    break;\n\n                  case _util.OPS.curveTo3:\n                    x = args[j + 2];\n                    y = args[j + 3];\n                    d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y), pf(x), pf(y));\n                    j += 4;\n                    break;\n\n                  case _util.OPS.closePath:\n                    d.push('Z');\n                    break;\n                }\n              }\n\n              current.path.setAttributeNS(null, 'd', d.join(' '));\n              current.path.setAttributeNS(null, 'fill', 'none');\n\n              this._ensureTransformGroup().appendChild(current.path);\n\n              current.element = current.path;\n              current.setCurrentPoint(x, y);\n            },\n            endPath: function SVGGraphics_endPath() {\n              if (!this.pendingClip) {\n                return;\n              }\n\n              var current = this.current;\n              var clipId = 'clippath' + clipCount;\n              clipCount++;\n              var clipPath = document.createElementNS(NS, 'svg:clipPath');\n              clipPath.setAttributeNS(null, 'id', clipId);\n              clipPath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n              var clipElement = current.element.cloneNode();\n\n              if (this.pendingClip === 'evenodd') {\n                clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n              } else {\n                clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n              }\n\n              this.pendingClip = null;\n              clipPath.appendChild(clipElement);\n              this.defs.appendChild(clipPath);\n\n              if (current.activeClipUrl) {\n                current.clipGroup = null;\n                this.extraStack.forEach(function (prev) {\n                  prev.clipGroup = null;\n                });\n              }\n\n              current.activeClipUrl = 'url(#' + clipId + ')';\n              this.tgrp = null;\n            },\n            clip: function SVGGraphics_clip(type) {\n              this.pendingClip = type;\n            },\n            closePath: function SVGGraphics_closePath() {\n              var current = this.current;\n              var d = current.path.getAttributeNS(null, 'd');\n              d += 'Z';\n              current.path.setAttributeNS(null, 'd', d);\n            },\n            setLeading: function SVGGraphics_setLeading(leading) {\n              this.current.leading = -leading;\n            },\n            setTextRise: function SVGGraphics_setTextRise(textRise) {\n              this.current.textRise = textRise;\n            },\n            setHScale: function SVGGraphics_setHScale(scale) {\n              this.current.textHScale = scale / 100;\n            },\n            setGState: function SVGGraphics_setGState(states) {\n              for (var i = 0, ii = states.length; i < ii; i++) {\n                var state = states[i];\n                var key = state[0];\n                var value = state[1];\n\n                switch (key) {\n                  case 'LW':\n                    this.setLineWidth(value);\n                    break;\n\n                  case 'LC':\n                    this.setLineCap(value);\n                    break;\n\n                  case 'LJ':\n                    this.setLineJoin(value);\n                    break;\n\n                  case 'ML':\n                    this.setMiterLimit(value);\n                    break;\n\n                  case 'D':\n                    this.setDash(value[0], value[1]);\n                    break;\n\n                  case 'Font':\n                    this.setFont(value);\n                    break;\n\n                  case 'CA':\n                    this.setStrokeAlpha(value);\n                    break;\n\n                  case 'ca':\n                    this.setFillAlpha(value);\n                    break;\n\n                  default:\n                    (0, _util.warn)('Unimplemented graphic state ' + key);\n                    break;\n                }\n              }\n            },\n            fill: function SVGGraphics_fill() {\n              var current = this.current;\n              current.element.setAttributeNS(null, 'fill', current.fillColor);\n              current.element.setAttributeNS(null, 'fill-opacity', current.fillAlpha);\n            },\n            stroke: function SVGGraphics_stroke() {\n              var current = this.current;\n              current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n              current.element.setAttributeNS(null, 'stroke-opacity', current.strokeAlpha);\n              current.element.setAttributeNS(null, 'stroke-miterlimit', pf(current.miterLimit));\n              current.element.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n              current.element.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n              current.element.setAttributeNS(null, 'stroke-width', pf(current.lineWidth) + 'px');\n              current.element.setAttributeNS(null, 'stroke-dasharray', current.dashArray.map(pf).join(' '));\n              current.element.setAttributeNS(null, 'stroke-dashoffset', pf(current.dashPhase) + 'px');\n              current.element.setAttributeNS(null, 'fill', 'none');\n            },\n            eoFill: function SVGGraphics_eoFill() {\n              this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n              this.fill();\n            },\n            fillStroke: function SVGGraphics_fillStroke() {\n              this.stroke();\n              this.fill();\n            },\n            eoFillStroke: function SVGGraphics_eoFillStroke() {\n              this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n              this.fillStroke();\n            },\n            closeStroke: function SVGGraphics_closeStroke() {\n              this.closePath();\n              this.stroke();\n            },\n            closeFillStroke: function SVGGraphics_closeFillStroke() {\n              this.closePath();\n              this.fillStroke();\n            },\n            paintSolidColorImageMask: function SVGGraphics_paintSolidColorImageMask() {\n              var current = this.current;\n              var rect = document.createElementNS(NS, 'svg:rect');\n              rect.setAttributeNS(null, 'x', '0');\n              rect.setAttributeNS(null, 'y', '0');\n              rect.setAttributeNS(null, 'width', '1px');\n              rect.setAttributeNS(null, 'height', '1px');\n              rect.setAttributeNS(null, 'fill', current.fillColor);\n\n              this._ensureTransformGroup().appendChild(rect);\n            },\n            paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n              var imgObj = this.objs.get(objId);\n              var imgEl = document.createElementNS(NS, 'svg:image');\n              imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n              imgEl.setAttributeNS(null, 'width', pf(w));\n              imgEl.setAttributeNS(null, 'height', pf(h));\n              imgEl.setAttributeNS(null, 'x', '0');\n              imgEl.setAttributeNS(null, 'y', pf(-h));\n              imgEl.setAttributeNS(null, 'transform', 'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n              this._ensureTransformGroup().appendChild(imgEl);\n            },\n            paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n              var imgData = this.objs.get(objId);\n\n              if (!imgData) {\n                (0, _util.warn)('Dependent image isn\\'t ready yet');\n                return;\n              }\n\n              this.paintInlineImageXObject(imgData);\n            },\n            paintInlineImageXObject: function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n              var width = imgData.width;\n              var height = imgData.height;\n              var imgSrc = convertImgDataToPng(imgData, this.forceDataSchema);\n              var cliprect = document.createElementNS(NS, 'svg:rect');\n              cliprect.setAttributeNS(null, 'x', '0');\n              cliprect.setAttributeNS(null, 'y', '0');\n              cliprect.setAttributeNS(null, 'width', pf(width));\n              cliprect.setAttributeNS(null, 'height', pf(height));\n              this.current.element = cliprect;\n              this.clip('nonzero');\n              var imgEl = document.createElementNS(NS, 'svg:image');\n              imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n              imgEl.setAttributeNS(null, 'x', '0');\n              imgEl.setAttributeNS(null, 'y', pf(-height));\n              imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n              imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n              imgEl.setAttributeNS(null, 'transform', 'scale(' + pf(1 / width) + ' ' + pf(-1 / height) + ')');\n\n              if (mask) {\n                mask.appendChild(imgEl);\n              } else {\n                this._ensureTransformGroup().appendChild(imgEl);\n              }\n            },\n            paintImageMaskXObject: function SVGGraphics_paintImageMaskXObject(imgData) {\n              var current = this.current;\n              var width = imgData.width;\n              var height = imgData.height;\n              var fillColor = current.fillColor;\n              current.maskId = 'mask' + maskCount++;\n              var mask = document.createElementNS(NS, 'svg:mask');\n              mask.setAttributeNS(null, 'id', current.maskId);\n              var rect = document.createElementNS(NS, 'svg:rect');\n              rect.setAttributeNS(null, 'x', '0');\n              rect.setAttributeNS(null, 'y', '0');\n              rect.setAttributeNS(null, 'width', pf(width));\n              rect.setAttributeNS(null, 'height', pf(height));\n              rect.setAttributeNS(null, 'fill', fillColor);\n              rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId + ')');\n              this.defs.appendChild(mask);\n\n              this._ensureTransformGroup().appendChild(rect);\n\n              this.paintInlineImageXObject(imgData, mask);\n            },\n            paintFormXObjectBegin: function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n              if ((0, _util.isArray)(matrix) && matrix.length === 6) {\n                this.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n              }\n\n              if ((0, _util.isArray)(bbox) && bbox.length === 4) {\n                var width = bbox[2] - bbox[0];\n                var height = bbox[3] - bbox[1];\n                var cliprect = document.createElementNS(NS, 'svg:rect');\n                cliprect.setAttributeNS(null, 'x', bbox[0]);\n                cliprect.setAttributeNS(null, 'y', bbox[1]);\n                cliprect.setAttributeNS(null, 'width', pf(width));\n                cliprect.setAttributeNS(null, 'height', pf(height));\n                this.current.element = cliprect;\n                this.clip('nonzero');\n                this.endPath();\n              }\n            },\n            paintFormXObjectEnd: function SVGGraphics_paintFormXObjectEnd() {},\n            _initialize: function SVGGraphics_initialize(viewport) {\n              var svg = document.createElementNS(NS, 'svg:svg');\n              svg.setAttributeNS(null, 'version', '1.1');\n              svg.setAttributeNS(null, 'width', viewport.width + 'px');\n              svg.setAttributeNS(null, 'height', viewport.height + 'px');\n              svg.setAttributeNS(null, 'preserveAspectRatio', 'none');\n              svg.setAttributeNS(null, 'viewBox', '0 0 ' + viewport.width + ' ' + viewport.height);\n              var definitions = document.createElementNS(NS, 'svg:defs');\n              svg.appendChild(definitions);\n              this.defs = definitions;\n              var rootGroup = document.createElementNS(NS, 'svg:g');\n              rootGroup.setAttributeNS(null, 'transform', pm(viewport.transform));\n              svg.appendChild(rootGroup);\n              this.svg = rootGroup;\n              return svg;\n            },\n            _ensureClipGroup: function SVGGraphics_ensureClipGroup() {\n              if (!this.current.clipGroup) {\n                var clipGroup = document.createElementNS(NS, 'svg:g');\n                clipGroup.setAttributeNS(null, 'clip-path', this.current.activeClipUrl);\n                this.svg.appendChild(clipGroup);\n                this.current.clipGroup = clipGroup;\n              }\n\n              return this.current.clipGroup;\n            },\n            _ensureTransformGroup: function SVGGraphics_ensureTransformGroup() {\n              if (!this.tgrp) {\n                this.tgrp = document.createElementNS(NS, 'svg:g');\n                this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n\n                if (this.current.activeClipUrl) {\n                  this._ensureClipGroup().appendChild(this.tgrp);\n                } else {\n                  this.svg.appendChild(this.tgrp);\n                }\n              }\n\n              return this.tgrp;\n            }\n          };\n          return SVGGraphics;\n        }();\n      }\n      exports.SVGGraphics = SVGGraphics;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.renderTextLayer = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _dom_utils = __w_pdfjs_require__(1);\n\n      var renderTextLayer = function renderTextLayerClosure() {\n        var MAX_TEXT_DIVS_TO_RENDER = 100000;\n        var NonWhitespaceRegexp = /\\S/;\n\n        function isAllWhitespace(str) {\n          return !NonWhitespaceRegexp.test(str);\n        }\n\n        var styleBuf = ['left: ', 0, 'px; top: ', 0, 'px; font-size: ', 0, 'px; font-family: ', '', ';'];\n\n        function appendText(task, geom, styles) {\n          var textDiv = document.createElement('div');\n          var textDivProperties = {\n            style: null,\n            angle: 0,\n            canvasWidth: 0,\n            isWhitespace: false,\n            originalTransform: null,\n            paddingBottom: 0,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            scale: 1\n          };\n\n          task._textDivs.push(textDiv);\n\n          if (isAllWhitespace(geom.str)) {\n            textDivProperties.isWhitespace = true;\n\n            task._textDivProperties.set(textDiv, textDivProperties);\n\n            return;\n          }\n\n          var tx = _util.Util.transform(task._viewport.transform, geom.transform);\n\n          var angle = Math.atan2(tx[1], tx[0]);\n          var style = styles[geom.fontName];\n\n          if (style.vertical) {\n            angle += Math.PI / 2;\n          }\n\n          var fontHeight = Math.sqrt(tx[2] * tx[2] + tx[3] * tx[3]);\n          var fontAscent = fontHeight;\n\n          if (style.ascent) {\n            fontAscent = style.ascent * fontAscent;\n          } else if (style.descent) {\n            fontAscent = (1 + style.descent) * fontAscent;\n          }\n\n          var left;\n          var top;\n\n          if (angle === 0) {\n            left = tx[4];\n            top = tx[5] - fontAscent;\n          } else {\n            left = tx[4] + fontAscent * Math.sin(angle);\n            top = tx[5] - fontAscent * Math.cos(angle);\n          }\n\n          styleBuf[1] = left;\n          styleBuf[3] = top;\n          styleBuf[5] = fontHeight;\n          styleBuf[7] = style.fontFamily;\n          textDivProperties.style = styleBuf.join('');\n          textDiv.setAttribute('style', textDivProperties.style);\n          textDiv.textContent = geom.str;\n\n          if ((0, _dom_utils.getDefaultSetting)('pdfBug')) {\n            textDiv.dataset.fontName = geom.fontName;\n          }\n\n          if (angle !== 0) {\n            textDivProperties.angle = angle * (180 / Math.PI);\n          }\n\n          if (geom.str.length > 1) {\n            if (style.vertical) {\n              textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n            } else {\n              textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n            }\n          }\n\n          task._textDivProperties.set(textDiv, textDivProperties);\n\n          if (task._textContentStream) {\n            task._layoutText(textDiv);\n          }\n\n          if (task._enhanceTextSelection) {\n            var angleCos = 1,\n                angleSin = 0;\n\n            if (angle !== 0) {\n              angleCos = Math.cos(angle);\n              angleSin = Math.sin(angle);\n            }\n\n            var divWidth = (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n            var divHeight = fontHeight;\n            var m, b;\n\n            if (angle !== 0) {\n              m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n              b = _util.Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n            } else {\n              b = [left, top, left + divWidth, top + divHeight];\n            }\n\n            task._bounds.push({\n              left: b[0],\n              top: b[1],\n              right: b[2],\n              bottom: b[3],\n              div: textDiv,\n              size: [divWidth, divHeight],\n              m: m\n            });\n          }\n        }\n\n        function render(task) {\n          if (task._canceled) {\n            return;\n          }\n\n          var textDivs = task._textDivs;\n          var capability = task._capability;\n          var textDivsLength = textDivs.length;\n\n          if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n            task._renderingDone = true;\n            capability.resolve();\n            return;\n          }\n\n          if (!task._textContentStream) {\n            for (var i = 0; i < textDivsLength; i++) {\n              task._layoutText(textDivs[i]);\n            }\n          }\n\n          task._renderingDone = true;\n          capability.resolve();\n        }\n\n        function expand(task) {\n          var bounds = task._bounds;\n          var viewport = task._viewport;\n          var expanded = expandBounds(viewport.width, viewport.height, bounds);\n\n          for (var i = 0; i < expanded.length; i++) {\n            var div = bounds[i].div;\n\n            var divProperties = task._textDivProperties.get(div);\n\n            if (divProperties.angle === 0) {\n              divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n              divProperties.paddingTop = bounds[i].top - expanded[i].top;\n              divProperties.paddingRight = expanded[i].right - bounds[i].right;\n              divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n\n              task._textDivProperties.set(div, divProperties);\n\n              continue;\n            }\n\n            var e = expanded[i],\n                b = bounds[i];\n            var m = b.m,\n                c = m[0],\n                s = m[1];\n            var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n            var ts = new Float64Array(64);\n            points.forEach(function (p, i) {\n              var t = _util.Util.applyTransform(p, m);\n\n              ts[i + 0] = c && (e.left - t[0]) / c;\n              ts[i + 4] = s && (e.top - t[1]) / s;\n              ts[i + 8] = c && (e.right - t[0]) / c;\n              ts[i + 12] = s && (e.bottom - t[1]) / s;\n              ts[i + 16] = s && (e.left - t[0]) / -s;\n              ts[i + 20] = c && (e.top - t[1]) / c;\n              ts[i + 24] = s && (e.right - t[0]) / -s;\n              ts[i + 28] = c && (e.bottom - t[1]) / c;\n              ts[i + 32] = c && (e.left - t[0]) / -c;\n              ts[i + 36] = s && (e.top - t[1]) / -s;\n              ts[i + 40] = c && (e.right - t[0]) / -c;\n              ts[i + 44] = s && (e.bottom - t[1]) / -s;\n              ts[i + 48] = s && (e.left - t[0]) / s;\n              ts[i + 52] = c && (e.top - t[1]) / -c;\n              ts[i + 56] = s && (e.right - t[0]) / s;\n              ts[i + 60] = c && (e.bottom - t[1]) / -c;\n            });\n\n            var findPositiveMin = function findPositiveMin(ts, offset, count) {\n              var result = 0;\n\n              for (var i = 0; i < count; i++) {\n                var t = ts[offset++];\n\n                if (t > 0) {\n                  result = result ? Math.min(t, result) : t;\n                }\n              }\n\n              return result;\n            };\n\n            var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n            divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n            divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n            divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n            divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n\n            task._textDivProperties.set(div, divProperties);\n          }\n        }\n\n        function expandBounds(width, height, boxes) {\n          var bounds = boxes.map(function (box, i) {\n            return {\n              x1: box.left,\n              y1: box.top,\n              x2: box.right,\n              y2: box.bottom,\n              index: i,\n              x1New: undefined,\n              x2New: undefined\n            };\n          });\n          expandBoundsLTR(width, bounds);\n          var expanded = new Array(boxes.length);\n          bounds.forEach(function (b) {\n            var i = b.index;\n            expanded[i] = {\n              left: b.x1New,\n              top: 0,\n              right: b.x2New,\n              bottom: 0\n            };\n          });\n          boxes.map(function (box, i) {\n            var e = expanded[i],\n                b = bounds[i];\n            b.x1 = box.top;\n            b.y1 = width - e.right;\n            b.x2 = box.bottom;\n            b.y2 = width - e.left;\n            b.index = i;\n            b.x1New = undefined;\n            b.x2New = undefined;\n          });\n          expandBoundsLTR(height, bounds);\n          bounds.forEach(function (b) {\n            var i = b.index;\n            expanded[i].top = b.x1New;\n            expanded[i].bottom = b.x2New;\n          });\n          return expanded;\n        }\n\n        function expandBoundsLTR(width, bounds) {\n          bounds.sort(function (a, b) {\n            return a.x1 - b.x1 || a.index - b.index;\n          });\n          var fakeBoundary = {\n            x1: -Infinity,\n            y1: -Infinity,\n            x2: 0,\n            y2: Infinity,\n            index: -1,\n            x1New: 0,\n            x2New: 0\n          };\n          var horizon = [{\n            start: -Infinity,\n            end: Infinity,\n            boundary: fakeBoundary\n          }];\n          bounds.forEach(function (boundary) {\n            var i = 0;\n\n            while (i < horizon.length && horizon[i].end <= boundary.y1) {\n              i++;\n            }\n\n            var j = horizon.length - 1;\n\n            while (j >= 0 && horizon[j].start >= boundary.y2) {\n              j--;\n            }\n\n            var horizonPart, affectedBoundary;\n            var q,\n                k,\n                maxXNew = -Infinity;\n\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              var xNew;\n\n              if (affectedBoundary.x2 > boundary.x1) {\n                xNew = affectedBoundary.index > boundary.index ? affectedBoundary.x1New : boundary.x1;\n              } else if (affectedBoundary.x2New === undefined) {\n                xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n              } else {\n                xNew = affectedBoundary.x2New;\n              }\n\n              if (xNew > maxXNew) {\n                maxXNew = xNew;\n              }\n            }\n\n            boundary.x1New = maxXNew;\n\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n\n              if (affectedBoundary.x2New === undefined) {\n                if (affectedBoundary.x2 > boundary.x1) {\n                  if (affectedBoundary.index > boundary.index) {\n                    affectedBoundary.x2New = affectedBoundary.x2;\n                  }\n                } else {\n                  affectedBoundary.x2New = maxXNew;\n                }\n              } else if (affectedBoundary.x2New > maxXNew) {\n                affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n              }\n            }\n\n            var changedHorizon = [],\n                lastBoundary = null;\n\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n              var useBoundary = affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n\n              if (lastBoundary === useBoundary) {\n                changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n              } else {\n                changedHorizon.push({\n                  start: horizonPart.start,\n                  end: horizonPart.end,\n                  boundary: useBoundary\n                });\n                lastBoundary = useBoundary;\n              }\n            }\n\n            if (horizon[i].start < boundary.y1) {\n              changedHorizon[0].start = boundary.y1;\n              changedHorizon.unshift({\n                start: horizon[i].start,\n                end: boundary.y1,\n                boundary: horizon[i].boundary\n              });\n            }\n\n            if (boundary.y2 < horizon[j].end) {\n              changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n              changedHorizon.push({\n                start: boundary.y2,\n                end: horizon[j].end,\n                boundary: horizon[j].boundary\n              });\n            }\n\n            for (q = i; q <= j; q++) {\n              horizonPart = horizon[q];\n              affectedBoundary = horizonPart.boundary;\n\n              if (affectedBoundary.x2New !== undefined) {\n                continue;\n              }\n\n              var used = false;\n\n              for (k = i - 1; !used && k >= 0 && horizon[k].start >= affectedBoundary.y1; k--) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n\n              for (k = j + 1; !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2; k++) {\n                used = horizon[k].boundary === affectedBoundary;\n              }\n\n              for (k = 0; !used && k < changedHorizon.length; k++) {\n                used = changedHorizon[k].boundary === affectedBoundary;\n              }\n\n              if (!used) {\n                affectedBoundary.x2New = maxXNew;\n              }\n            }\n\n            Array.prototype.splice.apply(horizon, [i, j - i + 1].concat(changedHorizon));\n          });\n          horizon.forEach(function (horizonPart) {\n            var affectedBoundary = horizonPart.boundary;\n\n            if (affectedBoundary.x2New === undefined) {\n              affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n            }\n          });\n        }\n\n        function TextLayerRenderTask(_ref) {\n          var textContent = _ref.textContent,\n              textContentStream = _ref.textContentStream,\n              container = _ref.container,\n              viewport = _ref.viewport,\n              textDivs = _ref.textDivs,\n              textContentItemsStr = _ref.textContentItemsStr,\n              enhanceTextSelection = _ref.enhanceTextSelection;\n          this._textContent = textContent;\n          this._textContentStream = textContentStream;\n          this._container = container;\n          this._viewport = viewport;\n          this._textDivs = textDivs || [];\n          this._textContentItemsStr = textContentItemsStr || [];\n          this._enhanceTextSelection = !!enhanceTextSelection;\n          this._reader = null;\n          this._layoutTextLastFontSize = null;\n          this._layoutTextLastFontFamily = null;\n          this._layoutTextCtx = null;\n          this._textDivProperties = new WeakMap();\n          this._renderingDone = false;\n          this._canceled = false;\n          this._capability = (0, _util.createPromiseCapability)();\n          this._renderTimer = null;\n          this._bounds = [];\n        }\n\n        TextLayerRenderTask.prototype = {\n          get promise() {\n            return this._capability.promise;\n          },\n\n          cancel: function TextLayer_cancel() {\n            if (this._reader) {\n              this._reader.cancel(new _util.AbortException('text layer task cancelled'));\n\n              this._reader = null;\n            }\n\n            this._canceled = true;\n\n            if (this._renderTimer !== null) {\n              clearTimeout(this._renderTimer);\n              this._renderTimer = null;\n            }\n\n            this._capability.reject('canceled');\n          },\n          _processItems: function _processItems(items, styleCache) {\n            for (var i = 0, len = items.length; i < len; i++) {\n              this._textContentItemsStr.push(items[i].str);\n\n              appendText(this, items[i], styleCache);\n            }\n          },\n          _layoutText: function _layoutText(textDiv) {\n            var textLayerFrag = this._container;\n\n            var textDivProperties = this._textDivProperties.get(textDiv);\n\n            if (textDivProperties.isWhitespace) {\n              return;\n            }\n\n            var fontSize = textDiv.style.fontSize;\n            var fontFamily = textDiv.style.fontFamily;\n\n            if (fontSize !== this._layoutTextLastFontSize || fontFamily !== this._layoutTextLastFontFamily) {\n              this._layoutTextCtx.font = fontSize + ' ' + fontFamily;\n              this._lastFontSize = fontSize;\n              this._lastFontFamily = fontFamily;\n            }\n\n            var width = this._layoutTextCtx.measureText(textDiv.textContent).width;\n\n            var transform = '';\n\n            if (textDivProperties.canvasWidth !== 0 && width > 0) {\n              textDivProperties.scale = textDivProperties.canvasWidth / width;\n              transform = 'scaleX(' + textDivProperties.scale + ')';\n            }\n\n            if (textDivProperties.angle !== 0) {\n              transform = 'rotate(' + textDivProperties.angle + 'deg) ' + transform;\n            }\n\n            if (transform !== '') {\n              textDivProperties.originalTransform = transform;\n\n              _dom_utils.CustomStyle.setProp('transform', textDiv, transform);\n            }\n\n            this._textDivProperties.set(textDiv, textDivProperties);\n\n            textLayerFrag.appendChild(textDiv);\n          },\n          _render: function TextLayer_render(timeout) {\n            var _this = this;\n\n            var capability = (0, _util.createPromiseCapability)();\n            var styleCache = Object.create(null);\n            var canvas = document.createElement('canvas');\n            canvas.mozOpaque = true;\n            this._layoutTextCtx = canvas.getContext('2d', {\n              alpha: false\n            });\n\n            if (this._textContent) {\n              var textItems = this._textContent.items;\n              var textStyles = this._textContent.styles;\n\n              this._processItems(textItems, textStyles);\n\n              capability.resolve();\n            } else if (this._textContentStream) {\n              var pump = function pump() {\n                _this._reader.read().then(function (_ref2) {\n                  var value = _ref2.value,\n                      done = _ref2.done;\n\n                  if (done) {\n                    capability.resolve();\n                    return;\n                  }\n\n                  _util.Util.extendObj(styleCache, value.styles);\n\n                  _this._processItems(value.items, styleCache);\n\n                  pump();\n                }, capability.reject);\n              };\n\n              this._reader = this._textContentStream.getReader();\n              pump();\n            } else {\n              throw new Error('Neither \"textContent\" nor \"textContentStream\"' + ' parameters specified.');\n            }\n\n            capability.promise.then(function () {\n              styleCache = null;\n\n              if (!timeout) {\n                render(_this);\n              } else {\n                _this._renderTimer = setTimeout(function () {\n                  render(_this);\n                  _this._renderTimer = null;\n                }, timeout);\n              }\n            }, this._capability.reject);\n          },\n          expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n            if (!this._enhanceTextSelection || !this._renderingDone) {\n              return;\n            }\n\n            if (this._bounds !== null) {\n              expand(this);\n              this._bounds = null;\n            }\n\n            for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n              var div = this._textDivs[i];\n\n              var divProperties = this._textDivProperties.get(div);\n\n              if (divProperties.isWhitespace) {\n                continue;\n              }\n\n              if (expandDivs) {\n                var transform = '',\n                    padding = '';\n\n                if (divProperties.scale !== 1) {\n                  transform = 'scaleX(' + divProperties.scale + ')';\n                }\n\n                if (divProperties.angle !== 0) {\n                  transform = 'rotate(' + divProperties.angle + 'deg) ' + transform;\n                }\n\n                if (divProperties.paddingLeft !== 0) {\n                  padding += ' padding-left: ' + divProperties.paddingLeft / divProperties.scale + 'px;';\n                  transform += ' translateX(' + -divProperties.paddingLeft / divProperties.scale + 'px)';\n                }\n\n                if (divProperties.paddingTop !== 0) {\n                  padding += ' padding-top: ' + divProperties.paddingTop + 'px;';\n                  transform += ' translateY(' + -divProperties.paddingTop + 'px)';\n                }\n\n                if (divProperties.paddingRight !== 0) {\n                  padding += ' padding-right: ' + divProperties.paddingRight / divProperties.scale + 'px;';\n                }\n\n                if (divProperties.paddingBottom !== 0) {\n                  padding += ' padding-bottom: ' + divProperties.paddingBottom + 'px;';\n                }\n\n                if (padding !== '') {\n                  div.setAttribute('style', divProperties.style + padding);\n                }\n\n                if (transform !== '') {\n                  _dom_utils.CustomStyle.setProp('transform', div, transform);\n                }\n              } else {\n                div.style.padding = 0;\n\n                _dom_utils.CustomStyle.setProp('transform', div, divProperties.originalTransform || '');\n              }\n            }\n          }\n        };\n\n        function renderTextLayer(renderParameters) {\n          var task = new TextLayerRenderTask({\n            textContent: renderParameters.textContent,\n            textContentStream: renderParameters.textContentStream,\n            container: renderParameters.container,\n            viewport: renderParameters.viewport,\n            textDivs: renderParameters.textDivs,\n            textContentItemsStr: renderParameters.textContentItemsStr,\n            enhanceTextSelection: renderParameters.enhanceTextSelection\n          });\n\n          task._render(renderParameters.timeout);\n\n          return task;\n        }\n\n        return renderTextLayer;\n      }();\n\n      exports.renderTextLayer = renderTextLayer;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      function fixMetadata(meta) {\n        return meta.replace(/>\\\\376\\\\377([^<]+)/g, function (all, codes) {\n          var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g, function (code, d1, d2, d3) {\n            return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n          });\n          var chars = '';\n\n          for (var i = 0; i < bytes.length; i += 2) {\n            var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n            chars += code >= 32 && code < 127 && code !== 60 && code !== 62 && code !== 38 ? String.fromCharCode(code) : '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n          }\n\n          return '>' + chars;\n        });\n      }\n\n      function Metadata(meta) {\n        if (typeof meta === 'string') {\n          meta = fixMetadata(meta);\n          var parser = new DOMParser();\n          meta = parser.parseFromString(meta, 'application/xml');\n        } else if (!(meta instanceof Document)) {\n          throw new Error('Metadata: Invalid metadata object');\n        }\n\n        this.metaDocument = meta;\n        this.metadata = Object.create(null);\n        this.parse();\n      }\n\n      Metadata.prototype = {\n        parse: function Metadata_parse() {\n          var doc = this.metaDocument;\n          var rdf = doc.documentElement;\n\n          if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n            rdf = rdf.firstChild;\n\n            while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n              rdf = rdf.nextSibling;\n            }\n          }\n\n          var nodeName = rdf ? rdf.nodeName.toLowerCase() : null;\n\n          if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n            return;\n          }\n\n          var children = rdf.childNodes,\n              desc,\n              entry,\n              name,\n              i,\n              ii,\n              length,\n              iLength;\n\n          for (i = 0, length = children.length; i < length; i++) {\n            desc = children[i];\n\n            if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n              continue;\n            }\n\n            for (ii = 0, iLength = desc.childNodes.length; ii < iLength; ii++) {\n              if (desc.childNodes[ii].nodeName.toLowerCase() !== '#text') {\n                entry = desc.childNodes[ii];\n                name = entry.nodeName.toLowerCase();\n                this.metadata[name] = entry.textContent.trim();\n              }\n            }\n          }\n        },\n        get: function Metadata_get(name) {\n          return this.metadata[name] || null;\n        },\n        has: function Metadata_has(name) {\n          return typeof this.metadata[name] !== 'undefined';\n        }\n      };\n      exports.Metadata = Metadata;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.WebGLUtils = undefined;\n\n      var _dom_utils = __w_pdfjs_require__(1);\n\n      var _util = __w_pdfjs_require__(0);\n\n      var WebGLUtils = function WebGLUtilsClosure() {\n        function loadShader(gl, code, shaderType) {\n          var shader = gl.createShader(shaderType);\n          gl.shaderSource(shader, code);\n          gl.compileShader(shader);\n          var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n          if (!compiled) {\n            var errorMsg = gl.getShaderInfoLog(shader);\n            throw new Error('Error during shader compilation: ' + errorMsg);\n          }\n\n          return shader;\n        }\n\n        function createVertexShader(gl, code) {\n          return loadShader(gl, code, gl.VERTEX_SHADER);\n        }\n\n        function createFragmentShader(gl, code) {\n          return loadShader(gl, code, gl.FRAGMENT_SHADER);\n        }\n\n        function createProgram(gl, shaders) {\n          var program = gl.createProgram();\n\n          for (var i = 0, ii = shaders.length; i < ii; ++i) {\n            gl.attachShader(program, shaders[i]);\n          }\n\n          gl.linkProgram(program);\n          var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n          if (!linked) {\n            var errorMsg = gl.getProgramInfoLog(program);\n            throw new Error('Error during program linking: ' + errorMsg);\n          }\n\n          return program;\n        }\n\n        function createTexture(gl, image, textureId) {\n          gl.activeTexture(textureId);\n          var texture = gl.createTexture();\n          gl.bindTexture(gl.TEXTURE_2D, texture);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n          return texture;\n        }\n\n        var currentGL, currentCanvas;\n\n        function generateGL() {\n          if (currentGL) {\n            return;\n          }\n\n          currentCanvas = document.createElement('canvas');\n          currentGL = currentCanvas.getContext('webgl', {\n            premultipliedalpha: false\n          });\n        }\n\n        var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n        var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n        var smaskCache = null;\n\n        function initSmaskGL() {\n          var canvas, gl;\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n          var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n          cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n          var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n          var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n          var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n          var texCoordBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(texCoordLocation);\n          gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n          gl.uniform1i(texLayerLocation, 0);\n          gl.uniform1i(texMaskLocation, 1);\n          smaskCache = cache;\n        }\n\n        function composeSMask(layer, mask, properties) {\n          var width = layer.width,\n              height = layer.height;\n\n          if (!smaskCache) {\n            initSmaskGL();\n          }\n\n          var cache = smaskCache,\n              canvas = cache.canvas,\n              gl = cache.gl;\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n\n          if (properties.backdrop) {\n            gl.uniform4f(cache.resolutionLocation, properties.backdrop[0], properties.backdrop[1], properties.backdrop[2], 1);\n          } else {\n            gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n          }\n\n          gl.uniform1i(cache.subtypeLocation, properties.subtype === 'Luminosity' ? 1 : 0);\n          var texture = createTexture(gl, layer, gl.TEXTURE0);\n          var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n          var buffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, width, 0, 0, height, 0, height, width, 0, width, height]), gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n          gl.clearColor(0, 0, 0, 0);\n          gl.enable(gl.BLEND);\n          gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n          gl.clear(gl.COLOR_BUFFER_BIT);\n          gl.drawArrays(gl.TRIANGLES, 0, 6);\n          gl.flush();\n          gl.deleteTexture(texture);\n          gl.deleteTexture(maskTexture);\n          gl.deleteBuffer(buffer);\n          return canvas;\n        }\n\n        var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n        var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n        var figuresCache = null;\n\n        function initFiguresGL() {\n          var canvas, gl;\n          generateGL();\n          canvas = currentCanvas;\n          currentCanvas = null;\n          gl = currentGL;\n          currentGL = null;\n          var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n          var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n          var program = createProgram(gl, [vertexShader, fragmentShader]);\n          gl.useProgram(program);\n          var cache = {};\n          cache.gl = gl;\n          cache.canvas = canvas;\n          cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n          cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n          cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n          cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n          cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n          figuresCache = cache;\n        }\n\n        function drawFigures(width, height, backgroundColor, figures, context) {\n          if (!figuresCache) {\n            initFiguresGL();\n          }\n\n          var cache = figuresCache,\n              canvas = cache.canvas,\n              gl = cache.gl;\n          canvas.width = width;\n          canvas.height = height;\n          gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n          gl.uniform2f(cache.resolutionLocation, width, height);\n          var count = 0;\n          var i, ii, rows;\n\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            switch (figures[i].type) {\n              case 'lattice':\n                rows = figures[i].coords.length / figures[i].verticesPerRow | 0;\n                count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n                break;\n\n              case 'triangles':\n                count += figures[i].coords.length;\n                break;\n            }\n          }\n\n          var coords = new Float32Array(count * 2);\n          var colors = new Uint8Array(count * 3);\n          var coordsMap = context.coords,\n              colorsMap = context.colors;\n          var pIndex = 0,\n              cIndex = 0;\n\n          for (i = 0, ii = figures.length; i < ii; i++) {\n            var figure = figures[i],\n                ps = figure.coords,\n                cs = figure.colors;\n\n            switch (figure.type) {\n              case 'lattice':\n                var cols = figure.verticesPerRow;\n                rows = ps.length / cols | 0;\n\n                for (var row = 1; row < rows; row++) {\n                  var offset = row * cols + 1;\n\n                  for (var col = 1; col < cols; col++, offset++) {\n                    coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n                    coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n                    coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n                    coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n                    coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n                    coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n                    colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n                    colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n                    colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n                    colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n                    colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n                    colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n                    colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n                    colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n                    colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n                    coords[pIndex + 6] = coords[pIndex + 2];\n                    coords[pIndex + 7] = coords[pIndex + 3];\n                    coords[pIndex + 8] = coords[pIndex + 4];\n                    coords[pIndex + 9] = coords[pIndex + 5];\n                    coords[pIndex + 10] = coordsMap[ps[offset]];\n                    coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n                    colors[cIndex + 9] = colors[cIndex + 3];\n                    colors[cIndex + 10] = colors[cIndex + 4];\n                    colors[cIndex + 11] = colors[cIndex + 5];\n                    colors[cIndex + 12] = colors[cIndex + 6];\n                    colors[cIndex + 13] = colors[cIndex + 7];\n                    colors[cIndex + 14] = colors[cIndex + 8];\n                    colors[cIndex + 15] = colorsMap[cs[offset]];\n                    colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n                    colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n                    pIndex += 12;\n                    cIndex += 18;\n                  }\n                }\n\n                break;\n\n              case 'triangles':\n                for (var j = 0, jj = ps.length; j < jj; j++) {\n                  coords[pIndex] = coordsMap[ps[j]];\n                  coords[pIndex + 1] = coordsMap[ps[j] + 1];\n                  colors[cIndex] = colorsMap[cs[j]];\n                  colors[cIndex + 1] = colorsMap[cs[j] + 1];\n                  colors[cIndex + 2] = colorsMap[cs[j] + 2];\n                  pIndex += 2;\n                  cIndex += 3;\n                }\n\n                break;\n            }\n          }\n\n          if (backgroundColor) {\n            gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255, backgroundColor[2] / 255, 1.0);\n          } else {\n            gl.clearColor(0, 0, 0, 0);\n          }\n\n          gl.clear(gl.COLOR_BUFFER_BIT);\n          var coordsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.positionLocation);\n          gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n          var colorsBuffer = gl.createBuffer();\n          gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n          gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n          gl.enableVertexAttribArray(cache.colorLocation);\n          gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false, 0, 0);\n          gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n          gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n          gl.drawArrays(gl.TRIANGLES, 0, count);\n          gl.flush();\n          gl.deleteBuffer(coordsBuffer);\n          gl.deleteBuffer(colorsBuffer);\n          return canvas;\n        }\n\n        function cleanup() {\n          if (smaskCache && smaskCache.canvas) {\n            smaskCache.canvas.width = 0;\n            smaskCache.canvas.height = 0;\n          }\n\n          if (figuresCache && figuresCache.canvas) {\n            figuresCache.canvas.width = 0;\n            figuresCache.canvas.height = 0;\n          }\n\n          smaskCache = null;\n          figuresCache = null;\n        }\n\n        return {\n          get isEnabled() {\n            if ((0, _dom_utils.getDefaultSetting)('disableWebGL')) {\n              return false;\n            }\n\n            var enabled = false;\n\n            try {\n              generateGL();\n              enabled = !!currentGL;\n            } catch (e) {}\n\n            return (0, _util.shadow)(this, 'isEnabled', enabled);\n          },\n\n          composeSMask: composeSMask,\n          drawFigures: drawFigures,\n          clear: cleanup\n        };\n      }();\n\n      exports.WebGLUtils = WebGLUtils;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFJS = exports.isWorker = exports.globalScope = undefined;\n\n      var _api = __w_pdfjs_require__(2);\n\n      var _dom_utils = __w_pdfjs_require__(1);\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _annotation_layer = __w_pdfjs_require__(3);\n\n      var _metadata = __w_pdfjs_require__(6);\n\n      var _text_layer = __w_pdfjs_require__(5);\n\n      var _svg = __w_pdfjs_require__(4);\n\n      var isWorker = typeof window === 'undefined';\n\n      if (!_util.globalScope.PDFJS) {\n        _util.globalScope.PDFJS = {};\n      }\n\n      var PDFJS = _util.globalScope.PDFJS;\n      {\n        PDFJS.version = '1.9.426';\n        PDFJS.build = '2558a58d';\n      }\n      PDFJS.pdfBug = false;\n\n      if (PDFJS.verbosity !== undefined) {\n        (0, _util.setVerbosityLevel)(PDFJS.verbosity);\n      }\n\n      delete PDFJS.verbosity;\n      Object.defineProperty(PDFJS, 'verbosity', {\n        get: function get() {\n          return (0, _util.getVerbosityLevel)();\n        },\n        set: function set(level) {\n          (0, _util.setVerbosityLevel)(level);\n        },\n        enumerable: true,\n        configurable: true\n      });\n      PDFJS.VERBOSITY_LEVELS = _util.VERBOSITY_LEVELS;\n      PDFJS.OPS = _util.OPS;\n      PDFJS.UNSUPPORTED_FEATURES = _util.UNSUPPORTED_FEATURES;\n      PDFJS.isValidUrl = _dom_utils.isValidUrl;\n      PDFJS.shadow = _util.shadow;\n      PDFJS.createBlob = _util.createBlob;\n\n      PDFJS.createObjectURL = function PDFJS_createObjectURL(data, contentType) {\n        return (0, _util.createObjectURL)(data, contentType, PDFJS.disableCreateObjectURL);\n      };\n\n      Object.defineProperty(PDFJS, 'isLittleEndian', {\n        configurable: true,\n        get: function PDFJS_isLittleEndian() {\n          return (0, _util.shadow)(PDFJS, 'isLittleEndian', (0, _util.isLittleEndian)());\n        }\n      });\n      PDFJS.removeNullCharacters = _util.removeNullCharacters;\n      PDFJS.PasswordResponses = _util.PasswordResponses;\n      PDFJS.PasswordException = _util.PasswordException;\n      PDFJS.UnknownErrorException = _util.UnknownErrorException;\n      PDFJS.InvalidPDFException = _util.InvalidPDFException;\n      PDFJS.MissingPDFException = _util.MissingPDFException;\n      PDFJS.UnexpectedResponseException = _util.UnexpectedResponseException;\n      PDFJS.Util = _util.Util;\n      PDFJS.PageViewport = _util.PageViewport;\n      PDFJS.createPromiseCapability = _util.createPromiseCapability;\n      PDFJS.maxImageSize = PDFJS.maxImageSize === undefined ? -1 : PDFJS.maxImageSize;\n      PDFJS.cMapUrl = PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl;\n      PDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n      PDFJS.disableFontFace = PDFJS.disableFontFace === undefined ? false : PDFJS.disableFontFace;\n      PDFJS.imageResourcesPath = PDFJS.imageResourcesPath === undefined ? '' : PDFJS.imageResourcesPath;\n      PDFJS.disableWorker = PDFJS.disableWorker === undefined ? false : PDFJS.disableWorker;\n      PDFJS.workerSrc = PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc;\n      PDFJS.workerPort = PDFJS.workerPort === undefined ? null : PDFJS.workerPort;\n      PDFJS.disableRange = PDFJS.disableRange === undefined ? false : PDFJS.disableRange;\n      PDFJS.disableStream = PDFJS.disableStream === undefined ? false : PDFJS.disableStream;\n      PDFJS.disableAutoFetch = PDFJS.disableAutoFetch === undefined ? false : PDFJS.disableAutoFetch;\n      PDFJS.pdfBug = PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug;\n      PDFJS.postMessageTransfers = PDFJS.postMessageTransfers === undefined ? true : PDFJS.postMessageTransfers;\n      PDFJS.disableCreateObjectURL = PDFJS.disableCreateObjectURL === undefined ? false : PDFJS.disableCreateObjectURL;\n      PDFJS.disableWebGL = PDFJS.disableWebGL === undefined ? true : PDFJS.disableWebGL;\n      PDFJS.externalLinkTarget = PDFJS.externalLinkTarget === undefined ? _dom_utils.LinkTarget.NONE : PDFJS.externalLinkTarget;\n      PDFJS.externalLinkRel = PDFJS.externalLinkRel === undefined ? _dom_utils.DEFAULT_LINK_REL : PDFJS.externalLinkRel;\n      PDFJS.isEvalSupported = PDFJS.isEvalSupported === undefined ? true : PDFJS.isEvalSupported;\n      PDFJS.pdfjsNext = PDFJS.pdfjsNext === undefined ? false : PDFJS.pdfjsNext;\n      {\n        var savedOpenExternalLinksInNewWindow = PDFJS.openExternalLinksInNewWindow;\n        delete PDFJS.openExternalLinksInNewWindow;\n        Object.defineProperty(PDFJS, 'openExternalLinksInNewWindow', {\n          get: function get() {\n            return PDFJS.externalLinkTarget === _dom_utils.LinkTarget.BLANK;\n          },\n          set: function set(value) {\n            if (value) {\n              (0, _util.deprecated)('PDFJS.openExternalLinksInNewWindow, please use ' + '\"PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK\" instead.');\n            }\n\n            if (PDFJS.externalLinkTarget !== _dom_utils.LinkTarget.NONE) {\n              (0, _util.warn)('PDFJS.externalLinkTarget is already initialized');\n              return;\n            }\n\n            PDFJS.externalLinkTarget = value ? _dom_utils.LinkTarget.BLANK : _dom_utils.LinkTarget.NONE;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        if (savedOpenExternalLinksInNewWindow) {\n          PDFJS.openExternalLinksInNewWindow = savedOpenExternalLinksInNewWindow;\n        }\n      }\n      PDFJS.getDocument = _api.getDocument;\n      PDFJS.LoopbackPort = _api.LoopbackPort;\n      PDFJS.PDFDataRangeTransport = _api.PDFDataRangeTransport;\n      PDFJS.PDFWorker = _api.PDFWorker;\n      PDFJS.hasCanvasTypedArrays = true;\n      PDFJS.CustomStyle = _dom_utils.CustomStyle;\n      PDFJS.LinkTarget = _dom_utils.LinkTarget;\n      PDFJS.addLinkAttributes = _dom_utils.addLinkAttributes;\n      PDFJS.getFilenameFromUrl = _dom_utils.getFilenameFromUrl;\n      PDFJS.isExternalLinkTargetSet = _dom_utils.isExternalLinkTargetSet;\n      PDFJS.AnnotationLayer = _annotation_layer.AnnotationLayer;\n      PDFJS.renderTextLayer = _text_layer.renderTextLayer;\n      PDFJS.Metadata = _metadata.Metadata;\n      PDFJS.SVGGraphics = _svg.SVGGraphics;\n      PDFJS.UnsupportedManager = _api._UnsupportedManager;\n      exports.globalScope = _util.globalScope;\n      exports.isWorker = isWorker;\n      exports.PDFJS = PDFJS;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.NetworkManager = exports.PDFNetworkStream = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _api = __w_pdfjs_require__(2);\n\n      ;\n      var OK_RESPONSE = 200;\n      var PARTIAL_CONTENT_RESPONSE = 206;\n\n      function NetworkManager(url, args) {\n        this.url = url;\n        args = args || {};\n        this.isHttp = /^https?:/i.test(url);\n        this.httpHeaders = this.isHttp && args.httpHeaders || {};\n        this.withCredentials = args.withCredentials || false;\n\n        this.getXhr = args.getXhr || function NetworkManager_getXhr() {\n          return new XMLHttpRequest();\n        };\n\n        this.currXhrId = 0;\n        this.pendingRequests = Object.create(null);\n        this.loadedRequests = Object.create(null);\n      }\n\n      function getArrayBuffer(xhr) {\n        var data = xhr.response;\n\n        if (typeof data !== 'string') {\n          return data;\n        }\n\n        var length = data.length;\n        var array = new Uint8Array(length);\n\n        for (var i = 0; i < length; i++) {\n          array[i] = data.charCodeAt(i) & 0xFF;\n        }\n\n        return array.buffer;\n      }\n\n      var supportsMozChunked = function supportsMozChunkedClosure() {\n        try {\n          var x = new XMLHttpRequest();\n          x.open('GET', _util.globalScope.location.href);\n          x.responseType = 'moz-chunked-arraybuffer';\n          return x.responseType === 'moz-chunked-arraybuffer';\n        } catch (e) {\n          return false;\n        }\n      }();\n\n      NetworkManager.prototype = {\n        requestRange: function NetworkManager_requestRange(begin, end, listeners) {\n          var args = {\n            begin: begin,\n            end: end\n          };\n\n          for (var prop in listeners) {\n            args[prop] = listeners[prop];\n          }\n\n          return this.request(args);\n        },\n        requestFull: function NetworkManager_requestFull(listeners) {\n          return this.request(listeners);\n        },\n        request: function NetworkManager_request(args) {\n          var xhr = this.getXhr();\n          var xhrId = this.currXhrId++;\n          var pendingRequest = this.pendingRequests[xhrId] = {\n            xhr: xhr\n          };\n          xhr.open('GET', this.url);\n          xhr.withCredentials = this.withCredentials;\n\n          for (var property in this.httpHeaders) {\n            var value = this.httpHeaders[property];\n\n            if (typeof value === 'undefined') {\n              continue;\n            }\n\n            xhr.setRequestHeader(property, value);\n          }\n\n          if (this.isHttp && 'begin' in args && 'end' in args) {\n            var rangeStr = args.begin + '-' + (args.end - 1);\n            xhr.setRequestHeader('Range', 'bytes=' + rangeStr);\n            pendingRequest.expectedStatus = 206;\n          } else {\n            pendingRequest.expectedStatus = 200;\n          }\n\n          var useMozChunkedLoading = supportsMozChunked && !!args.onProgressiveData;\n\n          if (useMozChunkedLoading) {\n            xhr.responseType = 'moz-chunked-arraybuffer';\n            pendingRequest.onProgressiveData = args.onProgressiveData;\n            pendingRequest.mozChunked = true;\n          } else {\n            xhr.responseType = 'arraybuffer';\n          }\n\n          if (args.onError) {\n            xhr.onerror = function (evt) {\n              args.onError(xhr.status);\n            };\n          }\n\n          xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n          xhr.onprogress = this.onProgress.bind(this, xhrId);\n          pendingRequest.onHeadersReceived = args.onHeadersReceived;\n          pendingRequest.onDone = args.onDone;\n          pendingRequest.onError = args.onError;\n          pendingRequest.onProgress = args.onProgress;\n          xhr.send(null);\n          return xhrId;\n        },\n        onProgress: function NetworkManager_onProgress(xhrId, evt) {\n          var pendingRequest = this.pendingRequests[xhrId];\n\n          if (!pendingRequest) {\n            return;\n          }\n\n          if (pendingRequest.mozChunked) {\n            var chunk = getArrayBuffer(pendingRequest.xhr);\n            pendingRequest.onProgressiveData(chunk);\n          }\n\n          var onProgress = pendingRequest.onProgress;\n\n          if (onProgress) {\n            onProgress(evt);\n          }\n        },\n        onStateChange: function NetworkManager_onStateChange(xhrId, evt) {\n          var pendingRequest = this.pendingRequests[xhrId];\n\n          if (!pendingRequest) {\n            return;\n          }\n\n          var xhr = pendingRequest.xhr;\n\n          if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n            pendingRequest.onHeadersReceived();\n            delete pendingRequest.onHeadersReceived;\n          }\n\n          if (xhr.readyState !== 4) {\n            return;\n          }\n\n          if (!(xhrId in this.pendingRequests)) {\n            return;\n          }\n\n          delete this.pendingRequests[xhrId];\n\n          if (xhr.status === 0 && this.isHttp) {\n            if (pendingRequest.onError) {\n              pendingRequest.onError(xhr.status);\n            }\n\n            return;\n          }\n\n          var xhrStatus = xhr.status || OK_RESPONSE;\n          var ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n          if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n            if (pendingRequest.onError) {\n              pendingRequest.onError(xhr.status);\n            }\n\n            return;\n          }\n\n          this.loadedRequests[xhrId] = true;\n          var chunk = getArrayBuffer(xhr);\n\n          if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n            var rangeHeader = xhr.getResponseHeader('Content-Range');\n            var matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n            var begin = parseInt(matches[1], 10);\n            pendingRequest.onDone({\n              begin: begin,\n              chunk: chunk\n            });\n          } else if (pendingRequest.onProgressiveData) {\n            pendingRequest.onDone(null);\n          } else if (chunk) {\n            pendingRequest.onDone({\n              begin: 0,\n              chunk: chunk\n            });\n          } else if (pendingRequest.onError) {\n            pendingRequest.onError(xhr.status);\n          }\n        },\n        hasPendingRequests: function NetworkManager_hasPendingRequests() {\n          for (var xhrId in this.pendingRequests) {\n            return true;\n          }\n\n          return false;\n        },\n        getRequestXhr: function NetworkManager_getXhr(xhrId) {\n          return this.pendingRequests[xhrId].xhr;\n        },\n        isStreamingRequest: function NetworkManager_isStreamingRequest(xhrId) {\n          return !!this.pendingRequests[xhrId].onProgressiveData;\n        },\n        isPendingRequest: function NetworkManager_isPendingRequest(xhrId) {\n          return xhrId in this.pendingRequests;\n        },\n        isLoadedRequest: function NetworkManager_isLoadedRequest(xhrId) {\n          return xhrId in this.loadedRequests;\n        },\n        abortAllRequests: function NetworkManager_abortAllRequests() {\n          for (var xhrId in this.pendingRequests) {\n            this.abortRequest(xhrId | 0);\n          }\n        },\n        abortRequest: function NetworkManager_abortRequest(xhrId) {\n          var xhr = this.pendingRequests[xhrId].xhr;\n          delete this.pendingRequests[xhrId];\n          xhr.abort();\n        }\n      };\n\n      function PDFNetworkStream(options) {\n        this._options = options;\n        var source = options.source;\n        this._manager = new NetworkManager(source.url, {\n          httpHeaders: source.httpHeaders,\n          withCredentials: source.withCredentials\n        });\n        this._rangeChunkSize = source.rangeChunkSize;\n        this._fullRequestReader = null;\n        this._rangeRequestReaders = [];\n      }\n\n      PDFNetworkStream.prototype = {\n        _onRangeRequestReaderClosed: function PDFNetworkStream_onRangeRequestReaderClosed(reader) {\n          var i = this._rangeRequestReaders.indexOf(reader);\n\n          if (i >= 0) {\n            this._rangeRequestReaders.splice(i, 1);\n          }\n        },\n        getFullReader: function PDFNetworkStream_getFullReader() {\n          (0, _util.assert)(!this._fullRequestReader);\n          this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._options);\n          return this._fullRequestReader;\n        },\n        getRangeReader: function PDFNetworkStream_getRangeReader(begin, end) {\n          var reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n          reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n\n          this._rangeRequestReaders.push(reader);\n\n          return reader;\n        },\n        cancelAllRequests: function PDFNetworkStream_cancelAllRequests(reason) {\n          if (this._fullRequestReader) {\n            this._fullRequestReader.cancel(reason);\n          }\n\n          var readers = this._rangeRequestReaders.slice(0);\n\n          readers.forEach(function (reader) {\n            reader.cancel(reason);\n          });\n        }\n      };\n\n      function PDFNetworkStreamFullRequestReader(manager, options) {\n        this._manager = manager;\n        var source = options.source;\n        var args = {\n          onHeadersReceived: this._onHeadersReceived.bind(this),\n          onProgressiveData: source.disableStream ? null : this._onProgressiveData.bind(this),\n          onDone: this._onDone.bind(this),\n          onError: this._onError.bind(this),\n          onProgress: this._onProgress.bind(this)\n        };\n        this._url = source.url;\n        this._fullRequestId = manager.requestFull(args);\n        this._headersReceivedCapability = (0, _util.createPromiseCapability)();\n        this._disableRange = options.disableRange || false;\n        this._contentLength = source.length;\n        this._rangeChunkSize = source.rangeChunkSize;\n\n        if (!this._rangeChunkSize && !this._disableRange) {\n          this._disableRange = true;\n        }\n\n        this._isStreamingSupported = false;\n        this._isRangeSupported = false;\n        this._cachedChunks = [];\n        this._requests = [];\n        this._done = false;\n        this._storedError = undefined;\n        this.onProgress = null;\n      }\n\n      PDFNetworkStreamFullRequestReader.prototype = {\n        _validateRangeRequestCapabilities: function PDFNetworkStreamFullRequestReader_validateRangeRequestCapabilities() {\n          if (this._disableRange) {\n            return false;\n          }\n\n          var networkManager = this._manager;\n\n          if (!networkManager.isHttp) {\n            return false;\n          }\n\n          var fullRequestXhrId = this._fullRequestId;\n          var fullRequestXhr = networkManager.getRequestXhr(fullRequestXhrId);\n\n          if (fullRequestXhr.getResponseHeader('Accept-Ranges') !== 'bytes') {\n            return false;\n          }\n\n          var contentEncoding = fullRequestXhr.getResponseHeader('Content-Encoding') || 'identity';\n\n          if (contentEncoding !== 'identity') {\n            return false;\n          }\n\n          var length = fullRequestXhr.getResponseHeader('Content-Length');\n          length = parseInt(length, 10);\n\n          if (!(0, _util.isInt)(length)) {\n            return false;\n          }\n\n          this._contentLength = length;\n\n          if (length <= 2 * this._rangeChunkSize) {\n            return false;\n          }\n\n          return true;\n        },\n        _onHeadersReceived: function PDFNetworkStreamFullRequestReader_onHeadersReceived() {\n          if (this._validateRangeRequestCapabilities()) {\n            this._isRangeSupported = true;\n          }\n\n          var networkManager = this._manager;\n          var fullRequestXhrId = this._fullRequestId;\n\n          if (networkManager.isStreamingRequest(fullRequestXhrId)) {\n            this._isStreamingSupported = true;\n          } else if (this._isRangeSupported) {\n            networkManager.abortRequest(fullRequestXhrId);\n          }\n\n          this._headersReceivedCapability.resolve();\n        },\n        _onProgressiveData: function PDFNetworkStreamFullRequestReader_onProgressiveData(chunk) {\n          if (this._requests.length > 0) {\n            var requestCapability = this._requests.shift();\n\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._cachedChunks.push(chunk);\n          }\n        },\n        _onDone: function PDFNetworkStreamFullRequestReader_onDone(args) {\n          if (args) {\n            this._onProgressiveData(args.chunk);\n          }\n\n          this._done = true;\n\n          if (this._cachedChunks.length > 0) {\n            return;\n          }\n\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n\n          this._requests = [];\n        },\n        _onError: function PDFNetworkStreamFullRequestReader_onError(status) {\n          var url = this._url;\n          var exception;\n\n          if (status === 404 || status === 0 && /^file:/.test(url)) {\n            exception = new _util.MissingPDFException('Missing PDF \"' + url + '\".');\n          } else {\n            exception = new _util.UnexpectedResponseException('Unexpected server response (' + status + ') while retrieving PDF \"' + url + '\".', status);\n          }\n\n          this._storedError = exception;\n\n          this._headersReceivedCapability.reject(exception);\n\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.reject(exception);\n          });\n\n          this._requests = [];\n          this._cachedChunks = [];\n        },\n        _onProgress: function PDFNetworkStreamFullRequestReader_onProgress(data) {\n          if (this.onProgress) {\n            this.onProgress({\n              loaded: data.loaded,\n              total: data.lengthComputable ? data.total : this._contentLength\n            });\n          }\n        },\n\n        get isRangeSupported() {\n          return this._isRangeSupported;\n        },\n\n        get isStreamingSupported() {\n          return this._isStreamingSupported;\n        },\n\n        get contentLength() {\n          return this._contentLength;\n        },\n\n        get headersReady() {\n          return this._headersReceivedCapability.promise;\n        },\n\n        read: function PDFNetworkStreamFullRequestReader_read() {\n          if (this._storedError) {\n            return Promise.reject(this._storedError);\n          }\n\n          if (this._cachedChunks.length > 0) {\n            var chunk = this._cachedChunks.shift();\n\n            return Promise.resolve({\n              value: chunk,\n              done: false\n            });\n          }\n\n          if (this._done) {\n            return Promise.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n\n          var requestCapability = (0, _util.createPromiseCapability)();\n\n          this._requests.push(requestCapability);\n\n          return requestCapability.promise;\n        },\n        cancel: function PDFNetworkStreamFullRequestReader_cancel(reason) {\n          this._done = true;\n\n          this._headersReceivedCapability.reject(reason);\n\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n\n          this._requests = [];\n\n          if (this._manager.isPendingRequest(this._fullRequestId)) {\n            this._manager.abortRequest(this._fullRequestId);\n          }\n\n          this._fullRequestReader = null;\n        }\n      };\n\n      function PDFNetworkStreamRangeRequestReader(manager, begin, end) {\n        this._manager = manager;\n        var args = {\n          onDone: this._onDone.bind(this),\n          onProgress: this._onProgress.bind(this)\n        };\n        this._requestId = manager.requestRange(begin, end, args);\n        this._requests = [];\n        this._queuedChunk = null;\n        this._done = false;\n        this.onProgress = null;\n        this.onClosed = null;\n      }\n\n      PDFNetworkStreamRangeRequestReader.prototype = {\n        _close: function PDFNetworkStreamRangeRequestReader_close() {\n          if (this.onClosed) {\n            this.onClosed(this);\n          }\n        },\n        _onDone: function PDFNetworkStreamRangeRequestReader_onDone(data) {\n          var chunk = data.chunk;\n\n          if (this._requests.length > 0) {\n            var requestCapability = this._requests.shift();\n\n            requestCapability.resolve({\n              value: chunk,\n              done: false\n            });\n          } else {\n            this._queuedChunk = chunk;\n          }\n\n          this._done = true;\n\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n\n          this._requests = [];\n\n          this._close();\n        },\n        _onProgress: function PDFNetworkStreamRangeRequestReader_onProgress(evt) {\n          if (!this.isStreamingSupported && this.onProgress) {\n            this.onProgress({\n              loaded: evt.loaded\n            });\n          }\n        },\n\n        get isStreamingSupported() {\n          return false;\n        },\n\n        read: function PDFNetworkStreamRangeRequestReader_read() {\n          if (this._queuedChunk !== null) {\n            var chunk = this._queuedChunk;\n            this._queuedChunk = null;\n            return Promise.resolve({\n              value: chunk,\n              done: false\n            });\n          }\n\n          if (this._done) {\n            return Promise.resolve({\n              value: undefined,\n              done: true\n            });\n          }\n\n          var requestCapability = (0, _util.createPromiseCapability)();\n\n          this._requests.push(requestCapability);\n\n          return requestCapability.promise;\n        },\n        cancel: function PDFNetworkStreamRangeRequestReader_cancel(reason) {\n          this._done = true;\n\n          this._requests.forEach(function (requestCapability) {\n            requestCapability.resolve({\n              value: undefined,\n              done: true\n            });\n          });\n\n          this._requests = [];\n\n          if (this._manager.isPendingRequest(this._requestId)) {\n            this._manager.abortRequest(this._requestId);\n          }\n\n          this._close();\n        }\n      };\n      (0, _api.setPDFNetworkStreamClass)(PDFNetworkStream);\n      exports.PDFNetworkStream = PDFNetworkStream;\n      exports.NetworkManager = NetworkManager;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      (function (e, a) {\n        for (var i in a) {\n          e[i] = a[i];\n        }\n      })(exports, function (modules) {\n        var installedModules = {};\n\n        function __w_pdfjs_require__(moduleId) {\n          if (installedModules[moduleId]) return installedModules[moduleId].exports;\n          var module = installedModules[moduleId] = {\n            i: moduleId,\n            l: false,\n            exports: {}\n          };\n          modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n          module.l = true;\n          return module.exports;\n        }\n\n        __w_pdfjs_require__.m = modules;\n        __w_pdfjs_require__.c = installedModules;\n\n        __w_pdfjs_require__.i = function (value) {\n          return value;\n        };\n\n        __w_pdfjs_require__.d = function (exports, name, getter) {\n          if (!__w_pdfjs_require__.o(exports, name)) {\n            Object.defineProperty(exports, name, {\n              configurable: false,\n              enumerable: true,\n              get: getter\n            });\n          }\n        };\n\n        __w_pdfjs_require__.n = function (module) {\n          var getter = module && module.__esModule ? function getDefault() {\n            return module['default'];\n          } : function getModuleExports() {\n            return module;\n          };\n\n          __w_pdfjs_require__.d(getter, 'a', getter);\n\n          return getter;\n        };\n\n        __w_pdfjs_require__.o = function (object, property) {\n          return Object.prototype.hasOwnProperty.call(object, property);\n        };\n\n        __w_pdfjs_require__.p = \"\";\n        return __w_pdfjs_require__(__w_pdfjs_require__.s = 7);\n      }([function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n          return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n        } : function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n        };\n\n        var _require = __w_pdfjs_require__(1),\n            assert = _require.assert;\n\n        function IsPropertyKey(argument) {\n          return typeof argument === 'string' || (typeof argument === 'undefined' ? 'undefined' : _typeof(argument)) === 'symbol';\n        }\n\n        exports.typeIsObject = function (x) {\n          return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null || typeof x === 'function';\n        };\n\n        exports.createDataProperty = function (o, p, v) {\n          assert(exports.typeIsObject(o));\n          Object.defineProperty(o, p, {\n            value: v,\n            writable: true,\n            enumerable: true,\n            configurable: true\n          });\n        };\n\n        exports.createArrayFromList = function (elements) {\n          return elements.slice();\n        };\n\n        exports.ArrayBufferCopy = function (dest, destOffset, src, srcOffset, n) {\n          new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n        };\n\n        exports.CreateIterResultObject = function (value, done) {\n          assert(typeof done === 'boolean');\n          var obj = {};\n          Object.defineProperty(obj, 'value', {\n            value: value,\n            enumerable: true,\n            writable: true,\n            configurable: true\n          });\n          Object.defineProperty(obj, 'done', {\n            value: done,\n            enumerable: true,\n            writable: true,\n            configurable: true\n          });\n          return obj;\n        };\n\n        exports.IsFiniteNonNegativeNumber = function (v) {\n          if (Number.isNaN(v)) {\n            return false;\n          }\n\n          if (v === Infinity) {\n            return false;\n          }\n\n          if (v < 0) {\n            return false;\n          }\n\n          return true;\n        };\n\n        function Call(F, V, args) {\n          if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n          }\n\n          return Function.prototype.apply.call(F, V, args);\n        }\n\n        exports.InvokeOrNoop = function (O, P, args) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n          var method = O[P];\n\n          if (method === undefined) {\n            return undefined;\n          }\n\n          return Call(method, O, args);\n        };\n\n        exports.PromiseInvokeOrNoop = function (O, P, args) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n\n          try {\n            return Promise.resolve(exports.InvokeOrNoop(O, P, args));\n          } catch (returnValueE) {\n            return Promise.reject(returnValueE);\n          }\n        };\n\n        exports.PromiseInvokeOrPerformFallback = function (O, P, args, F, argsF) {\n          assert(O !== undefined);\n          assert(IsPropertyKey(P));\n          assert(Array.isArray(args));\n          assert(Array.isArray(argsF));\n          var method = void 0;\n\n          try {\n            method = O[P];\n          } catch (methodE) {\n            return Promise.reject(methodE);\n          }\n\n          if (method === undefined) {\n            return F.apply(null, argsF);\n          }\n\n          try {\n            return Promise.resolve(Call(method, O, args));\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        };\n\n        exports.TransferArrayBuffer = function (O) {\n          return O.slice();\n        };\n\n        exports.ValidateAndNormalizeHighWaterMark = function (highWaterMark) {\n          highWaterMark = Number(highWaterMark);\n\n          if (Number.isNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');\n          }\n\n          return highWaterMark;\n        };\n\n        exports.ValidateAndNormalizeQueuingStrategy = function (size, highWaterMark) {\n          if (size !== undefined && typeof size !== 'function') {\n            throw new TypeError('size property of a queuing strategy must be a function');\n          }\n\n          highWaterMark = exports.ValidateAndNormalizeHighWaterMark(highWaterMark);\n          return {\n            size: size,\n            highWaterMark: highWaterMark\n          };\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        function rethrowAssertionErrorRejection(e) {\n          if (e && e.constructor === AssertionError) {\n            setTimeout(function () {\n              throw e;\n            }, 0);\n          }\n        }\n\n        function AssertionError(message) {\n          this.name = 'AssertionError';\n          this.message = message || '';\n          this.stack = new Error().stack;\n        }\n\n        AssertionError.prototype = Object.create(Error.prototype);\n        AssertionError.prototype.constructor = AssertionError;\n\n        function assert(value, message) {\n          if (!value) {\n            throw new AssertionError(message);\n          }\n        }\n\n        module.exports = {\n          rethrowAssertionErrorRejection: rethrowAssertionErrorRejection,\n          AssertionError: AssertionError,\n          assert: assert\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var _require = __w_pdfjs_require__(0),\n            InvokeOrNoop = _require.InvokeOrNoop,\n            PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n            ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n            typeIsObject = _require.typeIsObject;\n\n        var _require2 = __w_pdfjs_require__(1),\n            assert = _require2.assert,\n            rethrowAssertionErrorRejection = _require2.rethrowAssertionErrorRejection;\n\n        var _require3 = __w_pdfjs_require__(3),\n            DequeueValue = _require3.DequeueValue,\n            EnqueueValueWithSize = _require3.EnqueueValueWithSize,\n            PeekQueueValue = _require3.PeekQueueValue,\n            ResetQueue = _require3.ResetQueue;\n\n        var WritableStream = function () {\n          function WritableStream() {\n            var underlyingSink = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n                size = _ref.size,\n                _ref$highWaterMark = _ref.highWaterMark,\n                highWaterMark = _ref$highWaterMark === undefined ? 1 : _ref$highWaterMark;\n\n            _classCallCheck(this, WritableStream);\n\n            this._state = 'writable';\n            this._storedError = undefined;\n            this._writer = undefined;\n            this._writableStreamController = undefined;\n            this._writeRequests = [];\n            this._inFlightWriteRequest = undefined;\n            this._closeRequest = undefined;\n            this._inFlightCloseRequest = undefined;\n            this._pendingAbortRequest = undefined;\n            this._backpressure = false;\n            var type = underlyingSink.type;\n\n            if (type !== undefined) {\n              throw new RangeError('Invalid type is specified');\n            }\n\n            this._writableStreamController = new WritableStreamDefaultController(this, underlyingSink, size, highWaterMark);\n\n            this._writableStreamController.__startSteps();\n          }\n\n          _createClass(WritableStream, [{\n            key: 'abort',\n            value: function abort(reason) {\n              if (IsWritableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('abort'));\n              }\n\n              if (IsWritableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('Cannot abort a stream that already has a writer'));\n              }\n\n              return WritableStreamAbort(this, reason);\n            }\n          }, {\n            key: 'getWriter',\n            value: function getWriter() {\n              if (IsWritableStream(this) === false) {\n                throw streamBrandCheckException('getWriter');\n              }\n\n              return AcquireWritableStreamDefaultWriter(this);\n            }\n          }, {\n            key: 'locked',\n            get: function get() {\n              if (IsWritableStream(this) === false) {\n                throw streamBrandCheckException('locked');\n              }\n\n              return IsWritableStreamLocked(this);\n            }\n          }]);\n\n          return WritableStream;\n        }();\n\n        module.exports = {\n          AcquireWritableStreamDefaultWriter: AcquireWritableStreamDefaultWriter,\n          IsWritableStream: IsWritableStream,\n          IsWritableStreamLocked: IsWritableStreamLocked,\n          WritableStream: WritableStream,\n          WritableStreamAbort: WritableStreamAbort,\n          WritableStreamDefaultControllerError: WritableStreamDefaultControllerError,\n          WritableStreamDefaultWriterCloseWithErrorPropagation: WritableStreamDefaultWriterCloseWithErrorPropagation,\n          WritableStreamDefaultWriterRelease: WritableStreamDefaultWriterRelease,\n          WritableStreamDefaultWriterWrite: WritableStreamDefaultWriterWrite,\n          WritableStreamCloseQueuedOrInFlight: WritableStreamCloseQueuedOrInFlight\n        };\n\n        function AcquireWritableStreamDefaultWriter(stream) {\n          return new WritableStreamDefaultWriter(stream);\n        }\n\n        function IsWritableStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function IsWritableStreamLocked(stream) {\n          assert(IsWritableStream(stream) === true, 'IsWritableStreamLocked should only be used on known writable streams');\n\n          if (stream._writer === undefined) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function WritableStreamAbort(stream, reason) {\n          var state = stream._state;\n\n          if (state === 'closed') {\n            return Promise.resolve(undefined);\n          }\n\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          var error = new TypeError('Requested to abort');\n\n          if (stream._pendingAbortRequest !== undefined) {\n            return Promise.reject(error);\n          }\n\n          assert(state === 'writable' || state === 'erroring', 'state must be writable or erroring');\n          var wasAlreadyErroring = false;\n\n          if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            reason = undefined;\n          }\n\n          var promise = new Promise(function (resolve, reject) {\n            stream._pendingAbortRequest = {\n              _resolve: resolve,\n              _reject: reject,\n              _reason: reason,\n              _wasAlreadyErroring: wasAlreadyErroring\n            };\n          });\n\n          if (wasAlreadyErroring === false) {\n            WritableStreamStartErroring(stream, error);\n          }\n\n          return promise;\n        }\n\n        function WritableStreamAddWriteRequest(stream) {\n          assert(IsWritableStreamLocked(stream) === true);\n          assert(stream._state === 'writable');\n          var promise = new Promise(function (resolve, reject) {\n            var writeRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n\n            stream._writeRequests.push(writeRequest);\n          });\n          return promise;\n        }\n\n        function WritableStreamDealWithRejection(stream, error) {\n          var state = stream._state;\n\n          if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n          }\n\n          assert(state === 'erroring');\n          WritableStreamFinishErroring(stream);\n        }\n\n        function WritableStreamStartErroring(stream, reason) {\n          assert(stream._storedError === undefined, 'stream._storedError === undefined');\n          assert(stream._state === 'writable', 'state must be writable');\n          var controller = stream._writableStreamController;\n          assert(controller !== undefined, 'controller must not be undefined');\n          stream._state = 'erroring';\n          stream._storedError = reason;\n          var writer = stream._writer;\n\n          if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n          }\n\n          if (WritableStreamHasOperationMarkedInFlight(stream) === false && controller._started === true) {\n            WritableStreamFinishErroring(stream);\n          }\n        }\n\n        function WritableStreamFinishErroring(stream) {\n          assert(stream._state === 'erroring', 'stream._state === erroring');\n          assert(WritableStreamHasOperationMarkedInFlight(stream) === false, 'WritableStreamHasOperationMarkedInFlight(stream) === false');\n          stream._state = 'errored';\n\n          stream._writableStreamController.__errorSteps();\n\n          var storedError = stream._storedError;\n\n          for (var i = 0; i < stream._writeRequests.length; i++) {\n            var writeRequest = stream._writeRequests[i];\n\n            writeRequest._reject(storedError);\n          }\n\n          stream._writeRequests = [];\n\n          if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n          }\n\n          var abortRequest = stream._pendingAbortRequest;\n          stream._pendingAbortRequest = undefined;\n\n          if (abortRequest._wasAlreadyErroring === true) {\n            abortRequest._reject(storedError);\n\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n          }\n\n          var promise = stream._writableStreamController.__abortSteps(abortRequest._reason);\n\n          promise.then(function () {\n            abortRequest._resolve();\n\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          }, function (reason) {\n            abortRequest._reject(reason);\n\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n          });\n        }\n\n        function WritableStreamFinishInFlightWrite(stream) {\n          assert(stream._inFlightWriteRequest !== undefined);\n\n          stream._inFlightWriteRequest._resolve(undefined);\n\n          stream._inFlightWriteRequest = undefined;\n        }\n\n        function WritableStreamFinishInFlightWriteWithError(stream, error) {\n          assert(stream._inFlightWriteRequest !== undefined);\n\n          stream._inFlightWriteRequest._reject(error);\n\n          stream._inFlightWriteRequest = undefined;\n          assert(stream._state === 'writable' || stream._state === 'erroring');\n          WritableStreamDealWithRejection(stream, error);\n        }\n\n        function WritableStreamFinishInFlightClose(stream) {\n          assert(stream._inFlightCloseRequest !== undefined);\n\n          stream._inFlightCloseRequest._resolve(undefined);\n\n          stream._inFlightCloseRequest = undefined;\n          var state = stream._state;\n          assert(state === 'writable' || state === 'erroring');\n\n          if (state === 'erroring') {\n            stream._storedError = undefined;\n\n            if (stream._pendingAbortRequest !== undefined) {\n              stream._pendingAbortRequest._resolve();\n\n              stream._pendingAbortRequest = undefined;\n            }\n          }\n\n          stream._state = 'closed';\n          var writer = stream._writer;\n\n          if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n          }\n\n          assert(stream._pendingAbortRequest === undefined, 'stream._pendingAbortRequest === undefined');\n          assert(stream._storedError === undefined, 'stream._storedError === undefined');\n        }\n\n        function WritableStreamFinishInFlightCloseWithError(stream, error) {\n          assert(stream._inFlightCloseRequest !== undefined);\n\n          stream._inFlightCloseRequest._reject(error);\n\n          stream._inFlightCloseRequest = undefined;\n          assert(stream._state === 'writable' || stream._state === 'erroring');\n\n          if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n\n            stream._pendingAbortRequest = undefined;\n          }\n\n          WritableStreamDealWithRejection(stream, error);\n        }\n\n        function WritableStreamCloseQueuedOrInFlight(stream) {\n          if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function WritableStreamHasOperationMarkedInFlight(stream) {\n          if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function WritableStreamMarkCloseRequestInFlight(stream) {\n          assert(stream._inFlightCloseRequest === undefined);\n          assert(stream._closeRequest !== undefined);\n          stream._inFlightCloseRequest = stream._closeRequest;\n          stream._closeRequest = undefined;\n        }\n\n        function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n          assert(stream._inFlightWriteRequest === undefined, 'there must be no pending write request');\n          assert(stream._writeRequests.length !== 0, 'writeRequests must not be empty');\n          stream._inFlightWriteRequest = stream._writeRequests.shift();\n        }\n\n        function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n          assert(stream._state === 'errored', '_stream_.[[state]] is `\"errored\"`');\n\n          if (stream._closeRequest !== undefined) {\n            assert(stream._inFlightCloseRequest === undefined);\n\n            stream._closeRequest._reject(stream._storedError);\n\n            stream._closeRequest = undefined;\n          }\n\n          var writer = stream._writer;\n\n          if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n\n            writer._closedPromise.catch(function () {});\n          }\n        }\n\n        function WritableStreamUpdateBackpressure(stream, backpressure) {\n          assert(stream._state === 'writable');\n          assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n          var writer = stream._writer;\n\n          if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure === true) {\n              defaultWriterReadyPromiseReset(writer);\n            } else {\n              assert(backpressure === false);\n              defaultWriterReadyPromiseResolve(writer);\n            }\n          }\n\n          stream._backpressure = backpressure;\n        }\n\n        var WritableStreamDefaultWriter = function () {\n          function WritableStreamDefaultWriter(stream) {\n            _classCallCheck(this, WritableStreamDefaultWriter);\n\n            if (IsWritableStream(stream) === false) {\n              throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');\n            }\n\n            if (IsWritableStreamLocked(stream) === true) {\n              throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            var state = stream._state;\n\n            if (state === 'writable') {\n              if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._backpressure === true) {\n                defaultWriterReadyPromiseInitialize(this);\n              } else {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n              }\n\n              defaultWriterClosedPromiseInitialize(this);\n            } else if (state === 'erroring') {\n              defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n\n              this._readyPromise.catch(function () {});\n\n              defaultWriterClosedPromiseInitialize(this);\n            } else if (state === 'closed') {\n              defaultWriterReadyPromiseInitializeAsResolved(this);\n              defaultWriterClosedPromiseInitializeAsResolved(this);\n            } else {\n              assert(state === 'errored', 'state must be errored');\n              var storedError = stream._storedError;\n              defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n\n              this._readyPromise.catch(function () {});\n\n              defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n\n              this._closedPromise.catch(function () {});\n            }\n          }\n\n          _createClass(WritableStreamDefaultWriter, [{\n            key: 'abort',\n            value: function abort(reason) {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('abort'));\n              }\n\n              if (this._ownerWritableStream === undefined) {\n                return Promise.reject(defaultWriterLockException('abort'));\n              }\n\n              return WritableStreamDefaultWriterAbort(this, reason);\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('close'));\n              }\n\n              var stream = this._ownerWritableStream;\n\n              if (stream === undefined) {\n                return Promise.reject(defaultWriterLockException('close'));\n              }\n\n              if (WritableStreamCloseQueuedOrInFlight(stream) === true) {\n                return Promise.reject(new TypeError('cannot close an already-closing stream'));\n              }\n\n              return WritableStreamDefaultWriterClose(this);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                throw defaultWriterBrandCheckException('releaseLock');\n              }\n\n              var stream = this._ownerWritableStream;\n\n              if (stream === undefined) {\n                return;\n              }\n\n              assert(stream._writer !== undefined);\n              WritableStreamDefaultWriterRelease(this);\n            }\n          }, {\n            key: 'write',\n            value: function write(chunk) {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('write'));\n              }\n\n              if (this._ownerWritableStream === undefined) {\n                return Promise.reject(defaultWriterLockException('write to'));\n              }\n\n              return WritableStreamDefaultWriterWrite(this, chunk);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('closed'));\n              }\n\n              return this._closedPromise;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                throw defaultWriterBrandCheckException('desiredSize');\n              }\n\n              if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n              }\n\n              return WritableStreamDefaultWriterGetDesiredSize(this);\n            }\n          }, {\n            key: 'ready',\n            get: function get() {\n              if (IsWritableStreamDefaultWriter(this) === false) {\n                return Promise.reject(defaultWriterBrandCheckException('ready'));\n              }\n\n              return this._readyPromise;\n            }\n          }]);\n\n          return WritableStreamDefaultWriter;\n        }();\n\n        function IsWritableStreamDefaultWriter(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function WritableStreamDefaultWriterAbort(writer, reason) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          return WritableStreamAbort(stream, reason);\n        }\n\n        function WritableStreamDefaultWriterClose(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var state = stream._state;\n\n          if (state === 'closed' || state === 'errored') {\n            return Promise.reject(new TypeError('The stream (in ' + state + ' state) is not in the writable state and cannot be closed'));\n          }\n\n          assert(state === 'writable' || state === 'erroring');\n          assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n          var promise = new Promise(function (resolve, reject) {\n            var closeRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n          });\n\n          if (stream._backpressure === true && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n          }\n\n          WritableStreamDefaultControllerClose(stream._writableStreamController);\n          return promise;\n        }\n\n        function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var state = stream._state;\n\n          if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n            return Promise.resolve();\n          }\n\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          assert(state === 'writable' || state === 'erroring');\n          return WritableStreamDefaultWriterClose(writer);\n        }\n\n        function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n          if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n          } else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n          }\n\n          writer._closedPromise.catch(function () {});\n        }\n\n        function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n          if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n          } else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n          }\n\n          writer._readyPromise.catch(function () {});\n        }\n\n        function WritableStreamDefaultWriterGetDesiredSize(writer) {\n          var stream = writer._ownerWritableStream;\n          var state = stream._state;\n\n          if (state === 'errored' || state === 'erroring') {\n            return null;\n          }\n\n          if (state === 'closed') {\n            return 0;\n          }\n\n          return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n        }\n\n        function WritableStreamDefaultWriterRelease(writer) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          assert(stream._writer === writer);\n          var releasedError = new TypeError('Writer was released and can no longer be used to monitor the stream\\'s closedness');\n          WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n          WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n          stream._writer = undefined;\n          writer._ownerWritableStream = undefined;\n        }\n\n        function WritableStreamDefaultWriterWrite(writer, chunk) {\n          var stream = writer._ownerWritableStream;\n          assert(stream !== undefined);\n          var controller = stream._writableStreamController;\n          var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n\n          if (stream !== writer._ownerWritableStream) {\n            return Promise.reject(defaultWriterLockException('write to'));\n          }\n\n          var state = stream._state;\n\n          if (state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n            return Promise.reject(new TypeError('The stream is closing or closed and cannot be written to'));\n          }\n\n          if (state === 'erroring') {\n            return Promise.reject(stream._storedError);\n          }\n\n          assert(state === 'writable');\n          var promise = WritableStreamAddWriteRequest(stream);\n          WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n          return promise;\n        }\n\n        var WritableStreamDefaultController = function () {\n          function WritableStreamDefaultController(stream, underlyingSink, size, highWaterMark) {\n            _classCallCheck(this, WritableStreamDefaultController);\n\n            if (IsWritableStream(stream) === false) {\n              throw new TypeError('WritableStreamDefaultController can only be constructed with a WritableStream instance');\n            }\n\n            if (stream._writableStreamController !== undefined) {\n              throw new TypeError('WritableStreamDefaultController instances can only be created by the WritableStream constructor');\n            }\n\n            this._controlledWritableStream = stream;\n            this._underlyingSink = underlyingSink;\n            this._queue = undefined;\n            this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._started = false;\n            var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n            this._strategySize = normalizedStrategy.size;\n            this._strategyHWM = normalizedStrategy.highWaterMark;\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(this);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n          }\n\n          _createClass(WritableStreamDefaultController, [{\n            key: 'error',\n            value: function error(e) {\n              if (IsWritableStreamDefaultController(this) === false) {\n                throw new TypeError('WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');\n              }\n\n              var state = this._controlledWritableStream._state;\n\n              if (state !== 'writable') {\n                return;\n              }\n\n              WritableStreamDefaultControllerError(this, e);\n            }\n          }, {\n            key: '__abortSteps',\n            value: function __abortSteps(reason) {\n              return PromiseInvokeOrNoop(this._underlyingSink, 'abort', [reason]);\n            }\n          }, {\n            key: '__errorSteps',\n            value: function __errorSteps() {\n              ResetQueue(this);\n            }\n          }, {\n            key: '__startSteps',\n            value: function __startSteps() {\n              var _this = this;\n\n              var startResult = InvokeOrNoop(this._underlyingSink, 'start', [this]);\n              var stream = this._controlledWritableStream;\n              Promise.resolve(startResult).then(function () {\n                assert(stream._state === 'writable' || stream._state === 'erroring');\n                _this._started = true;\n                WritableStreamDefaultControllerAdvanceQueueIfNeeded(_this);\n              }, function (r) {\n                assert(stream._state === 'writable' || stream._state === 'erroring');\n                _this._started = true;\n                WritableStreamDealWithRejection(stream, r);\n              }).catch(rethrowAssertionErrorRejection);\n            }\n          }]);\n\n          return WritableStreamDefaultController;\n        }();\n\n        function WritableStreamDefaultControllerClose(controller) {\n          EnqueueValueWithSize(controller, 'close', 0);\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }\n\n        function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n          var strategySize = controller._strategySize;\n\n          if (strategySize === undefined) {\n            return 1;\n          }\n\n          try {\n            return strategySize(chunk);\n          } catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n          }\n        }\n\n        function WritableStreamDefaultControllerGetDesiredSize(controller) {\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n\n        function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n          var writeRecord = {\n            chunk: chunk\n          };\n\n          try {\n            EnqueueValueWithSize(controller, writeRecord, chunkSize);\n          } catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n          }\n\n          var stream = controller._controlledWritableStream;\n\n          if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._state === 'writable') {\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n          }\n\n          WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }\n\n        function IsWritableStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSink')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n          var stream = controller._controlledWritableStream;\n\n          if (controller._started === false) {\n            return;\n          }\n\n          if (stream._inFlightWriteRequest !== undefined) {\n            return;\n          }\n\n          var state = stream._state;\n\n          if (state === 'closed' || state === 'errored') {\n            return;\n          }\n\n          if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n          }\n\n          if (controller._queue.length === 0) {\n            return;\n          }\n\n          var writeRecord = PeekQueueValue(controller);\n\n          if (writeRecord === 'close') {\n            WritableStreamDefaultControllerProcessClose(controller);\n          } else {\n            WritableStreamDefaultControllerProcessWrite(controller, writeRecord.chunk);\n          }\n        }\n\n        function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n          if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n          }\n        }\n\n        function WritableStreamDefaultControllerProcessClose(controller) {\n          var stream = controller._controlledWritableStream;\n          WritableStreamMarkCloseRequestInFlight(stream);\n          DequeueValue(controller);\n          assert(controller._queue.length === 0, 'queue must be empty once the final write record is dequeued');\n          var sinkClosePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'close', []);\n          sinkClosePromise.then(function () {\n            WritableStreamFinishInFlightClose(stream);\n          }, function (reason) {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n          }).catch(rethrowAssertionErrorRejection);\n        }\n\n        function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n          var stream = controller._controlledWritableStream;\n          WritableStreamMarkFirstWriteRequestInFlight(stream);\n          var sinkWritePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'write', [chunk, controller]);\n          sinkWritePromise.then(function () {\n            WritableStreamFinishInFlightWrite(stream);\n            var state = stream._state;\n            assert(state === 'writable' || state === 'erroring');\n            DequeueValue(controller);\n\n            if (WritableStreamCloseQueuedOrInFlight(stream) === false && state === 'writable') {\n              var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n              WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n          }, function (reason) {\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n          }).catch(rethrowAssertionErrorRejection);\n        }\n\n        function WritableStreamDefaultControllerGetBackpressure(controller) {\n          var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n          return desiredSize <= 0;\n        }\n\n        function WritableStreamDefaultControllerError(controller, error) {\n          var stream = controller._controlledWritableStream;\n          assert(stream._state === 'writable');\n          WritableStreamStartErroring(stream, error);\n        }\n\n        function streamBrandCheckException(name) {\n          return new TypeError('WritableStream.prototype.' + name + ' can only be used on a WritableStream');\n        }\n\n        function defaultWriterBrandCheckException(name) {\n          return new TypeError('WritableStreamDefaultWriter.prototype.' + name + ' can only be used on a WritableStreamDefaultWriter');\n        }\n\n        function defaultWriterLockException(name) {\n          return new TypeError('Cannot ' + name + ' a stream using a released writer');\n        }\n\n        function defaultWriterClosedPromiseInitialize(writer) {\n          writer._closedPromise = new Promise(function (resolve, reject) {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n          });\n        }\n\n        function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n          writer._closedPromise = Promise.reject(reason);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'rejected';\n        }\n\n        function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n          writer._closedPromise = Promise.resolve(undefined);\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'resolved';\n        }\n\n        function defaultWriterClosedPromiseReject(writer, reason) {\n          assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n          assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n          assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n          writer._closedPromise_reject(reason);\n\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'rejected';\n        }\n\n        function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n          assert(writer._closedPromise_resolve === undefined, 'writer._closedPromise_resolve === undefined');\n          assert(writer._closedPromise_reject === undefined, 'writer._closedPromise_reject === undefined');\n          assert(writer._closedPromiseState !== 'pending', 'writer._closedPromiseState is not pending');\n          writer._closedPromise = Promise.reject(reason);\n          writer._closedPromiseState = 'rejected';\n        }\n\n        function defaultWriterClosedPromiseResolve(writer) {\n          assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n          assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n          assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n          writer._closedPromise_resolve(undefined);\n\n          writer._closedPromise_resolve = undefined;\n          writer._closedPromise_reject = undefined;\n          writer._closedPromiseState = 'resolved';\n        }\n\n        function defaultWriterReadyPromiseInitialize(writer) {\n          writer._readyPromise = new Promise(function (resolve, reject) {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n          });\n          writer._readyPromiseState = 'pending';\n        }\n\n        function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n          writer._readyPromise = Promise.reject(reason);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'rejected';\n        }\n\n        function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n          writer._readyPromise = Promise.resolve(undefined);\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'fulfilled';\n        }\n\n        function defaultWriterReadyPromiseReject(writer, reason) {\n          assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n          assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n          writer._readyPromise_reject(reason);\n\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'rejected';\n        }\n\n        function defaultWriterReadyPromiseReset(writer) {\n          assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n          assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n          writer._readyPromise = new Promise(function (resolve, reject) {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n          });\n          writer._readyPromiseState = 'pending';\n        }\n\n        function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n          assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n          assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n          writer._readyPromise = Promise.reject(reason);\n          writer._readyPromiseState = 'rejected';\n        }\n\n        function defaultWriterReadyPromiseResolve(writer) {\n          assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n          assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n          writer._readyPromise_resolve(undefined);\n\n          writer._readyPromise_resolve = undefined;\n          writer._readyPromise_reject = undefined;\n          writer._readyPromiseState = 'fulfilled';\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _require = __w_pdfjs_require__(0),\n            IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber;\n\n        var _require2 = __w_pdfjs_require__(1),\n            assert = _require2.assert;\n\n        exports.DequeueValue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          assert(container._queue.length > 0, 'Spec-level failure: should never dequeue from an empty queue.');\n\n          var pair = container._queue.shift();\n\n          container._queueTotalSize -= pair.size;\n\n          if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n          }\n\n          return pair.value;\n        };\n\n        exports.EnqueueValueWithSize = function (container, value, size) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and ' + '[[queueTotalSize]].');\n          size = Number(size);\n\n          if (!IsFiniteNonNegativeNumber(size)) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n          }\n\n          container._queue.push({\n            value: value,\n            size: size\n          });\n\n          container._queueTotalSize += size;\n        };\n\n        exports.PeekQueueValue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          assert(container._queue.length > 0, 'Spec-level failure: should never peek at an empty queue.');\n          var pair = container._queue[0];\n          return pair.value;\n        };\n\n        exports.ResetQueue = function (container) {\n          assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n          container._queue = [];\n          container._queueTotalSize = 0;\n        };\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var _require = __w_pdfjs_require__(0),\n            ArrayBufferCopy = _require.ArrayBufferCopy,\n            CreateIterResultObject = _require.CreateIterResultObject,\n            IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber,\n            InvokeOrNoop = _require.InvokeOrNoop,\n            PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n            TransferArrayBuffer = _require.TransferArrayBuffer,\n            ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n            ValidateAndNormalizeHighWaterMark = _require.ValidateAndNormalizeHighWaterMark;\n\n        var _require2 = __w_pdfjs_require__(0),\n            createArrayFromList = _require2.createArrayFromList,\n            createDataProperty = _require2.createDataProperty,\n            typeIsObject = _require2.typeIsObject;\n\n        var _require3 = __w_pdfjs_require__(1),\n            assert = _require3.assert,\n            rethrowAssertionErrorRejection = _require3.rethrowAssertionErrorRejection;\n\n        var _require4 = __w_pdfjs_require__(3),\n            DequeueValue = _require4.DequeueValue,\n            EnqueueValueWithSize = _require4.EnqueueValueWithSize,\n            ResetQueue = _require4.ResetQueue;\n\n        var _require5 = __w_pdfjs_require__(2),\n            AcquireWritableStreamDefaultWriter = _require5.AcquireWritableStreamDefaultWriter,\n            IsWritableStream = _require5.IsWritableStream,\n            IsWritableStreamLocked = _require5.IsWritableStreamLocked,\n            WritableStreamAbort = _require5.WritableStreamAbort,\n            WritableStreamDefaultWriterCloseWithErrorPropagation = _require5.WritableStreamDefaultWriterCloseWithErrorPropagation,\n            WritableStreamDefaultWriterRelease = _require5.WritableStreamDefaultWriterRelease,\n            WritableStreamDefaultWriterWrite = _require5.WritableStreamDefaultWriterWrite,\n            WritableStreamCloseQueuedOrInFlight = _require5.WritableStreamCloseQueuedOrInFlight;\n\n        var ReadableStream = function () {\n          function ReadableStream() {\n            var underlyingSource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n                size = _ref.size,\n                highWaterMark = _ref.highWaterMark;\n\n            _classCallCheck(this, ReadableStream);\n\n            this._state = 'readable';\n            this._reader = undefined;\n            this._storedError = undefined;\n            this._disturbed = false;\n            this._readableStreamController = undefined;\n            var type = underlyingSource.type;\n            var typeString = String(type);\n\n            if (typeString === 'bytes') {\n              if (highWaterMark === undefined) {\n                highWaterMark = 0;\n              }\n\n              this._readableStreamController = new ReadableByteStreamController(this, underlyingSource, highWaterMark);\n            } else if (type === undefined) {\n              if (highWaterMark === undefined) {\n                highWaterMark = 1;\n              }\n\n              this._readableStreamController = new ReadableStreamDefaultController(this, underlyingSource, size, highWaterMark);\n            } else {\n              throw new RangeError('Invalid type is specified');\n            }\n          }\n\n          _createClass(ReadableStream, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (IsReadableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('cancel'));\n              }\n\n              if (IsReadableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('Cannot cancel a stream that already has a reader'));\n              }\n\n              return ReadableStreamCancel(this, reason);\n            }\n          }, {\n            key: 'getReader',\n            value: function getReader() {\n              var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  mode = _ref2.mode;\n\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('getReader');\n              }\n\n              if (mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n              }\n\n              mode = String(mode);\n\n              if (mode === 'byob') {\n                return AcquireReadableStreamBYOBReader(this);\n              }\n\n              throw new RangeError('Invalid mode is specified');\n            }\n          }, {\n            key: 'pipeThrough',\n            value: function pipeThrough(_ref3, options) {\n              var writable = _ref3.writable,\n                  readable = _ref3.readable;\n              var promise = this.pipeTo(writable, options);\n              ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise);\n              return readable;\n            }\n          }, {\n            key: 'pipeTo',\n            value: function pipeTo(dest) {\n              var _this = this;\n\n              var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n                  preventClose = _ref4.preventClose,\n                  preventAbort = _ref4.preventAbort,\n                  preventCancel = _ref4.preventCancel;\n\n              if (IsReadableStream(this) === false) {\n                return Promise.reject(streamBrandCheckException('pipeTo'));\n              }\n\n              if (IsWritableStream(dest) === false) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo\\'s first argument must be a WritableStream'));\n              }\n\n              preventClose = Boolean(preventClose);\n              preventAbort = Boolean(preventAbort);\n              preventCancel = Boolean(preventCancel);\n\n              if (IsReadableStreamLocked(this) === true) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n              }\n\n              if (IsWritableStreamLocked(dest) === true) {\n                return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n              }\n\n              var reader = AcquireReadableStreamDefaultReader(this);\n              var writer = AcquireWritableStreamDefaultWriter(dest);\n              var shuttingDown = false;\n              var currentWrite = Promise.resolve();\n              return new Promise(function (resolve, reject) {\n                function pipeLoop() {\n                  currentWrite = Promise.resolve();\n\n                  if (shuttingDown === true) {\n                    return Promise.resolve();\n                  }\n\n                  return writer._readyPromise.then(function () {\n                    return ReadableStreamDefaultReaderRead(reader).then(function (_ref5) {\n                      var value = _ref5.value,\n                          done = _ref5.done;\n\n                      if (done === true) {\n                        return;\n                      }\n\n                      currentWrite = WritableStreamDefaultWriterWrite(writer, value).catch(function () {});\n                    });\n                  }).then(pipeLoop);\n                }\n\n                isOrBecomesErrored(_this, reader._closedPromise, function (storedError) {\n                  if (preventAbort === false) {\n                    shutdownWithAction(function () {\n                      return WritableStreamAbort(dest, storedError);\n                    }, true, storedError);\n                  } else {\n                    shutdown(true, storedError);\n                  }\n                });\n                isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n                  if (preventCancel === false) {\n                    shutdownWithAction(function () {\n                      return ReadableStreamCancel(_this, storedError);\n                    }, true, storedError);\n                  } else {\n                    shutdown(true, storedError);\n                  }\n                });\n                isOrBecomesClosed(_this, reader._closedPromise, function () {\n                  if (preventClose === false) {\n                    shutdownWithAction(function () {\n                      return WritableStreamDefaultWriterCloseWithErrorPropagation(writer);\n                    });\n                  } else {\n                    shutdown();\n                  }\n                });\n\n                if (WritableStreamCloseQueuedOrInFlight(dest) === true || dest._state === 'closed') {\n                  var destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n\n                  if (preventCancel === false) {\n                    shutdownWithAction(function () {\n                      return ReadableStreamCancel(_this, destClosed);\n                    }, true, destClosed);\n                  } else {\n                    shutdown(true, destClosed);\n                  }\n                }\n\n                pipeLoop().catch(function (err) {\n                  currentWrite = Promise.resolve();\n                  rethrowAssertionErrorRejection(err);\n                });\n\n                function waitForWritesToFinish() {\n                  var oldCurrentWrite = currentWrite;\n                  return currentWrite.then(function () {\n                    return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined;\n                  });\n                }\n\n                function isOrBecomesErrored(stream, promise, action) {\n                  if (stream._state === 'errored') {\n                    action(stream._storedError);\n                  } else {\n                    promise.catch(action).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n\n                function isOrBecomesClosed(stream, promise, action) {\n                  if (stream._state === 'closed') {\n                    action();\n                  } else {\n                    promise.then(action).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n\n                function shutdownWithAction(action, originalIsError, originalError) {\n                  if (shuttingDown === true) {\n                    return;\n                  }\n\n                  shuttingDown = true;\n\n                  if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n                    waitForWritesToFinish().then(doTheRest);\n                  } else {\n                    doTheRest();\n                  }\n\n                  function doTheRest() {\n                    action().then(function () {\n                      return finalize(originalIsError, originalError);\n                    }, function (newError) {\n                      return finalize(true, newError);\n                    }).catch(rethrowAssertionErrorRejection);\n                  }\n                }\n\n                function shutdown(isError, error) {\n                  if (shuttingDown === true) {\n                    return;\n                  }\n\n                  shuttingDown = true;\n\n                  if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n                    waitForWritesToFinish().then(function () {\n                      return finalize(isError, error);\n                    }).catch(rethrowAssertionErrorRejection);\n                  } else {\n                    finalize(isError, error);\n                  }\n                }\n\n                function finalize(isError, error) {\n                  WritableStreamDefaultWriterRelease(writer);\n                  ReadableStreamReaderGenericRelease(reader);\n\n                  if (isError) {\n                    reject(error);\n                  } else {\n                    resolve(undefined);\n                  }\n                }\n              });\n            }\n          }, {\n            key: 'tee',\n            value: function tee() {\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('tee');\n              }\n\n              var branches = ReadableStreamTee(this, false);\n              return createArrayFromList(branches);\n            }\n          }, {\n            key: 'locked',\n            get: function get() {\n              if (IsReadableStream(this) === false) {\n                throw streamBrandCheckException('locked');\n              }\n\n              return IsReadableStreamLocked(this);\n            }\n          }]);\n\n          return ReadableStream;\n        }();\n\n        module.exports = {\n          ReadableStream: ReadableStream,\n          IsReadableStreamDisturbed: IsReadableStreamDisturbed,\n          ReadableStreamDefaultControllerClose: ReadableStreamDefaultControllerClose,\n          ReadableStreamDefaultControllerEnqueue: ReadableStreamDefaultControllerEnqueue,\n          ReadableStreamDefaultControllerError: ReadableStreamDefaultControllerError,\n          ReadableStreamDefaultControllerGetDesiredSize: ReadableStreamDefaultControllerGetDesiredSize\n        };\n\n        function AcquireReadableStreamBYOBReader(stream) {\n          return new ReadableStreamBYOBReader(stream);\n        }\n\n        function AcquireReadableStreamDefaultReader(stream) {\n          return new ReadableStreamDefaultReader(stream);\n        }\n\n        function IsReadableStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function IsReadableStreamDisturbed(stream) {\n          assert(IsReadableStream(stream) === true, 'IsReadableStreamDisturbed should only be used on known readable streams');\n          return stream._disturbed;\n        }\n\n        function IsReadableStreamLocked(stream) {\n          assert(IsReadableStream(stream) === true, 'IsReadableStreamLocked should only be used on known readable streams');\n\n          if (stream._reader === undefined) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function ReadableStreamTee(stream, cloneForBranch2) {\n          assert(IsReadableStream(stream) === true);\n          assert(typeof cloneForBranch2 === 'boolean');\n          var reader = AcquireReadableStreamDefaultReader(stream);\n          var teeState = {\n            closedOrErrored: false,\n            canceled1: false,\n            canceled2: false,\n            reason1: undefined,\n            reason2: undefined\n          };\n          teeState.promise = new Promise(function (resolve) {\n            teeState._resolve = resolve;\n          });\n          var pull = create_ReadableStreamTeePullFunction();\n          pull._reader = reader;\n          pull._teeState = teeState;\n          pull._cloneForBranch2 = cloneForBranch2;\n          var cancel1 = create_ReadableStreamTeeBranch1CancelFunction();\n          cancel1._stream = stream;\n          cancel1._teeState = teeState;\n          var cancel2 = create_ReadableStreamTeeBranch2CancelFunction();\n          cancel2._stream = stream;\n          cancel2._teeState = teeState;\n          var underlyingSource1 = Object.create(Object.prototype);\n          createDataProperty(underlyingSource1, 'pull', pull);\n          createDataProperty(underlyingSource1, 'cancel', cancel1);\n          var branch1Stream = new ReadableStream(underlyingSource1);\n          var underlyingSource2 = Object.create(Object.prototype);\n          createDataProperty(underlyingSource2, 'pull', pull);\n          createDataProperty(underlyingSource2, 'cancel', cancel2);\n          var branch2Stream = new ReadableStream(underlyingSource2);\n          pull._branch1 = branch1Stream._readableStreamController;\n          pull._branch2 = branch2Stream._readableStreamController;\n\n          reader._closedPromise.catch(function (r) {\n            if (teeState.closedOrErrored === true) {\n              return;\n            }\n\n            ReadableStreamDefaultControllerError(pull._branch1, r);\n            ReadableStreamDefaultControllerError(pull._branch2, r);\n            teeState.closedOrErrored = true;\n          });\n\n          return [branch1Stream, branch2Stream];\n        }\n\n        function create_ReadableStreamTeePullFunction() {\n          function f() {\n            var reader = f._reader,\n                branch1 = f._branch1,\n                branch2 = f._branch2,\n                teeState = f._teeState;\n            return ReadableStreamDefaultReaderRead(reader).then(function (result) {\n              assert(typeIsObject(result));\n              var value = result.value;\n              var done = result.done;\n              assert(typeof done === 'boolean');\n\n              if (done === true && teeState.closedOrErrored === false) {\n                if (teeState.canceled1 === false) {\n                  ReadableStreamDefaultControllerClose(branch1);\n                }\n\n                if (teeState.canceled2 === false) {\n                  ReadableStreamDefaultControllerClose(branch2);\n                }\n\n                teeState.closedOrErrored = true;\n              }\n\n              if (teeState.closedOrErrored === true) {\n                return;\n              }\n\n              var value1 = value;\n              var value2 = value;\n\n              if (teeState.canceled1 === false) {\n                ReadableStreamDefaultControllerEnqueue(branch1, value1);\n              }\n\n              if (teeState.canceled2 === false) {\n                ReadableStreamDefaultControllerEnqueue(branch2, value2);\n              }\n            });\n          }\n\n          return f;\n        }\n\n        function create_ReadableStreamTeeBranch1CancelFunction() {\n          function f(reason) {\n            var stream = f._stream,\n                teeState = f._teeState;\n            teeState.canceled1 = true;\n            teeState.reason1 = reason;\n\n            if (teeState.canceled2 === true) {\n              var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n              var cancelResult = ReadableStreamCancel(stream, compositeReason);\n\n              teeState._resolve(cancelResult);\n            }\n\n            return teeState.promise;\n          }\n\n          return f;\n        }\n\n        function create_ReadableStreamTeeBranch2CancelFunction() {\n          function f(reason) {\n            var stream = f._stream,\n                teeState = f._teeState;\n            teeState.canceled2 = true;\n            teeState.reason2 = reason;\n\n            if (teeState.canceled1 === true) {\n              var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n              var cancelResult = ReadableStreamCancel(stream, compositeReason);\n\n              teeState._resolve(cancelResult);\n            }\n\n            return teeState.promise;\n          }\n\n          return f;\n        }\n\n        function ReadableStreamAddReadIntoRequest(stream) {\n          assert(IsReadableStreamBYOBReader(stream._reader) === true);\n          assert(stream._state === 'readable' || stream._state === 'closed');\n          var promise = new Promise(function (resolve, reject) {\n            var readIntoRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n\n            stream._reader._readIntoRequests.push(readIntoRequest);\n          });\n          return promise;\n        }\n\n        function ReadableStreamAddReadRequest(stream) {\n          assert(IsReadableStreamDefaultReader(stream._reader) === true);\n          assert(stream._state === 'readable');\n          var promise = new Promise(function (resolve, reject) {\n            var readRequest = {\n              _resolve: resolve,\n              _reject: reject\n            };\n\n            stream._reader._readRequests.push(readRequest);\n          });\n          return promise;\n        }\n\n        function ReadableStreamCancel(stream, reason) {\n          stream._disturbed = true;\n\n          if (stream._state === 'closed') {\n            return Promise.resolve(undefined);\n          }\n\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          ReadableStreamClose(stream);\n\n          var sourceCancelPromise = stream._readableStreamController.__cancelSteps(reason);\n\n          return sourceCancelPromise.then(function () {\n            return undefined;\n          });\n        }\n\n        function ReadableStreamClose(stream) {\n          assert(stream._state === 'readable');\n          stream._state = 'closed';\n          var reader = stream._reader;\n\n          if (reader === undefined) {\n            return undefined;\n          }\n\n          if (IsReadableStreamDefaultReader(reader) === true) {\n            for (var i = 0; i < reader._readRequests.length; i++) {\n              var _resolve = reader._readRequests[i]._resolve;\n\n              _resolve(CreateIterResultObject(undefined, true));\n            }\n\n            reader._readRequests = [];\n          }\n\n          defaultReaderClosedPromiseResolve(reader);\n          return undefined;\n        }\n\n        function ReadableStreamError(stream, e) {\n          assert(IsReadableStream(stream) === true, 'stream must be ReadableStream');\n          assert(stream._state === 'readable', 'state must be readable');\n          stream._state = 'errored';\n          stream._storedError = e;\n          var reader = stream._reader;\n\n          if (reader === undefined) {\n            return undefined;\n          }\n\n          if (IsReadableStreamDefaultReader(reader) === true) {\n            for (var i = 0; i < reader._readRequests.length; i++) {\n              var readRequest = reader._readRequests[i];\n\n              readRequest._reject(e);\n            }\n\n            reader._readRequests = [];\n          } else {\n            assert(IsReadableStreamBYOBReader(reader), 'reader must be ReadableStreamBYOBReader');\n\n            for (var _i = 0; _i < reader._readIntoRequests.length; _i++) {\n              var readIntoRequest = reader._readIntoRequests[_i];\n\n              readIntoRequest._reject(e);\n            }\n\n            reader._readIntoRequests = [];\n          }\n\n          defaultReaderClosedPromiseReject(reader, e);\n\n          reader._closedPromise.catch(function () {});\n        }\n\n        function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n          var reader = stream._reader;\n          assert(reader._readIntoRequests.length > 0);\n\n          var readIntoRequest = reader._readIntoRequests.shift();\n\n          readIntoRequest._resolve(CreateIterResultObject(chunk, done));\n        }\n\n        function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n          var reader = stream._reader;\n          assert(reader._readRequests.length > 0);\n\n          var readRequest = reader._readRequests.shift();\n\n          readRequest._resolve(CreateIterResultObject(chunk, done));\n        }\n\n        function ReadableStreamGetNumReadIntoRequests(stream) {\n          return stream._reader._readIntoRequests.length;\n        }\n\n        function ReadableStreamGetNumReadRequests(stream) {\n          return stream._reader._readRequests.length;\n        }\n\n        function ReadableStreamHasBYOBReader(stream) {\n          var reader = stream._reader;\n\n          if (reader === undefined) {\n            return false;\n          }\n\n          if (IsReadableStreamBYOBReader(reader) === false) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function ReadableStreamHasDefaultReader(stream) {\n          var reader = stream._reader;\n\n          if (reader === undefined) {\n            return false;\n          }\n\n          if (IsReadableStreamDefaultReader(reader) === false) {\n            return false;\n          }\n\n          return true;\n        }\n\n        var ReadableStreamDefaultReader = function () {\n          function ReadableStreamDefaultReader(stream) {\n            _classCallCheck(this, ReadableStreamDefaultReader);\n\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');\n            }\n\n            if (IsReadableStreamLocked(stream) === true) {\n              throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = [];\n          }\n\n          _createClass(ReadableStreamDefaultReader, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('cancel'));\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('cancel'));\n              }\n\n              return ReadableStreamReaderGenericCancel(this, reason);\n            }\n          }, {\n            key: 'read',\n            value: function read() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('read'));\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('read from'));\n              }\n\n              return ReadableStreamDefaultReaderRead(this);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                throw defaultReaderBrandCheckException('releaseLock');\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return;\n              }\n\n              if (this._readRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n              }\n\n              ReadableStreamReaderGenericRelease(this);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (IsReadableStreamDefaultReader(this) === false) {\n                return Promise.reject(defaultReaderBrandCheckException('closed'));\n              }\n\n              return this._closedPromise;\n            }\n          }]);\n\n          return ReadableStreamDefaultReader;\n        }();\n\n        var ReadableStreamBYOBReader = function () {\n          function ReadableStreamBYOBReader(stream) {\n            _classCallCheck(this, ReadableStreamBYOBReader);\n\n            if (!IsReadableStream(stream)) {\n              throw new TypeError('ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a ' + 'byte source');\n            }\n\n            if (IsReadableByteStreamController(stream._readableStreamController) === false) {\n              throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' + 'source');\n            }\n\n            if (IsReadableStreamLocked(stream)) {\n              throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = [];\n          }\n\n          _createClass(ReadableStreamBYOBReader, [{\n            key: 'cancel',\n            value: function cancel(reason) {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('cancel'));\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('cancel'));\n              }\n\n              return ReadableStreamReaderGenericCancel(this, reason);\n            }\n          }, {\n            key: 'read',\n            value: function read(view) {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('read'));\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return Promise.reject(readerLockException('read from'));\n              }\n\n              if (!ArrayBuffer.isView(view)) {\n                return Promise.reject(new TypeError('view must be an array buffer view'));\n              }\n\n              if (view.byteLength === 0) {\n                return Promise.reject(new TypeError('view must have non-zero byteLength'));\n              }\n\n              return ReadableStreamBYOBReaderRead(this, view);\n            }\n          }, {\n            key: 'releaseLock',\n            value: function releaseLock() {\n              if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n              }\n\n              if (this._ownerReadableStream === undefined) {\n                return;\n              }\n\n              if (this._readIntoRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n              }\n\n              ReadableStreamReaderGenericRelease(this);\n            }\n          }, {\n            key: 'closed',\n            get: function get() {\n              if (!IsReadableStreamBYOBReader(this)) {\n                return Promise.reject(byobReaderBrandCheckException('closed'));\n              }\n\n              return this._closedPromise;\n            }\n          }]);\n\n          return ReadableStreamBYOBReader;\n        }();\n\n        function IsReadableStreamBYOBReader(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function IsReadableStreamDefaultReader(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function ReadableStreamReaderGenericInitialize(reader, stream) {\n          reader._ownerReadableStream = stream;\n          stream._reader = reader;\n\n          if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n          } else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n          } else {\n            assert(stream._state === 'errored', 'state must be errored');\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n\n            reader._closedPromise.catch(function () {});\n          }\n        }\n\n        function ReadableStreamReaderGenericCancel(reader, reason) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          return ReadableStreamCancel(stream, reason);\n        }\n\n        function ReadableStreamReaderGenericRelease(reader) {\n          assert(reader._ownerReadableStream !== undefined);\n          assert(reader._ownerReadableStream._reader === reader);\n\n          if (reader._ownerReadableStream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n          } else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n          }\n\n          reader._closedPromise.catch(function () {});\n\n          reader._ownerReadableStream._reader = undefined;\n          reader._ownerReadableStream = undefined;\n        }\n\n        function ReadableStreamBYOBReaderRead(reader, view) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          stream._disturbed = true;\n\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          return ReadableByteStreamControllerPullInto(stream._readableStreamController, view);\n        }\n\n        function ReadableStreamDefaultReaderRead(reader) {\n          var stream = reader._ownerReadableStream;\n          assert(stream !== undefined);\n          stream._disturbed = true;\n\n          if (stream._state === 'closed') {\n            return Promise.resolve(CreateIterResultObject(undefined, true));\n          }\n\n          if (stream._state === 'errored') {\n            return Promise.reject(stream._storedError);\n          }\n\n          assert(stream._state === 'readable');\n          return stream._readableStreamController.__pullSteps();\n        }\n\n        var ReadableStreamDefaultController = function () {\n          function ReadableStreamDefaultController(stream, underlyingSource, size, highWaterMark) {\n            _classCallCheck(this, ReadableStreamDefaultController);\n\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableStreamDefaultController can only be constructed with a ReadableStream instance');\n            }\n\n            if (stream._readableStreamController !== undefined) {\n              throw new TypeError('ReadableStreamDefaultController instances can only be created by the ReadableStream constructor');\n            }\n\n            this._controlledReadableStream = stream;\n            this._underlyingSource = underlyingSource;\n            this._queue = undefined;\n            this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._started = false;\n            this._closeRequested = false;\n            this._pullAgain = false;\n            this._pulling = false;\n            var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n            this._strategySize = normalizedStrategy.size;\n            this._strategyHWM = normalizedStrategy.highWaterMark;\n            var controller = this;\n            var startResult = InvokeOrNoop(underlyingSource, 'start', [this]);\n            Promise.resolve(startResult).then(function () {\n              controller._started = true;\n              assert(controller._pulling === false);\n              assert(controller._pullAgain === false);\n              ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }, function (r) {\n              ReadableStreamDefaultControllerErrorIfNeeded(controller, r);\n            }).catch(rethrowAssertionErrorRejection);\n          }\n\n          _createClass(ReadableStreamDefaultController, [{\n            key: 'close',\n            value: function close() {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('close');\n              }\n\n              if (this._closeRequested === true) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n              }\n\n              var state = this._controlledReadableStream._state;\n\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n              }\n\n              ReadableStreamDefaultControllerClose(this);\n            }\n          }, {\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('enqueue');\n              }\n\n              if (this._closeRequested === true) {\n                throw new TypeError('stream is closed or draining');\n              }\n\n              var state = this._controlledReadableStream._state;\n\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n              }\n\n              return ReadableStreamDefaultControllerEnqueue(this, chunk);\n            }\n          }, {\n            key: 'error',\n            value: function error(e) {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('error');\n              }\n\n              var stream = this._controlledReadableStream;\n\n              if (stream._state !== 'readable') {\n                throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n              }\n\n              ReadableStreamDefaultControllerError(this, e);\n            }\n          }, {\n            key: '__cancelSteps',\n            value: function __cancelSteps(reason) {\n              ResetQueue(this);\n              return PromiseInvokeOrNoop(this._underlyingSource, 'cancel', [reason]);\n            }\n          }, {\n            key: '__pullSteps',\n            value: function __pullSteps() {\n              var stream = this._controlledReadableStream;\n\n              if (this._queue.length > 0) {\n                var chunk = DequeueValue(this);\n\n                if (this._closeRequested === true && this._queue.length === 0) {\n                  ReadableStreamClose(stream);\n                } else {\n                  ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n\n                return Promise.resolve(CreateIterResultObject(chunk, false));\n              }\n\n              var pendingPromise = ReadableStreamAddReadRequest(stream);\n              ReadableStreamDefaultControllerCallPullIfNeeded(this);\n              return pendingPromise;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsReadableStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('desiredSize');\n              }\n\n              return ReadableStreamDefaultControllerGetDesiredSize(this);\n            }\n          }]);\n\n          return ReadableStreamDefaultController;\n        }();\n\n        function IsReadableStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSource')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n          var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n\n          if (shouldPull === false) {\n            return undefined;\n          }\n\n          if (controller._pulling === true) {\n            controller._pullAgain = true;\n            return undefined;\n          }\n\n          assert(controller._pullAgain === false);\n          controller._pulling = true;\n          var pullPromise = PromiseInvokeOrNoop(controller._underlyingSource, 'pull', [controller]);\n          pullPromise.then(function () {\n            controller._pulling = false;\n\n            if (controller._pullAgain === true) {\n              controller._pullAgain = false;\n              return ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n\n            return undefined;\n          }, function (e) {\n            ReadableStreamDefaultControllerErrorIfNeeded(controller, e);\n          }).catch(rethrowAssertionErrorRejection);\n          return undefined;\n        }\n\n        function ReadableStreamDefaultControllerShouldCallPull(controller) {\n          var stream = controller._controlledReadableStream;\n\n          if (stream._state === 'closed' || stream._state === 'errored') {\n            return false;\n          }\n\n          if (controller._closeRequested === true) {\n            return false;\n          }\n\n          if (controller._started === false) {\n            return false;\n          }\n\n          if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n          }\n\n          var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n\n          if (desiredSize > 0) {\n            return true;\n          }\n\n          return false;\n        }\n\n        function ReadableStreamDefaultControllerClose(controller) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          controller._closeRequested = true;\n\n          if (controller._queue.length === 0) {\n            ReadableStreamClose(stream);\n          }\n        }\n\n        function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n\n          if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n          } else {\n            var chunkSize = 1;\n\n            if (controller._strategySize !== undefined) {\n              var strategySize = controller._strategySize;\n\n              try {\n                chunkSize = strategySize(chunk);\n              } catch (chunkSizeE) {\n                ReadableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n                throw chunkSizeE;\n              }\n            }\n\n            try {\n              EnqueueValueWithSize(controller, chunk, chunkSize);\n            } catch (enqueueE) {\n              ReadableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n              throw enqueueE;\n            }\n          }\n\n          ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n          return undefined;\n        }\n\n        function ReadableStreamDefaultControllerError(controller, e) {\n          var stream = controller._controlledReadableStream;\n          assert(stream._state === 'readable');\n          ResetQueue(controller);\n          ReadableStreamError(stream, e);\n        }\n\n        function ReadableStreamDefaultControllerErrorIfNeeded(controller, e) {\n          if (controller._controlledReadableStream._state === 'readable') {\n            ReadableStreamDefaultControllerError(controller, e);\n          }\n        }\n\n        function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n          var stream = controller._controlledReadableStream;\n          var state = stream._state;\n\n          if (state === 'errored') {\n            return null;\n          }\n\n          if (state === 'closed') {\n            return 0;\n          }\n\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n\n        var ReadableStreamBYOBRequest = function () {\n          function ReadableStreamBYOBRequest(controller, view) {\n            _classCallCheck(this, ReadableStreamBYOBRequest);\n\n            this._associatedReadableByteStreamController = controller;\n            this._view = view;\n          }\n\n          _createClass(ReadableStreamBYOBRequest, [{\n            key: 'respond',\n            value: function respond(bytesWritten) {\n              if (IsReadableStreamBYOBRequest(this) === false) {\n                throw byobRequestBrandCheckException('respond');\n              }\n\n              if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n              }\n\n              ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n            }\n          }, {\n            key: 'respondWithNewView',\n            value: function respondWithNewView(view) {\n              if (IsReadableStreamBYOBRequest(this) === false) {\n                throw byobRequestBrandCheckException('respond');\n              }\n\n              if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n              }\n\n              if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n              }\n\n              ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n            }\n          }, {\n            key: 'view',\n            get: function get() {\n              return this._view;\n            }\n          }]);\n\n          return ReadableStreamBYOBRequest;\n        }();\n\n        var ReadableByteStreamController = function () {\n          function ReadableByteStreamController(stream, underlyingByteSource, highWaterMark) {\n            _classCallCheck(this, ReadableByteStreamController);\n\n            if (IsReadableStream(stream) === false) {\n              throw new TypeError('ReadableByteStreamController can only be constructed with a ReadableStream instance given ' + 'a byte source');\n            }\n\n            if (stream._readableStreamController !== undefined) {\n              throw new TypeError('ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte ' + 'source');\n            }\n\n            this._controlledReadableStream = stream;\n            this._underlyingByteSource = underlyingByteSource;\n            this._pullAgain = false;\n            this._pulling = false;\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            this._queue = this._queueTotalSize = undefined;\n            ResetQueue(this);\n            this._closeRequested = false;\n            this._started = false;\n            this._strategyHWM = ValidateAndNormalizeHighWaterMark(highWaterMark);\n            var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n\n            if (autoAllocateChunkSize !== undefined) {\n              if (Number.isInteger(autoAllocateChunkSize) === false || autoAllocateChunkSize <= 0) {\n                throw new RangeError('autoAllocateChunkSize must be a positive integer');\n              }\n            }\n\n            this._autoAllocateChunkSize = autoAllocateChunkSize;\n            this._pendingPullIntos = [];\n            var controller = this;\n            var startResult = InvokeOrNoop(underlyingByteSource, 'start', [this]);\n            Promise.resolve(startResult).then(function () {\n              controller._started = true;\n              assert(controller._pulling === false);\n              assert(controller._pullAgain === false);\n              ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }, function (r) {\n              if (stream._state === 'readable') {\n                ReadableByteStreamControllerError(controller, r);\n              }\n            }).catch(rethrowAssertionErrorRejection);\n          }\n\n          _createClass(ReadableByteStreamController, [{\n            key: 'close',\n            value: function close() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('close');\n              }\n\n              if (this._closeRequested === true) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n              }\n\n              var state = this._controlledReadableStream._state;\n\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n              }\n\n              ReadableByteStreamControllerClose(this);\n            }\n          }, {\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n              }\n\n              if (this._closeRequested === true) {\n                throw new TypeError('stream is closed or draining');\n              }\n\n              var state = this._controlledReadableStream._state;\n\n              if (state !== 'readable') {\n                throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n              }\n\n              if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');\n              }\n\n              ReadableByteStreamControllerEnqueue(this, chunk);\n            }\n          }, {\n            key: 'error',\n            value: function error(e) {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('error');\n              }\n\n              var stream = this._controlledReadableStream;\n\n              if (stream._state !== 'readable') {\n                throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n              }\n\n              ReadableByteStreamControllerError(this, e);\n            }\n          }, {\n            key: '__cancelSteps',\n            value: function __cancelSteps(reason) {\n              if (this._pendingPullIntos.length > 0) {\n                var firstDescriptor = this._pendingPullIntos[0];\n                firstDescriptor.bytesFilled = 0;\n              }\n\n              ResetQueue(this);\n              return PromiseInvokeOrNoop(this._underlyingByteSource, 'cancel', [reason]);\n            }\n          }, {\n            key: '__pullSteps',\n            value: function __pullSteps() {\n              var stream = this._controlledReadableStream;\n              assert(ReadableStreamHasDefaultReader(stream) === true);\n\n              if (this._queueTotalSize > 0) {\n                assert(ReadableStreamGetNumReadRequests(stream) === 0);\n\n                var entry = this._queue.shift();\n\n                this._queueTotalSize -= entry.byteLength;\n                ReadableByteStreamControllerHandleQueueDrain(this);\n                var view = void 0;\n\n                try {\n                  view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n                } catch (viewE) {\n                  return Promise.reject(viewE);\n                }\n\n                return Promise.resolve(CreateIterResultObject(view, false));\n              }\n\n              var autoAllocateChunkSize = this._autoAllocateChunkSize;\n\n              if (autoAllocateChunkSize !== undefined) {\n                var buffer = void 0;\n\n                try {\n                  buffer = new ArrayBuffer(autoAllocateChunkSize);\n                } catch (bufferE) {\n                  return Promise.reject(bufferE);\n                }\n\n                var pullIntoDescriptor = {\n                  buffer: buffer,\n                  byteOffset: 0,\n                  byteLength: autoAllocateChunkSize,\n                  bytesFilled: 0,\n                  elementSize: 1,\n                  ctor: Uint8Array,\n                  readerType: 'default'\n                };\n\n                this._pendingPullIntos.push(pullIntoDescriptor);\n              }\n\n              var promise = ReadableStreamAddReadRequest(stream);\n              ReadableByteStreamControllerCallPullIfNeeded(this);\n              return promise;\n            }\n          }, {\n            key: 'byobRequest',\n            get: function get() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n              }\n\n              if (this._byobRequest === undefined && this._pendingPullIntos.length > 0) {\n                var firstDescriptor = this._pendingPullIntos[0];\n                var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n                this._byobRequest = new ReadableStreamBYOBRequest(this, view);\n              }\n\n              return this._byobRequest;\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsReadableByteStreamController(this) === false) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n              }\n\n              return ReadableByteStreamControllerGetDesiredSize(this);\n            }\n          }]);\n\n          return ReadableByteStreamController;\n        }();\n\n        function IsReadableByteStreamController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_underlyingByteSource')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function IsReadableStreamBYOBRequest(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n          var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n\n          if (shouldPull === false) {\n            return undefined;\n          }\n\n          if (controller._pulling === true) {\n            controller._pullAgain = true;\n            return undefined;\n          }\n\n          assert(controller._pullAgain === false);\n          controller._pulling = true;\n          var pullPromise = PromiseInvokeOrNoop(controller._underlyingByteSource, 'pull', [controller]);\n          pullPromise.then(function () {\n            controller._pulling = false;\n\n            if (controller._pullAgain === true) {\n              controller._pullAgain = false;\n              ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n          }, function (e) {\n            if (controller._controlledReadableStream._state === 'readable') {\n              ReadableByteStreamControllerError(controller, e);\n            }\n          }).catch(rethrowAssertionErrorRejection);\n          return undefined;\n        }\n\n        function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          controller._pendingPullIntos = [];\n        }\n\n        function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n          assert(stream._state !== 'errored', 'state must not be errored');\n          var done = false;\n\n          if (stream._state === 'closed') {\n            assert(pullIntoDescriptor.bytesFilled === 0);\n            done = true;\n          }\n\n          var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n\n          if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n          } else {\n            assert(pullIntoDescriptor.readerType === 'byob');\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n          }\n        }\n\n        function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n          var bytesFilled = pullIntoDescriptor.bytesFilled;\n          var elementSize = pullIntoDescriptor.elementSize;\n          assert(bytesFilled <= pullIntoDescriptor.byteLength);\n          assert(bytesFilled % elementSize === 0);\n          return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n        }\n\n        function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n          controller._queue.push({\n            buffer: buffer,\n            byteOffset: byteOffset,\n            byteLength: byteLength\n          });\n\n          controller._queueTotalSize += byteLength;\n        }\n\n        function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n          var elementSize = pullIntoDescriptor.elementSize;\n          var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n          var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n          var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n          var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n          var totalBytesToCopyRemaining = maxBytesToCopy;\n          var ready = false;\n\n          if (maxAlignedBytes > currentAlignedBytes) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n          }\n\n          var queue = controller._queue;\n\n          while (totalBytesToCopyRemaining > 0) {\n            var headOfQueue = queue[0];\n            var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            ArrayBufferCopy(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n\n            if (headOfQueue.byteLength === bytesToCopy) {\n              queue.shift();\n            } else {\n              headOfQueue.byteOffset += bytesToCopy;\n              headOfQueue.byteLength -= bytesToCopy;\n            }\n\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n          }\n\n          if (ready === false) {\n            assert(controller._queueTotalSize === 0, 'queue must be empty');\n            assert(pullIntoDescriptor.bytesFilled > 0);\n            assert(pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize);\n          }\n\n          return ready;\n        }\n\n        function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n          assert(controller._pendingPullIntos.length === 0 || controller._pendingPullIntos[0] === pullIntoDescriptor);\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          pullIntoDescriptor.bytesFilled += size;\n        }\n\n        function ReadableByteStreamControllerHandleQueueDrain(controller) {\n          assert(controller._controlledReadableStream._state === 'readable');\n\n          if (controller._queueTotalSize === 0 && controller._closeRequested === true) {\n            ReadableStreamClose(controller._controlledReadableStream);\n          } else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n          }\n        }\n\n        function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n          if (controller._byobRequest === undefined) {\n            return;\n          }\n\n          controller._byobRequest._associatedReadableByteStreamController = undefined;\n          controller._byobRequest._view = undefined;\n          controller._byobRequest = undefined;\n        }\n\n        function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n          assert(controller._closeRequested === false);\n\n          while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n              return;\n            }\n\n            var pullIntoDescriptor = controller._pendingPullIntos[0];\n\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n              ReadableByteStreamControllerShiftPendingPullInto(controller);\n              ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n            }\n          }\n        }\n\n        function ReadableByteStreamControllerPullInto(controller, view) {\n          var stream = controller._controlledReadableStream;\n          var elementSize = 1;\n\n          if (view.constructor !== DataView) {\n            elementSize = view.constructor.BYTES_PER_ELEMENT;\n          }\n\n          var ctor = view.constructor;\n          var pullIntoDescriptor = {\n            buffer: view.buffer,\n            byteOffset: view.byteOffset,\n            byteLength: view.byteLength,\n            bytesFilled: 0,\n            elementSize: elementSize,\n            ctor: ctor,\n            readerType: 'byob'\n          };\n\n          if (controller._pendingPullIntos.length > 0) {\n            pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n\n            return ReadableStreamAddReadIntoRequest(stream);\n          }\n\n          if (stream._state === 'closed') {\n            var emptyView = new view.constructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            return Promise.resolve(CreateIterResultObject(emptyView, true));\n          }\n\n          if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n              var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n              ReadableByteStreamControllerHandleQueueDrain(controller);\n              return Promise.resolve(CreateIterResultObject(filledView, false));\n            }\n\n            if (controller._closeRequested === true) {\n              var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n              ReadableByteStreamControllerError(controller, e);\n              return Promise.reject(e);\n            }\n          }\n\n          pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n\n          controller._pendingPullIntos.push(pullIntoDescriptor);\n\n          var promise = ReadableStreamAddReadIntoRequest(stream);\n          ReadableByteStreamControllerCallPullIfNeeded(controller);\n          return promise;\n        }\n\n        function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n          firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n          assert(firstDescriptor.bytesFilled === 0, 'bytesFilled must be 0');\n          var stream = controller._controlledReadableStream;\n\n          if (ReadableStreamHasBYOBReader(stream) === true) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n              var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n              ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n          }\n        }\n\n        function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n          if (pullIntoDescriptor.bytesFilled + bytesWritten > pullIntoDescriptor.byteLength) {\n            throw new RangeError('bytesWritten out of range');\n          }\n\n          ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n\n          if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n            return;\n          }\n\n          ReadableByteStreamControllerShiftPendingPullInto(controller);\n          var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n\n          if (remainderSize > 0) {\n            var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            var remainder = pullIntoDescriptor.buffer.slice(end - remainderSize, end);\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n          }\n\n          pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n          pullIntoDescriptor.bytesFilled -= remainderSize;\n          ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n          ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n\n        function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n          var firstDescriptor = controller._pendingPullIntos[0];\n          var stream = controller._controlledReadableStream;\n\n          if (stream._state === 'closed') {\n            if (bytesWritten !== 0) {\n              throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n\n            ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n          } else {\n            assert(stream._state === 'readable');\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n          }\n        }\n\n        function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n          var descriptor = controller._pendingPullIntos.shift();\n\n          ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n          return descriptor;\n        }\n\n        function ReadableByteStreamControllerShouldCallPull(controller) {\n          var stream = controller._controlledReadableStream;\n\n          if (stream._state !== 'readable') {\n            return false;\n          }\n\n          if (controller._closeRequested === true) {\n            return false;\n          }\n\n          if (controller._started === false) {\n            return false;\n          }\n\n          if (ReadableStreamHasDefaultReader(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n          }\n\n          if (ReadableStreamHasBYOBReader(stream) === true && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n          }\n\n          if (ReadableByteStreamControllerGetDesiredSize(controller) > 0) {\n            return true;\n          }\n\n          return false;\n        }\n\n        function ReadableByteStreamControllerClose(controller) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n\n          if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n          }\n\n          if (controller._pendingPullIntos.length > 0) {\n            var firstPendingPullInto = controller._pendingPullIntos[0];\n\n            if (firstPendingPullInto.bytesFilled > 0) {\n              var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n              ReadableByteStreamControllerError(controller, e);\n              throw e;\n            }\n          }\n\n          ReadableStreamClose(stream);\n        }\n\n        function ReadableByteStreamControllerEnqueue(controller, chunk) {\n          var stream = controller._controlledReadableStream;\n          assert(controller._closeRequested === false);\n          assert(stream._state === 'readable');\n          var buffer = chunk.buffer;\n          var byteOffset = chunk.byteOffset;\n          var byteLength = chunk.byteLength;\n          var transferredBuffer = TransferArrayBuffer(buffer);\n\n          if (ReadableStreamHasDefaultReader(stream) === true) {\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n              ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            } else {\n              assert(controller._queue.length === 0);\n              var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n              ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n          } else if (ReadableStreamHasBYOBReader(stream) === true) {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n          } else {\n            assert(IsReadableStreamLocked(stream) === false, 'stream must not be locked');\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n          }\n        }\n\n        function ReadableByteStreamControllerError(controller, e) {\n          var stream = controller._controlledReadableStream;\n          assert(stream._state === 'readable');\n          ReadableByteStreamControllerClearPendingPullIntos(controller);\n          ResetQueue(controller);\n          ReadableStreamError(stream, e);\n        }\n\n        function ReadableByteStreamControllerGetDesiredSize(controller) {\n          var stream = controller._controlledReadableStream;\n          var state = stream._state;\n\n          if (state === 'errored') {\n            return null;\n          }\n\n          if (state === 'closed') {\n            return 0;\n          }\n\n          return controller._strategyHWM - controller._queueTotalSize;\n        }\n\n        function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n          bytesWritten = Number(bytesWritten);\n\n          if (IsFiniteNonNegativeNumber(bytesWritten) === false) {\n            throw new RangeError('bytesWritten must be a finite');\n          }\n\n          assert(controller._pendingPullIntos.length > 0);\n          ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n        }\n\n        function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n          assert(controller._pendingPullIntos.length > 0);\n          var firstDescriptor = controller._pendingPullIntos[0];\n\n          if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n          }\n\n          if (firstDescriptor.byteLength !== view.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n          }\n\n          firstDescriptor.buffer = view.buffer;\n          ReadableByteStreamControllerRespondInternal(controller, view.byteLength);\n        }\n\n        function streamBrandCheckException(name) {\n          return new TypeError('ReadableStream.prototype.' + name + ' can only be used on a ReadableStream');\n        }\n\n        function readerLockException(name) {\n          return new TypeError('Cannot ' + name + ' a stream using a released reader');\n        }\n\n        function defaultReaderBrandCheckException(name) {\n          return new TypeError('ReadableStreamDefaultReader.prototype.' + name + ' can only be used on a ReadableStreamDefaultReader');\n        }\n\n        function defaultReaderClosedPromiseInitialize(reader) {\n          reader._closedPromise = new Promise(function (resolve, reject) {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n          });\n        }\n\n        function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n          reader._closedPromise = Promise.reject(reason);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n\n        function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n          reader._closedPromise = Promise.resolve(undefined);\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n\n        function defaultReaderClosedPromiseReject(reader, reason) {\n          assert(reader._closedPromise_resolve !== undefined);\n          assert(reader._closedPromise_reject !== undefined);\n\n          reader._closedPromise_reject(reason);\n\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n\n        function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n          assert(reader._closedPromise_resolve === undefined);\n          assert(reader._closedPromise_reject === undefined);\n          reader._closedPromise = Promise.reject(reason);\n        }\n\n        function defaultReaderClosedPromiseResolve(reader) {\n          assert(reader._closedPromise_resolve !== undefined);\n          assert(reader._closedPromise_reject !== undefined);\n\n          reader._closedPromise_resolve(undefined);\n\n          reader._closedPromise_resolve = undefined;\n          reader._closedPromise_reject = undefined;\n        }\n\n        function byobReaderBrandCheckException(name) {\n          return new TypeError('ReadableStreamBYOBReader.prototype.' + name + ' can only be used on a ReadableStreamBYOBReader');\n        }\n\n        function defaultControllerBrandCheckException(name) {\n          return new TypeError('ReadableStreamDefaultController.prototype.' + name + ' can only be used on a ReadableStreamDefaultController');\n        }\n\n        function byobRequestBrandCheckException(name) {\n          return new TypeError('ReadableStreamBYOBRequest.prototype.' + name + ' can only be used on a ReadableStreamBYOBRequest');\n        }\n\n        function byteStreamControllerBrandCheckException(name) {\n          return new TypeError('ReadableByteStreamController.prototype.' + name + ' can only be used on a ReadableByteStreamController');\n        }\n\n        function ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise) {\n          try {\n            Promise.prototype.then.call(promise, undefined, function () {});\n          } catch (e) {}\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var transformStream = __w_pdfjs_require__(6);\n\n        var readableStream = __w_pdfjs_require__(4);\n\n        var writableStream = __w_pdfjs_require__(2);\n\n        exports.TransformStream = transformStream.TransformStream;\n        exports.ReadableStream = readableStream.ReadableStream;\n        exports.IsReadableStreamDisturbed = readableStream.IsReadableStreamDisturbed;\n        exports.ReadableStreamDefaultControllerClose = readableStream.ReadableStreamDefaultControllerClose;\n        exports.ReadableStreamDefaultControllerEnqueue = readableStream.ReadableStreamDefaultControllerEnqueue;\n        exports.ReadableStreamDefaultControllerError = readableStream.ReadableStreamDefaultControllerError;\n        exports.ReadableStreamDefaultControllerGetDesiredSize = readableStream.ReadableStreamDefaultControllerGetDesiredSize;\n        exports.AcquireWritableStreamDefaultWriter = writableStream.AcquireWritableStreamDefaultWriter;\n        exports.IsWritableStream = writableStream.IsWritableStream;\n        exports.IsWritableStreamLocked = writableStream.IsWritableStreamLocked;\n        exports.WritableStream = writableStream.WritableStream;\n        exports.WritableStreamAbort = writableStream.WritableStreamAbort;\n        exports.WritableStreamDefaultControllerError = writableStream.WritableStreamDefaultControllerError;\n        exports.WritableStreamDefaultWriterCloseWithErrorPropagation = writableStream.WritableStreamDefaultWriterCloseWithErrorPropagation;\n        exports.WritableStreamDefaultWriterRelease = writableStream.WritableStreamDefaultWriterRelease;\n        exports.WritableStreamDefaultWriterWrite = writableStream.WritableStreamDefaultWriterWrite;\n      }, function (module, exports, __w_pdfjs_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var _require = __w_pdfjs_require__(1),\n            assert = _require.assert;\n\n        var _require2 = __w_pdfjs_require__(0),\n            InvokeOrNoop = _require2.InvokeOrNoop,\n            PromiseInvokeOrPerformFallback = _require2.PromiseInvokeOrPerformFallback,\n            PromiseInvokeOrNoop = _require2.PromiseInvokeOrNoop,\n            typeIsObject = _require2.typeIsObject;\n\n        var _require3 = __w_pdfjs_require__(4),\n            ReadableStream = _require3.ReadableStream,\n            ReadableStreamDefaultControllerClose = _require3.ReadableStreamDefaultControllerClose,\n            ReadableStreamDefaultControllerEnqueue = _require3.ReadableStreamDefaultControllerEnqueue,\n            ReadableStreamDefaultControllerError = _require3.ReadableStreamDefaultControllerError,\n            ReadableStreamDefaultControllerGetDesiredSize = _require3.ReadableStreamDefaultControllerGetDesiredSize;\n\n        var _require4 = __w_pdfjs_require__(2),\n            WritableStream = _require4.WritableStream,\n            WritableStreamDefaultControllerError = _require4.WritableStreamDefaultControllerError;\n\n        function TransformStreamCloseReadable(transformStream) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n\n          if (transformStream._readableClosed === true) {\n            throw new TypeError('Readable side is already closed');\n          }\n\n          TransformStreamCloseReadableInternal(transformStream);\n        }\n\n        function TransformStreamEnqueueToReadable(transformStream, chunk) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n\n          if (transformStream._readableClosed === true) {\n            throw new TypeError('Readable side is already closed');\n          }\n\n          var controller = transformStream._readableController;\n\n          try {\n            ReadableStreamDefaultControllerEnqueue(controller, chunk);\n          } catch (e) {\n            transformStream._readableClosed = true;\n            TransformStreamErrorIfNeeded(transformStream, e);\n            throw transformStream._storedError;\n          }\n\n          var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n          var maybeBackpressure = desiredSize <= 0;\n\n          if (maybeBackpressure === true && transformStream._backpressure === false) {\n            TransformStreamSetBackpressure(transformStream, true);\n          }\n        }\n\n        function TransformStreamError(transformStream, e) {\n          if (transformStream._errored === true) {\n            throw new TypeError('TransformStream is already errored');\n          }\n\n          TransformStreamErrorInternal(transformStream, e);\n        }\n\n        function TransformStreamCloseReadableInternal(transformStream) {\n          assert(transformStream._errored === false);\n          assert(transformStream._readableClosed === false);\n\n          try {\n            ReadableStreamDefaultControllerClose(transformStream._readableController);\n          } catch (e) {\n            assert(false);\n          }\n\n          transformStream._readableClosed = true;\n        }\n\n        function TransformStreamErrorIfNeeded(transformStream, e) {\n          if (transformStream._errored === false) {\n            TransformStreamErrorInternal(transformStream, e);\n          }\n        }\n\n        function TransformStreamErrorInternal(transformStream, e) {\n          assert(transformStream._errored === false);\n          transformStream._errored = true;\n          transformStream._storedError = e;\n\n          if (transformStream._writableDone === false) {\n            WritableStreamDefaultControllerError(transformStream._writableController, e);\n          }\n\n          if (transformStream._readableClosed === false) {\n            ReadableStreamDefaultControllerError(transformStream._readableController, e);\n          }\n        }\n\n        function TransformStreamReadableReadyPromise(transformStream) {\n          assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n          if (transformStream._backpressure === false) {\n            return Promise.resolve();\n          }\n\n          assert(transformStream._backpressure === true, '_backpressure should have been initialized');\n          return transformStream._backpressureChangePromise;\n        }\n\n        function TransformStreamSetBackpressure(transformStream, backpressure) {\n          assert(transformStream._backpressure !== backpressure, 'TransformStreamSetBackpressure() should be called only when backpressure is changed');\n\n          if (transformStream._backpressureChangePromise !== undefined) {\n            transformStream._backpressureChangePromise_resolve(backpressure);\n          }\n\n          transformStream._backpressureChangePromise = new Promise(function (resolve) {\n            transformStream._backpressureChangePromise_resolve = resolve;\n          });\n\n          transformStream._backpressureChangePromise.then(function (resolution) {\n            assert(resolution !== backpressure, '_backpressureChangePromise should be fulfilled only when backpressure is changed');\n          });\n\n          transformStream._backpressure = backpressure;\n        }\n\n        function TransformStreamDefaultTransform(chunk, transformStreamController) {\n          var transformStream = transformStreamController._controlledTransformStream;\n          TransformStreamEnqueueToReadable(transformStream, chunk);\n          return Promise.resolve();\n        }\n\n        function TransformStreamTransform(transformStream, chunk) {\n          assert(transformStream._errored === false);\n          assert(transformStream._transforming === false);\n          assert(transformStream._backpressure === false);\n          transformStream._transforming = true;\n          var transformer = transformStream._transformer;\n          var controller = transformStream._transformStreamController;\n          var transformPromise = PromiseInvokeOrPerformFallback(transformer, 'transform', [chunk, controller], TransformStreamDefaultTransform, [chunk, controller]);\n          return transformPromise.then(function () {\n            transformStream._transforming = false;\n            return TransformStreamReadableReadyPromise(transformStream);\n          }, function (e) {\n            TransformStreamErrorIfNeeded(transformStream, e);\n            return Promise.reject(e);\n          });\n        }\n\n        function IsTransformStreamDefaultController(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        function IsTransformStream(x) {\n          if (!typeIsObject(x)) {\n            return false;\n          }\n\n          if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n          }\n\n          return true;\n        }\n\n        var TransformStreamSink = function () {\n          function TransformStreamSink(transformStream, startPromise) {\n            _classCallCheck(this, TransformStreamSink);\n\n            this._transformStream = transformStream;\n            this._startPromise = startPromise;\n          }\n\n          _createClass(TransformStreamSink, [{\n            key: 'start',\n            value: function start(c) {\n              var transformStream = this._transformStream;\n              transformStream._writableController = c;\n              return this._startPromise.then(function () {\n                return TransformStreamReadableReadyPromise(transformStream);\n              });\n            }\n          }, {\n            key: 'write',\n            value: function write(chunk) {\n              var transformStream = this._transformStream;\n              return TransformStreamTransform(transformStream, chunk);\n            }\n          }, {\n            key: 'abort',\n            value: function abort() {\n              var transformStream = this._transformStream;\n              transformStream._writableDone = true;\n              TransformStreamErrorInternal(transformStream, new TypeError('Writable side aborted'));\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              var transformStream = this._transformStream;\n              assert(transformStream._transforming === false);\n              transformStream._writableDone = true;\n              var flushPromise = PromiseInvokeOrNoop(transformStream._transformer, 'flush', [transformStream._transformStreamController]);\n              return flushPromise.then(function () {\n                if (transformStream._errored === true) {\n                  return Promise.reject(transformStream._storedError);\n                }\n\n                if (transformStream._readableClosed === false) {\n                  TransformStreamCloseReadableInternal(transformStream);\n                }\n\n                return Promise.resolve();\n              }).catch(function (r) {\n                TransformStreamErrorIfNeeded(transformStream, r);\n                return Promise.reject(transformStream._storedError);\n              });\n            }\n          }]);\n\n          return TransformStreamSink;\n        }();\n\n        var TransformStreamSource = function () {\n          function TransformStreamSource(transformStream, startPromise) {\n            _classCallCheck(this, TransformStreamSource);\n\n            this._transformStream = transformStream;\n            this._startPromise = startPromise;\n          }\n\n          _createClass(TransformStreamSource, [{\n            key: 'start',\n            value: function start(c) {\n              var transformStream = this._transformStream;\n              transformStream._readableController = c;\n              return this._startPromise.then(function () {\n                assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n                if (transformStream._backpressure === true) {\n                  return Promise.resolve();\n                }\n\n                assert(transformStream._backpressure === false, '_backpressure should have been initialized');\n                return transformStream._backpressureChangePromise;\n              });\n            }\n          }, {\n            key: 'pull',\n            value: function pull() {\n              var transformStream = this._transformStream;\n              assert(transformStream._backpressure === true, 'pull() should be never called while _backpressure is false');\n              assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n              TransformStreamSetBackpressure(transformStream, false);\n              return transformStream._backpressureChangePromise;\n            }\n          }, {\n            key: 'cancel',\n            value: function cancel() {\n              var transformStream = this._transformStream;\n              transformStream._readableClosed = true;\n              TransformStreamErrorInternal(transformStream, new TypeError('Readable side canceled'));\n            }\n          }]);\n\n          return TransformStreamSource;\n        }();\n\n        var TransformStreamDefaultController = function () {\n          function TransformStreamDefaultController(transformStream) {\n            _classCallCheck(this, TransformStreamDefaultController);\n\n            if (IsTransformStream(transformStream) === false) {\n              throw new TypeError('TransformStreamDefaultController can only be ' + 'constructed with a TransformStream instance');\n            }\n\n            if (transformStream._transformStreamController !== undefined) {\n              throw new TypeError('TransformStreamDefaultController instances can ' + 'only be created by the TransformStream constructor');\n            }\n\n            this._controlledTransformStream = transformStream;\n          }\n\n          _createClass(TransformStreamDefaultController, [{\n            key: 'enqueue',\n            value: function enqueue(chunk) {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('enqueue');\n              }\n\n              TransformStreamEnqueueToReadable(this._controlledTransformStream, chunk);\n            }\n          }, {\n            key: 'close',\n            value: function close() {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('close');\n              }\n\n              TransformStreamCloseReadable(this._controlledTransformStream);\n            }\n          }, {\n            key: 'error',\n            value: function error(reason) {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('error');\n              }\n\n              TransformStreamError(this._controlledTransformStream, reason);\n            }\n          }, {\n            key: 'desiredSize',\n            get: function get() {\n              if (IsTransformStreamDefaultController(this) === false) {\n                throw defaultControllerBrandCheckException('desiredSize');\n              }\n\n              var transformStream = this._controlledTransformStream;\n              var readableController = transformStream._readableController;\n              return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n            }\n          }]);\n\n          return TransformStreamDefaultController;\n        }();\n\n        var TransformStream = function () {\n          function TransformStream() {\n            var transformer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            _classCallCheck(this, TransformStream);\n\n            this._transformer = transformer;\n            var readableStrategy = transformer.readableStrategy,\n                writableStrategy = transformer.writableStrategy;\n            this._transforming = false;\n            this._errored = false;\n            this._storedError = undefined;\n            this._writableController = undefined;\n            this._readableController = undefined;\n            this._transformStreamController = undefined;\n            this._writableDone = false;\n            this._readableClosed = false;\n            this._backpressure = undefined;\n            this._backpressureChangePromise = undefined;\n            this._backpressureChangePromise_resolve = undefined;\n            this._transformStreamController = new TransformStreamDefaultController(this);\n            var startPromise_resolve = void 0;\n            var startPromise = new Promise(function (resolve) {\n              startPromise_resolve = resolve;\n            });\n            var source = new TransformStreamSource(this, startPromise);\n            this._readable = new ReadableStream(source, readableStrategy);\n            var sink = new TransformStreamSink(this, startPromise);\n            this._writable = new WritableStream(sink, writableStrategy);\n            assert(this._writableController !== undefined);\n            assert(this._readableController !== undefined);\n            var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(this._readableController);\n            TransformStreamSetBackpressure(this, desiredSize <= 0);\n            var transformStream = this;\n            var startResult = InvokeOrNoop(transformer, 'start', [transformStream._transformStreamController]);\n            startPromise_resolve(startResult);\n            startPromise.catch(function (e) {\n              if (transformStream._errored === false) {\n                transformStream._errored = true;\n                transformStream._storedError = e;\n              }\n            });\n          }\n\n          _createClass(TransformStream, [{\n            key: 'readable',\n            get: function get() {\n              if (IsTransformStream(this) === false) {\n                throw streamBrandCheckException('readable');\n              }\n\n              return this._readable;\n            }\n          }, {\n            key: 'writable',\n            get: function get() {\n              if (IsTransformStream(this) === false) {\n                throw streamBrandCheckException('writable');\n              }\n\n              return this._writable;\n            }\n          }]);\n\n          return TransformStream;\n        }();\n\n        module.exports = {\n          TransformStream: TransformStream\n        };\n\n        function defaultControllerBrandCheckException(name) {\n          return new TypeError('TransformStreamDefaultController.prototype.' + name + ' can only be used on a TransformStreamDefaultController');\n        }\n\n        function streamBrandCheckException(name) {\n          return new TypeError('TransformStream.prototype.' + name + ' can only be used on a TransformStream');\n        }\n      }, function (module, exports, __w_pdfjs_require__) {\n        module.exports = __w_pdfjs_require__(5);\n      }]));\n      /***/\n\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CanvasGraphics = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _pattern_helper = __w_pdfjs_require__(13);\n\n      var _webgl = __w_pdfjs_require__(7);\n\n      var MIN_FONT_SIZE = 16;\n      var MAX_FONT_SIZE = 100;\n      var MAX_GROUP_SIZE = 4096;\n      var MIN_WIDTH_FACTOR = 0.65;\n      var COMPILE_TYPE3_GLYPHS = true;\n      var MAX_SIZE_TO_COMPILE = 1000;\n      var FULL_CHUNK_HEIGHT = 16;\n      var IsLittleEndianCached = {\n        get value() {\n          return (0, _util.shadow)(IsLittleEndianCached, 'value', (0, _util.isLittleEndian)());\n        }\n\n      };\n\n      function addContextCurrentTransform(ctx) {\n        if (!ctx.mozCurrentTransform) {\n          ctx._originalSave = ctx.save;\n          ctx._originalRestore = ctx.restore;\n          ctx._originalRotate = ctx.rotate;\n          ctx._originalScale = ctx.scale;\n          ctx._originalTranslate = ctx.translate;\n          ctx._originalTransform = ctx.transform;\n          ctx._originalSetTransform = ctx.setTransform;\n          ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n          ctx._transformStack = [];\n          Object.defineProperty(ctx, 'mozCurrentTransform', {\n            get: function getCurrentTransform() {\n              return this._transformMatrix;\n            }\n          });\n          Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n            get: function getCurrentTransformInverse() {\n              var m = this._transformMatrix;\n              var a = m[0],\n                  b = m[1],\n                  c = m[2],\n                  d = m[3],\n                  e = m[4],\n                  f = m[5];\n              var ad_bc = a * d - b * c;\n              var bc_ad = b * c - a * d;\n              return [d / ad_bc, b / bc_ad, c / bc_ad, a / ad_bc, (d * e - c * f) / bc_ad, (b * e - a * f) / ad_bc];\n            }\n          });\n\n          ctx.save = function ctxSave() {\n            var old = this._transformMatrix;\n\n            this._transformStack.push(old);\n\n            this._transformMatrix = old.slice(0, 6);\n\n            this._originalSave();\n          };\n\n          ctx.restore = function ctxRestore() {\n            var prev = this._transformStack.pop();\n\n            if (prev) {\n              this._transformMatrix = prev;\n\n              this._originalRestore();\n            }\n          };\n\n          ctx.translate = function ctxTranslate(x, y) {\n            var m = this._transformMatrix;\n            m[4] = m[0] * x + m[2] * y + m[4];\n            m[5] = m[1] * x + m[3] * y + m[5];\n\n            this._originalTranslate(x, y);\n          };\n\n          ctx.scale = function ctxScale(x, y) {\n            var m = this._transformMatrix;\n            m[0] = m[0] * x;\n            m[1] = m[1] * x;\n            m[2] = m[2] * y;\n            m[3] = m[3] * y;\n\n            this._originalScale(x, y);\n          };\n\n          ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n            var m = this._transformMatrix;\n            this._transformMatrix = [m[0] * a + m[2] * b, m[1] * a + m[3] * b, m[0] * c + m[2] * d, m[1] * c + m[3] * d, m[0] * e + m[2] * f + m[4], m[1] * e + m[3] * f + m[5]];\n\n            ctx._originalTransform(a, b, c, d, e, f);\n          };\n\n          ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n            this._transformMatrix = [a, b, c, d, e, f];\n\n            ctx._originalSetTransform(a, b, c, d, e, f);\n          };\n\n          ctx.rotate = function ctxRotate(angle) {\n            var cosValue = Math.cos(angle);\n            var sinValue = Math.sin(angle);\n            var m = this._transformMatrix;\n            this._transformMatrix = [m[0] * cosValue + m[2] * sinValue, m[1] * cosValue + m[3] * sinValue, m[0] * -sinValue + m[2] * cosValue, m[1] * -sinValue + m[3] * cosValue, m[4], m[5]];\n\n            this._originalRotate(angle);\n          };\n        }\n      }\n\n      var CachedCanvases = function CachedCanvasesClosure() {\n        function CachedCanvases(canvasFactory) {\n          this.canvasFactory = canvasFactory;\n          this.cache = Object.create(null);\n        }\n\n        CachedCanvases.prototype = {\n          getCanvas: function CachedCanvases_getCanvas(id, width, height, trackTransform) {\n            var canvasEntry;\n\n            if (this.cache[id] !== undefined) {\n              canvasEntry = this.cache[id];\n              this.canvasFactory.reset(canvasEntry, width, height);\n              canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n            } else {\n              canvasEntry = this.canvasFactory.create(width, height);\n              this.cache[id] = canvasEntry;\n            }\n\n            if (trackTransform) {\n              addContextCurrentTransform(canvasEntry.context);\n            }\n\n            return canvasEntry;\n          },\n          clear: function clear() {\n            for (var id in this.cache) {\n              var canvasEntry = this.cache[id];\n              this.canvasFactory.destroy(canvasEntry);\n              delete this.cache[id];\n            }\n          }\n        };\n        return CachedCanvases;\n      }();\n\n      function compileType3Glyph(imgData) {\n        var POINT_TO_PROCESS_LIMIT = 1000;\n        var width = imgData.width,\n            height = imgData.height;\n        var i,\n            j,\n            j0,\n            width1 = width + 1;\n        var points = new Uint8Array(width1 * (height + 1));\n        var POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n        var lineSize = width + 7 & ~7,\n            data0 = imgData.data;\n        var data = new Uint8Array(lineSize * height),\n            pos = 0,\n            ii;\n\n        for (i = 0, ii = data0.length; i < ii; i++) {\n          var mask = 128,\n              elem = data0[i];\n\n          while (mask > 0) {\n            data[pos++] = elem & mask ? 0 : 255;\n            mask >>= 1;\n          }\n        }\n\n        var count = 0;\n        pos = 0;\n\n        if (data[pos] !== 0) {\n          points[0] = 1;\n          ++count;\n        }\n\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j] = data[pos] ? 2 : 1;\n            ++count;\n          }\n\n          pos++;\n        }\n\n        if (data[pos] !== 0) {\n          points[j] = 2;\n          ++count;\n        }\n\n        for (i = 1; i < height; i++) {\n          pos = i * lineSize;\n          j0 = i * width1;\n\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0] = data[pos] ? 1 : 8;\n            ++count;\n          }\n\n          var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n\n          for (j = 1; j < width; j++) {\n            sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n\n            if (POINT_TYPES[sum]) {\n              points[j0 + j] = POINT_TYPES[sum];\n              ++count;\n            }\n\n            pos++;\n          }\n\n          if (data[pos - lineSize] !== data[pos]) {\n            points[j0 + j] = data[pos] ? 2 : 4;\n            ++count;\n          }\n\n          if (count > POINT_TO_PROCESS_LIMIT) {\n            return null;\n          }\n        }\n\n        pos = lineSize * (height - 1);\n        j0 = i * width1;\n\n        if (data[pos] !== 0) {\n          points[j0] = 8;\n          ++count;\n        }\n\n        for (j = 1; j < width; j++) {\n          if (data[pos] !== data[pos + 1]) {\n            points[j0 + j] = data[pos] ? 4 : 8;\n            ++count;\n          }\n\n          pos++;\n        }\n\n        if (data[pos] !== 0) {\n          points[j0 + j] = 4;\n          ++count;\n        }\n\n        if (count > POINT_TO_PROCESS_LIMIT) {\n          return null;\n        }\n\n        var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n        var outlines = [];\n\n        for (i = 0; count && i <= height; i++) {\n          var p = i * width1;\n          var end = p + width;\n\n          while (p < end && !points[p]) {\n            p++;\n          }\n\n          if (p === end) {\n            continue;\n          }\n\n          var coords = [p % width1, i];\n          var type = points[p],\n              p0 = p,\n              pp;\n\n          do {\n            var step = steps[type];\n\n            do {\n              p += step;\n            } while (!points[p]);\n\n            pp = points[p];\n\n            if (pp !== 5 && pp !== 10) {\n              type = pp;\n              points[p] = 0;\n            } else {\n              type = pp & 0x33 * type >> 4;\n              points[p] &= type >> 2 | type << 2;\n            }\n\n            coords.push(p % width1);\n            coords.push(p / width1 | 0);\n            --count;\n          } while (p0 !== p);\n\n          outlines.push(coords);\n          --i;\n        }\n\n        var drawOutline = function drawOutline(c) {\n          c.save();\n          c.scale(1 / width, -1 / height);\n          c.translate(0, -height);\n          c.beginPath();\n\n          for (var i = 0, ii = outlines.length; i < ii; i++) {\n            var o = outlines[i];\n            c.moveTo(o[0], o[1]);\n\n            for (var j = 2, jj = o.length; j < jj; j += 2) {\n              c.lineTo(o[j], o[j + 1]);\n            }\n          }\n\n          c.fill();\n          c.beginPath();\n          c.restore();\n        };\n\n        return drawOutline;\n      }\n\n      var CanvasExtraState = function CanvasExtraStateClosure() {\n        function CanvasExtraState() {\n          this.alphaIsShape = false;\n          this.fontSize = 0;\n          this.fontSizeScale = 1;\n          this.textMatrix = _util.IDENTITY_MATRIX;\n          this.textMatrixScale = 1;\n          this.fontMatrix = _util.FONT_IDENTITY_MATRIX;\n          this.leading = 0;\n          this.x = 0;\n          this.y = 0;\n          this.lineX = 0;\n          this.lineY = 0;\n          this.charSpacing = 0;\n          this.wordSpacing = 0;\n          this.textHScale = 1;\n          this.textRenderingMode = _util.TextRenderingMode.FILL;\n          this.textRise = 0;\n          this.fillColor = '#000000';\n          this.strokeColor = '#000000';\n          this.patternFill = false;\n          this.fillAlpha = 1;\n          this.strokeAlpha = 1;\n          this.lineWidth = 1;\n          this.activeSMask = null;\n          this.resumeSMaskCtx = null;\n        }\n\n        CanvasExtraState.prototype = {\n          clone: function CanvasExtraState_clone() {\n            return Object.create(this);\n          },\n          setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n            this.x = x;\n            this.y = y;\n          }\n        };\n        return CanvasExtraState;\n      }();\n\n      var CanvasGraphics = function CanvasGraphicsClosure() {\n        var EXECUTION_TIME = 15;\n        var EXECUTION_STEPS = 10;\n\n        function CanvasGraphics(canvasCtx, commonObjs, objs, canvasFactory, imageLayer) {\n          this.ctx = canvasCtx;\n          this.current = new CanvasExtraState();\n          this.stateStack = [];\n          this.pendingClip = null;\n          this.pendingEOFill = false;\n          this.res = null;\n          this.xobjs = null;\n          this.commonObjs = commonObjs;\n          this.objs = objs;\n          this.canvasFactory = canvasFactory;\n          this.imageLayer = imageLayer;\n          this.groupStack = [];\n          this.processingType3 = null;\n          this.baseTransform = null;\n          this.baseTransformStack = [];\n          this.groupLevel = 0;\n          this.smaskStack = [];\n          this.smaskCounter = 0;\n          this.tempSMask = null;\n          this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n\n          if (canvasCtx) {\n            addContextCurrentTransform(canvasCtx);\n          }\n\n          this.cachedGetSinglePixelWidth = null;\n        }\n\n        function putBinaryImageData(ctx, imgData) {\n          if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n            ctx.putImageData(imgData, 0, 0);\n            return;\n          }\n\n          var height = imgData.height,\n              width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0,\n              destPos;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n          var i, j, thisChunkHeight, elemsInThisChunk;\n\n          if (imgData.kind === _util.ImageKind.GRAYSCALE_1BPP) {\n            var srcLength = src.byteLength;\n            var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n            var dest32DataLength = dest32.length;\n            var fullSrcDiff = width + 7 >> 3;\n            var white = 0xFFFFFFFF;\n            var black = IsLittleEndianCached.value ? 0xFF000000 : 0x000000FF;\n\n            for (i = 0; i < totalChunks; i++) {\n              thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n              destPos = 0;\n\n              for (j = 0; j < thisChunkHeight; j++) {\n                var srcDiff = srcLength - srcPos;\n                var k = 0;\n                var kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n                var kEndUnrolled = kEnd & ~7;\n                var mask = 0;\n                var srcByte = 0;\n\n                for (; k < kEndUnrolled; k += 8) {\n                  srcByte = src[srcPos++];\n                  dest32[destPos++] = srcByte & 128 ? white : black;\n                  dest32[destPos++] = srcByte & 64 ? white : black;\n                  dest32[destPos++] = srcByte & 32 ? white : black;\n                  dest32[destPos++] = srcByte & 16 ? white : black;\n                  dest32[destPos++] = srcByte & 8 ? white : black;\n                  dest32[destPos++] = srcByte & 4 ? white : black;\n                  dest32[destPos++] = srcByte & 2 ? white : black;\n                  dest32[destPos++] = srcByte & 1 ? white : black;\n                }\n\n                for (; k < kEnd; k++) {\n                  if (mask === 0) {\n                    srcByte = src[srcPos++];\n                    mask = 128;\n                  }\n\n                  dest32[destPos++] = srcByte & mask ? white : black;\n                  mask >>= 1;\n                }\n              }\n\n              while (destPos < dest32DataLength) {\n                dest32[destPos++] = 0;\n              }\n\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else if (imgData.kind === _util.ImageKind.RGBA_32BPP) {\n            j = 0;\n            elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n\n            for (i = 0; i < fullChunks; i++) {\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              srcPos += elemsInThisChunk;\n              ctx.putImageData(chunkImgData, 0, j);\n              j += FULL_CHUNK_HEIGHT;\n            }\n\n            if (i < totalChunks) {\n              elemsInThisChunk = width * partialChunkHeight * 4;\n              dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n              ctx.putImageData(chunkImgData, 0, j);\n            }\n          } else if (imgData.kind === _util.ImageKind.RGB_24BPP) {\n            thisChunkHeight = FULL_CHUNK_HEIGHT;\n            elemsInThisChunk = width * thisChunkHeight;\n\n            for (i = 0; i < totalChunks; i++) {\n              if (i >= fullChunks) {\n                thisChunkHeight = partialChunkHeight;\n                elemsInThisChunk = width * thisChunkHeight;\n              }\n\n              destPos = 0;\n\n              for (j = elemsInThisChunk; j--;) {\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = src[srcPos++];\n                dest[destPos++] = 255;\n              }\n\n              ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n            }\n          } else {\n            throw new Error('bad image kind: ' + imgData.kind);\n          }\n        }\n\n        function putBinaryImageMask(ctx, imgData) {\n          var height = imgData.height,\n              width = imgData.width;\n          var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n          var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n          var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n          var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n          var srcPos = 0;\n          var src = imgData.data;\n          var dest = chunkImgData.data;\n\n          for (var i = 0; i < totalChunks; i++) {\n            var thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n            var destPos = 3;\n\n            for (var j = 0; j < thisChunkHeight; j++) {\n              var mask = 0;\n\n              for (var k = 0; k < width; k++) {\n                if (!mask) {\n                  var elem = src[srcPos++];\n                  mask = 128;\n                }\n\n                dest[destPos] = elem & mask ? 0 : 255;\n                destPos += 4;\n                mask >>= 1;\n              }\n            }\n\n            ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n          }\n        }\n\n        function copyCtxState(sourceCtx, destCtx) {\n          var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha', 'lineWidth', 'lineCap', 'lineJoin', 'miterLimit', 'globalCompositeOperation', 'font'];\n\n          for (var i = 0, ii = properties.length; i < ii; i++) {\n            var property = properties[i];\n\n            if (sourceCtx[property] !== undefined) {\n              destCtx[property] = sourceCtx[property];\n            }\n          }\n\n          if (sourceCtx.setLineDash !== undefined) {\n            destCtx.setLineDash(sourceCtx.getLineDash());\n            destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n          }\n        }\n\n        function resetCtxToDefault(ctx) {\n          ctx.strokeStyle = '#000000';\n          ctx.fillStyle = '#000000';\n          ctx.fillRule = 'nonzero';\n          ctx.globalAlpha = 1;\n          ctx.lineWidth = 1;\n          ctx.lineCap = 'butt';\n          ctx.lineJoin = 'miter';\n          ctx.miterLimit = 10;\n          ctx.globalCompositeOperation = 'source-over';\n          ctx.font = '10px sans-serif';\n\n          if (ctx.setLineDash !== undefined) {\n            ctx.setLineDash([]);\n            ctx.lineDashOffset = 0;\n          }\n        }\n\n        function composeSMaskBackdrop(bytes, r0, g0, b0) {\n          var length = bytes.length;\n\n          for (var i = 3; i < length; i += 4) {\n            var alpha = bytes[i];\n\n            if (alpha === 0) {\n              bytes[i - 3] = r0;\n              bytes[i - 2] = g0;\n              bytes[i - 1] = b0;\n            } else if (alpha < 255) {\n              var alpha_ = 255 - alpha;\n              bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n              bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n              bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n            }\n          }\n        }\n\n        function composeSMaskAlpha(maskData, layerData, transferMap) {\n          var length = maskData.length;\n          var scale = 1 / 255;\n\n          for (var i = 3; i < length; i += 4) {\n            var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n            layerData[i] = layerData[i] * alpha * scale | 0;\n          }\n        }\n\n        function composeSMaskLuminosity(maskData, layerData, transferMap) {\n          var length = maskData.length;\n\n          for (var i = 3; i < length; i += 4) {\n            var y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n            layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n          }\n        }\n\n        function genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap) {\n          var hasBackdrop = !!backdrop;\n          var r0 = hasBackdrop ? backdrop[0] : 0;\n          var g0 = hasBackdrop ? backdrop[1] : 0;\n          var b0 = hasBackdrop ? backdrop[2] : 0;\n          var composeFn;\n\n          if (subtype === 'Luminosity') {\n            composeFn = composeSMaskLuminosity;\n          } else {\n            composeFn = composeSMaskAlpha;\n          }\n\n          var PIXELS_TO_PROCESS = 1048576;\n          var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n\n          for (var row = 0; row < height; row += chunkSize) {\n            var chunkHeight = Math.min(chunkSize, height - row);\n            var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n            var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n            if (hasBackdrop) {\n              composeSMaskBackdrop(maskData.data, r0, g0, b0);\n            }\n\n            composeFn(maskData.data, layerData.data, transferMap);\n            maskCtx.putImageData(layerData, 0, row);\n          }\n        }\n\n        function composeSMask(ctx, smask, layerCtx) {\n          var mask = smask.canvas;\n          var maskCtx = smask.context;\n          ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY, smask.offsetX, smask.offsetY);\n          var backdrop = smask.backdrop || null;\n\n          if (!smask.transferMap && _webgl.WebGLUtils.isEnabled) {\n            var composed = _webgl.WebGLUtils.composeSMask(layerCtx.canvas, mask, {\n              subtype: smask.subtype,\n              backdrop: backdrop\n            });\n\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n            return;\n          }\n\n          genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height, smask.subtype, backdrop, smask.transferMap);\n          ctx.drawImage(mask, 0, 0);\n        }\n\n        var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n        var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n        var NORMAL_CLIP = {};\n        var EO_CLIP = {};\n        CanvasGraphics.prototype = {\n          beginDrawing: function beginDrawing(_ref) {\n            var transform = _ref.transform,\n                viewport = _ref.viewport,\n                transparency = _ref.transparency,\n                _ref$background = _ref.background,\n                background = _ref$background === undefined ? null : _ref$background;\n            var width = this.ctx.canvas.width;\n            var height = this.ctx.canvas.height;\n            this.ctx.save();\n            this.ctx.fillStyle = background || 'rgb(255, 255, 255)';\n            this.ctx.fillRect(0, 0, width, height);\n            this.ctx.restore();\n\n            if (transparency) {\n              var transparentCanvas = this.cachedCanvases.getCanvas('transparent', width, height, true);\n              this.compositeCtx = this.ctx;\n              this.transparentCanvas = transparentCanvas.canvas;\n              this.ctx = transparentCanvas.context;\n              this.ctx.save();\n              this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n            }\n\n            this.ctx.save();\n            resetCtxToDefault(this.ctx);\n\n            if (transform) {\n              this.ctx.transform.apply(this.ctx, transform);\n            }\n\n            this.ctx.transform.apply(this.ctx, viewport.transform);\n            this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n            if (this.imageLayer) {\n              this.imageLayer.beginLayout();\n            }\n          },\n          executeOperatorList: function CanvasGraphics_executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n            var argsArray = operatorList.argsArray;\n            var fnArray = operatorList.fnArray;\n            var i = executionStartIdx || 0;\n            var argsArrayLen = argsArray.length;\n\n            if (argsArrayLen === i) {\n              return i;\n            }\n\n            var chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === 'function';\n            var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n            var steps = 0;\n            var commonObjs = this.commonObjs;\n            var objs = this.objs;\n            var fnId;\n\n            while (true) {\n              if (stepper !== undefined && i === stepper.nextBreakPoint) {\n                stepper.breakIt(i, continueCallback);\n                return i;\n              }\n\n              fnId = fnArray[i];\n\n              if (fnId !== _util.OPS.dependency) {\n                this[fnId].apply(this, argsArray[i]);\n              } else {\n                var deps = argsArray[i];\n\n                for (var n = 0, nn = deps.length; n < nn; n++) {\n                  var depObjId = deps[n];\n                  var common = depObjId[0] === 'g' && depObjId[1] === '_';\n                  var objsPool = common ? commonObjs : objs;\n\n                  if (!objsPool.isResolved(depObjId)) {\n                    objsPool.get(depObjId, continueCallback);\n                    return i;\n                  }\n                }\n              }\n\n              i++;\n\n              if (i === argsArrayLen) {\n                return i;\n              }\n\n              if (chunkOperations && ++steps > EXECUTION_STEPS) {\n                if (Date.now() > endTime) {\n                  continueCallback();\n                  return i;\n                }\n\n                steps = 0;\n              }\n            }\n          },\n          endDrawing: function CanvasGraphics_endDrawing() {\n            if (this.current.activeSMask !== null) {\n              this.endSMaskGroup();\n            }\n\n            this.ctx.restore();\n\n            if (this.transparentCanvas) {\n              this.ctx = this.compositeCtx;\n              this.ctx.save();\n              this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n              this.ctx.drawImage(this.transparentCanvas, 0, 0);\n              this.ctx.restore();\n              this.transparentCanvas = null;\n            }\n\n            this.cachedCanvases.clear();\n\n            _webgl.WebGLUtils.clear();\n\n            if (this.imageLayer) {\n              this.imageLayer.endLayout();\n            }\n          },\n          setLineWidth: function CanvasGraphics_setLineWidth(width) {\n            this.current.lineWidth = width;\n            this.ctx.lineWidth = width;\n          },\n          setLineCap: function CanvasGraphics_setLineCap(style) {\n            this.ctx.lineCap = LINE_CAP_STYLES[style];\n          },\n          setLineJoin: function CanvasGraphics_setLineJoin(style) {\n            this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n          },\n          setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n            this.ctx.miterLimit = limit;\n          },\n          setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n            var ctx = this.ctx;\n\n            if (ctx.setLineDash !== undefined) {\n              ctx.setLineDash(dashArray);\n              ctx.lineDashOffset = dashPhase;\n            }\n          },\n          setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {},\n          setFlatness: function CanvasGraphics_setFlatness(flatness) {},\n          setGState: function CanvasGraphics_setGState(states) {\n            for (var i = 0, ii = states.length; i < ii; i++) {\n              var state = states[i];\n              var key = state[0];\n              var value = state[1];\n\n              switch (key) {\n                case 'LW':\n                  this.setLineWidth(value);\n                  break;\n\n                case 'LC':\n                  this.setLineCap(value);\n                  break;\n\n                case 'LJ':\n                  this.setLineJoin(value);\n                  break;\n\n                case 'ML':\n                  this.setMiterLimit(value);\n                  break;\n\n                case 'D':\n                  this.setDash(value[0], value[1]);\n                  break;\n\n                case 'RI':\n                  this.setRenderingIntent(value);\n                  break;\n\n                case 'FL':\n                  this.setFlatness(value);\n                  break;\n\n                case 'Font':\n                  this.setFont(value[0], value[1]);\n                  break;\n\n                case 'CA':\n                  this.current.strokeAlpha = state[1];\n                  break;\n\n                case 'ca':\n                  this.current.fillAlpha = state[1];\n                  this.ctx.globalAlpha = state[1];\n                  break;\n\n                case 'BM':\n                  this.ctx.globalCompositeOperation = value;\n                  break;\n\n                case 'SMask':\n                  if (this.current.activeSMask) {\n                    if (this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1].activeSMask === this.current.activeSMask) {\n                      this.suspendSMaskGroup();\n                    } else {\n                      this.endSMaskGroup();\n                    }\n                  }\n\n                  this.current.activeSMask = value ? this.tempSMask : null;\n\n                  if (this.current.activeSMask) {\n                    this.beginSMaskGroup();\n                  }\n\n                  this.tempSMask = null;\n                  break;\n              }\n            }\n          },\n          beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n            var activeSMask = this.current.activeSMask;\n            var drawnWidth = activeSMask.canvas.width;\n            var drawnHeight = activeSMask.canvas.height;\n            var cacheId = 'smaskGroupAt' + this.groupLevel;\n            var scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n            var currentCtx = this.ctx;\n            var currentTransform = currentCtx.mozCurrentTransform;\n            this.ctx.save();\n            var groupCtx = scratchCanvas.context;\n            groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n            groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n            activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([['BM', 'source-over'], ['ca', 1], ['CA', 1]]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n            this.ctx.restore();\n            this.ctx.save();\n            copyCtxState(groupCtx, this.ctx);\n            this.current.resumeSMaskCtx = groupCtx;\n\n            var deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n            groupCtx.save();\n            groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n            groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n            groupCtx.restore();\n          },\n          resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.current.resumeSMaskCtx;\n            var currentCtx = this.ctx;\n            this.ctx = groupCtx;\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n          },\n          endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n            var groupCtx = this.ctx;\n            this.groupLevel--;\n            this.ctx = this.groupStack.pop();\n            composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n            this.ctx.restore();\n            copyCtxState(groupCtx, this.ctx);\n\n            var deltaTransform = _util.Util.transform(this.current.activeSMask.startTransformInverse, groupCtx.mozCurrentTransform);\n\n            this.ctx.transform.apply(this.ctx, deltaTransform);\n          },\n          save: function CanvasGraphics_save() {\n            this.ctx.save();\n            var old = this.current;\n            this.stateStack.push(old);\n            this.current = old.clone();\n            this.current.resumeSMaskCtx = null;\n          },\n          restore: function CanvasGraphics_restore() {\n            if (this.current.resumeSMaskCtx) {\n              this.resumeSMaskGroup();\n            }\n\n            if (this.current.activeSMask !== null && (this.stateStack.length === 0 || this.stateStack[this.stateStack.length - 1].activeSMask !== this.current.activeSMask)) {\n              this.endSMaskGroup();\n            }\n\n            if (this.stateStack.length !== 0) {\n              this.current = this.stateStack.pop();\n              this.ctx.restore();\n              this.pendingClip = null;\n              this.cachedGetSinglePixelWidth = null;\n            }\n          },\n          transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n            this.ctx.transform(a, b, c, d, e, f);\n            this.cachedGetSinglePixelWidth = null;\n          },\n          constructPath: function CanvasGraphics_constructPath(ops, args) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var x = current.x,\n                y = current.y;\n\n            for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n              switch (ops[i] | 0) {\n                case _util.OPS.rectangle:\n                  x = args[j++];\n                  y = args[j++];\n                  var width = args[j++];\n                  var height = args[j++];\n\n                  if (width === 0) {\n                    width = this.getSinglePixelWidth();\n                  }\n\n                  if (height === 0) {\n                    height = this.getSinglePixelWidth();\n                  }\n\n                  var xw = x + width;\n                  var yh = y + height;\n                  this.ctx.moveTo(x, y);\n                  this.ctx.lineTo(xw, y);\n                  this.ctx.lineTo(xw, yh);\n                  this.ctx.lineTo(x, yh);\n                  this.ctx.lineTo(x, y);\n                  this.ctx.closePath();\n                  break;\n\n                case _util.OPS.moveTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.moveTo(x, y);\n                  break;\n\n                case _util.OPS.lineTo:\n                  x = args[j++];\n                  y = args[j++];\n                  ctx.lineTo(x, y);\n                  break;\n\n                case _util.OPS.curveTo:\n                  x = args[j + 4];\n                  y = args[j + 5];\n                  ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n                  j += 6;\n                  break;\n\n                case _util.OPS.curveTo2:\n                  ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  j += 4;\n                  break;\n\n                case _util.OPS.curveTo3:\n                  x = args[j + 2];\n                  y = args[j + 3];\n                  ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n                  j += 4;\n                  break;\n\n                case _util.OPS.closePath:\n                  ctx.closePath();\n                  break;\n              }\n            }\n\n            current.setCurrentPoint(x, y);\n          },\n          closePath: function CanvasGraphics_closePath() {\n            this.ctx.closePath();\n          },\n          stroke: function CanvasGraphics_stroke(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var strokeColor = this.current.strokeColor;\n            ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR, this.current.lineWidth);\n            ctx.globalAlpha = this.current.strokeAlpha;\n\n            if (strokeColor && strokeColor.hasOwnProperty('type') && strokeColor.type === 'Pattern') {\n              ctx.save();\n              ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n              ctx.stroke();\n              ctx.restore();\n            } else {\n              ctx.stroke();\n            }\n\n            if (consumePath) {\n              this.consumePath();\n            }\n\n            ctx.globalAlpha = this.current.fillAlpha;\n          },\n          closeStroke: function CanvasGraphics_closeStroke() {\n            this.closePath();\n            this.stroke();\n          },\n          fill: function CanvasGraphics_fill(consumePath) {\n            consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n            var ctx = this.ctx;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var needRestore = false;\n\n            if (isPatternFill) {\n              ctx.save();\n\n              if (this.baseTransform) {\n                ctx.setTransform.apply(ctx, this.baseTransform);\n              }\n\n              ctx.fillStyle = fillColor.getPattern(ctx, this);\n              needRestore = true;\n            }\n\n            if (this.pendingEOFill) {\n              ctx.fill('evenodd');\n              this.pendingEOFill = false;\n            } else {\n              ctx.fill();\n            }\n\n            if (needRestore) {\n              ctx.restore();\n            }\n\n            if (consumePath) {\n              this.consumePath();\n            }\n          },\n          eoFill: function CanvasGraphics_eoFill() {\n            this.pendingEOFill = true;\n            this.fill();\n          },\n          fillStroke: function CanvasGraphics_fillStroke() {\n            this.fill(false);\n            this.stroke(false);\n            this.consumePath();\n          },\n          eoFillStroke: function CanvasGraphics_eoFillStroke() {\n            this.pendingEOFill = true;\n            this.fillStroke();\n          },\n          closeFillStroke: function CanvasGraphics_closeFillStroke() {\n            this.closePath();\n            this.fillStroke();\n          },\n          closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n            this.pendingEOFill = true;\n            this.closePath();\n            this.fillStroke();\n          },\n          endPath: function CanvasGraphics_endPath() {\n            this.consumePath();\n          },\n          clip: function CanvasGraphics_clip() {\n            this.pendingClip = NORMAL_CLIP;\n          },\n          eoClip: function CanvasGraphics_eoClip() {\n            this.pendingClip = EO_CLIP;\n          },\n          beginText: function CanvasGraphics_beginText() {\n            this.current.textMatrix = _util.IDENTITY_MATRIX;\n            this.current.textMatrixScale = 1;\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          endText: function CanvasGraphics_endText() {\n            var paths = this.pendingTextPaths;\n            var ctx = this.ctx;\n\n            if (paths === undefined) {\n              ctx.beginPath();\n              return;\n            }\n\n            ctx.save();\n            ctx.beginPath();\n\n            for (var i = 0; i < paths.length; i++) {\n              var path = paths[i];\n              ctx.setTransform.apply(ctx, path.transform);\n              ctx.translate(path.x, path.y);\n              path.addToPath(ctx, path.fontSize);\n            }\n\n            ctx.restore();\n            ctx.clip();\n            ctx.beginPath();\n            delete this.pendingTextPaths;\n          },\n          setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n            this.current.charSpacing = spacing;\n          },\n          setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n            this.current.wordSpacing = spacing;\n          },\n          setHScale: function CanvasGraphics_setHScale(scale) {\n            this.current.textHScale = scale / 100;\n          },\n          setLeading: function CanvasGraphics_setLeading(leading) {\n            this.current.leading = -leading;\n          },\n          setFont: function CanvasGraphics_setFont(fontRefName, size) {\n            var fontObj = this.commonObjs.get(fontRefName);\n            var current = this.current;\n\n            if (!fontObj) {\n              throw new Error('Can\\'t find font for ' + fontRefName);\n            }\n\n            current.fontMatrix = fontObj.fontMatrix ? fontObj.fontMatrix : _util.FONT_IDENTITY_MATRIX;\n\n            if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n              (0, _util.warn)('Invalid font matrix for font ' + fontRefName);\n            }\n\n            if (size < 0) {\n              size = -size;\n              current.fontDirection = -1;\n            } else {\n              current.fontDirection = 1;\n            }\n\n            this.current.font = fontObj;\n            this.current.fontSize = size;\n\n            if (fontObj.isType3Font) {\n              return;\n            }\n\n            var name = fontObj.loadedName || 'sans-serif';\n            var bold = fontObj.black ? '900' : fontObj.bold ? 'bold' : 'normal';\n            var italic = fontObj.italic ? 'italic' : 'normal';\n            var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n            var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE : size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n            this.current.fontSizeScale = size / browserFontSize;\n            var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n            this.ctx.font = rule;\n          },\n          setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n            this.current.textRenderingMode = mode;\n          },\n          setTextRise: function CanvasGraphics_setTextRise(rise) {\n            this.current.textRise = rise;\n          },\n          moveText: function CanvasGraphics_moveText(x, y) {\n            this.current.x = this.current.lineX += x;\n            this.current.y = this.current.lineY += y;\n          },\n          setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n            this.setLeading(-y);\n            this.moveText(x, y);\n          },\n          setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n            this.current.textMatrix = [a, b, c, d, e, f];\n            this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n            this.current.x = this.current.lineX = 0;\n            this.current.y = this.current.lineY = 0;\n          },\n          nextLine: function CanvasGraphics_nextLine() {\n            this.moveText(0, this.current.leading);\n          },\n          paintChar: function CanvasGraphics_paintChar(character, x, y) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var textRenderingMode = current.textRenderingMode;\n            var fontSize = current.fontSize / current.fontSizeScale;\n            var fillStrokeMode = textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n            var isAddToPathSet = !!(textRenderingMode & _util.TextRenderingMode.ADD_TO_PATH_FLAG);\n            var addToPath;\n\n            if (font.disableFontFace || isAddToPathSet) {\n              addToPath = font.getPathGenerator(this.commonObjs, character);\n            }\n\n            if (font.disableFontFace) {\n              ctx.save();\n              ctx.translate(x, y);\n              ctx.beginPath();\n              addToPath(ctx, fontSize);\n\n              if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.fill();\n              }\n\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.stroke();\n              }\n\n              ctx.restore();\n            } else {\n              if (fillStrokeMode === _util.TextRenderingMode.FILL || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.fillText(character, x, y);\n              }\n\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                ctx.strokeText(character, x, y);\n              }\n            }\n\n            if (isAddToPathSet) {\n              var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n              paths.push({\n                transform: ctx.mozCurrentTransform,\n                x: x,\n                y: y,\n                fontSize: fontSize,\n                addToPath: addToPath\n              });\n            }\n          },\n\n          get isFontSubpixelAAEnabled() {\n            var ctx = this.canvasFactory.create(10, 10).context;\n            ctx.scale(1.5, 1);\n            ctx.fillText('I', 0, 10);\n            var data = ctx.getImageData(0, 0, 10, 10).data;\n            var enabled = false;\n\n            for (var i = 3; i < data.length; i += 4) {\n              if (data[i] > 0 && data[i] < 255) {\n                enabled = true;\n                break;\n              }\n            }\n\n            return (0, _util.shadow)(this, 'isFontSubpixelAAEnabled', enabled);\n          },\n\n          showText: function CanvasGraphics_showText(glyphs) {\n            var current = this.current;\n            var font = current.font;\n\n            if (font.isType3Font) {\n              return this.showType3Text(glyphs);\n            }\n\n            var fontSize = current.fontSize;\n\n            if (fontSize === 0) {\n              return;\n            }\n\n            var ctx = this.ctx;\n            var fontSizeScale = current.fontSizeScale;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var fontDirection = current.fontDirection;\n            var textHScale = current.textHScale * fontDirection;\n            var glyphsLength = glyphs.length;\n            var vertical = font.vertical;\n            var spacingDir = vertical ? 1 : -1;\n            var defaultVMetrics = font.defaultVMetrics;\n            var widthAdvanceScale = fontSize * current.fontMatrix[0];\n            var simpleFillText = current.textRenderingMode === _util.TextRenderingMode.FILL && !font.disableFontFace;\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y + current.textRise);\n\n            if (current.patternFill) {\n              ctx.fillStyle = current.fillColor.getPattern(ctx, this);\n            }\n\n            if (fontDirection > 0) {\n              ctx.scale(textHScale, -1);\n            } else {\n              ctx.scale(textHScale, 1);\n            }\n\n            var lineWidth = current.lineWidth;\n            var scale = current.textMatrixScale;\n\n            if (scale === 0 || lineWidth === 0) {\n              var fillStrokeMode = current.textRenderingMode & _util.TextRenderingMode.FILL_STROKE_MASK;\n\n              if (fillStrokeMode === _util.TextRenderingMode.STROKE || fillStrokeMode === _util.TextRenderingMode.FILL_STROKE) {\n                this.cachedGetSinglePixelWidth = null;\n                lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n              }\n            } else {\n              lineWidth /= scale;\n            }\n\n            if (fontSizeScale !== 1.0) {\n              ctx.scale(fontSizeScale, fontSizeScale);\n              lineWidth /= fontSizeScale;\n            }\n\n            ctx.lineWidth = lineWidth;\n            var x = 0,\n                i;\n\n            for (i = 0; i < glyphsLength; ++i) {\n              var glyph = glyphs[i];\n\n              if ((0, _util.isNum)(glyph)) {\n                x += spacingDir * glyph * fontSize / 1000;\n                continue;\n              }\n\n              var restoreNeeded = false;\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var character = glyph.fontChar;\n              var accent = glyph.accent;\n              var scaledX, scaledY, scaledAccentX, scaledAccentY;\n              var width = glyph.width;\n\n              if (vertical) {\n                var vmetric, vx, vy;\n                vmetric = glyph.vmetric || defaultVMetrics;\n                vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n                vx = -vx * widthAdvanceScale;\n                vy = vmetric[2] * widthAdvanceScale;\n                width = vmetric ? -vmetric[0] : width;\n                scaledX = vx / fontSizeScale;\n                scaledY = (x + vy) / fontSizeScale;\n              } else {\n                scaledX = x / fontSizeScale;\n                scaledY = 0;\n              }\n\n              if (font.remeasure && width > 0) {\n                var measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n\n                if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n                  var characterScaleX = width / measuredWidth;\n                  restoreNeeded = true;\n                  ctx.save();\n                  ctx.scale(characterScaleX, 1);\n                  scaledX /= characterScaleX;\n                } else if (width !== measuredWidth) {\n                  scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n                }\n              }\n\n              if (glyph.isInFont || font.missingFile) {\n                if (simpleFillText && !accent) {\n                  ctx.fillText(character, scaledX, scaledY);\n                } else {\n                  this.paintChar(character, scaledX, scaledY);\n\n                  if (accent) {\n                    scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n                    scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n                    this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n                  }\n                }\n              }\n\n              var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n              x += charWidth;\n\n              if (restoreNeeded) {\n                ctx.restore();\n              }\n            }\n\n            if (vertical) {\n              current.y -= x * textHScale;\n            } else {\n              current.x += x * textHScale;\n            }\n\n            ctx.restore();\n          },\n          showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n            var ctx = this.ctx;\n            var current = this.current;\n            var font = current.font;\n            var fontSize = current.fontSize;\n            var fontDirection = current.fontDirection;\n            var spacingDir = font.vertical ? 1 : -1;\n            var charSpacing = current.charSpacing;\n            var wordSpacing = current.wordSpacing;\n            var textHScale = current.textHScale * fontDirection;\n            var fontMatrix = current.fontMatrix || _util.FONT_IDENTITY_MATRIX;\n            var glyphsLength = glyphs.length;\n            var isTextInvisible = current.textRenderingMode === _util.TextRenderingMode.INVISIBLE;\n            var i, glyph, width, spacingLength;\n\n            if (isTextInvisible || fontSize === 0) {\n              return;\n            }\n\n            this.cachedGetSinglePixelWidth = null;\n            ctx.save();\n            ctx.transform.apply(ctx, current.textMatrix);\n            ctx.translate(current.x, current.y);\n            ctx.scale(textHScale, fontDirection);\n\n            for (i = 0; i < glyphsLength; ++i) {\n              glyph = glyphs[i];\n\n              if ((0, _util.isNum)(glyph)) {\n                spacingLength = spacingDir * glyph * fontSize / 1000;\n                this.ctx.translate(spacingLength, 0);\n                current.x += spacingLength * textHScale;\n                continue;\n              }\n\n              var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n              var operatorList = font.charProcOperatorList[glyph.operatorListId];\n\n              if (!operatorList) {\n                (0, _util.warn)('Type3 character \"' + glyph.operatorListId + '\" is not available.');\n                continue;\n              }\n\n              this.processingType3 = glyph;\n              this.save();\n              ctx.scale(fontSize, fontSize);\n              ctx.transform.apply(ctx, fontMatrix);\n              this.executeOperatorList(operatorList);\n              this.restore();\n\n              var transformed = _util.Util.applyTransform([glyph.width, 0], fontMatrix);\n\n              width = transformed[0] * fontSize + spacing;\n              ctx.translate(width, 0);\n              current.x += width * textHScale;\n            }\n\n            ctx.restore();\n            this.processingType3 = null;\n          },\n          setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {},\n          setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n            this.ctx.rect(llx, lly, urx - llx, ury - lly);\n            this.clip();\n            this.endPath();\n          },\n          getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n            var _this = this;\n\n            var pattern;\n\n            if (IR[0] === 'TilingPattern') {\n              var color = IR[1];\n              var baseTransform = this.baseTransform || this.ctx.mozCurrentTransform.slice();\n              var canvasGraphicsFactory = {\n                createCanvasGraphics: function createCanvasGraphics(ctx) {\n                  return new CanvasGraphics(ctx, _this.commonObjs, _this.objs, _this.canvasFactory);\n                }\n              };\n              pattern = new _pattern_helper.TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n            } else {\n              pattern = (0, _pattern_helper.getShadingPatternFromIR)(IR);\n            }\n\n            return pattern;\n          },\n          setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n            this.current.strokeColor = this.getColorN_Pattern(arguments);\n          },\n          setFillColorN: function CanvasGraphics_setFillColorN() {\n            this.current.fillColor = this.getColorN_Pattern(arguments);\n            this.current.patternFill = true;\n          },\n          setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n            var color = _util.Util.makeCssRgb(r, g, b);\n\n            this.ctx.strokeStyle = color;\n            this.current.strokeColor = color;\n          },\n          setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n            var color = _util.Util.makeCssRgb(r, g, b);\n\n            this.ctx.fillStyle = color;\n            this.current.fillColor = color;\n            this.current.patternFill = false;\n          },\n          shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n            var ctx = this.ctx;\n            this.save();\n            var pattern = (0, _pattern_helper.getShadingPatternFromIR)(patternIR);\n            ctx.fillStyle = pattern.getPattern(ctx, this, true);\n            var inv = ctx.mozCurrentTransformInverse;\n\n            if (inv) {\n              var canvas = ctx.canvas;\n              var width = canvas.width;\n              var height = canvas.height;\n\n              var bl = _util.Util.applyTransform([0, 0], inv);\n\n              var br = _util.Util.applyTransform([0, height], inv);\n\n              var ul = _util.Util.applyTransform([width, 0], inv);\n\n              var ur = _util.Util.applyTransform([width, height], inv);\n\n              var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n              var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n              var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n              var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n              this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n            } else {\n              this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n            }\n\n            this.restore();\n          },\n          beginInlineImage: function CanvasGraphics_beginInlineImage() {\n            throw new Error('Should not call beginInlineImage');\n          },\n          beginImageData: function CanvasGraphics_beginImageData() {\n            throw new Error('Should not call beginImageData');\n          },\n          paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix, bbox) {\n            this.save();\n            this.baseTransformStack.push(this.baseTransform);\n\n            if ((0, _util.isArray)(matrix) && matrix.length === 6) {\n              this.transform.apply(this, matrix);\n            }\n\n            this.baseTransform = this.ctx.mozCurrentTransform;\n\n            if ((0, _util.isArray)(bbox) && bbox.length === 4) {\n              var width = bbox[2] - bbox[0];\n              var height = bbox[3] - bbox[1];\n              this.ctx.rect(bbox[0], bbox[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n          },\n          paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n            this.restore();\n            this.baseTransform = this.baseTransformStack.pop();\n          },\n          beginGroup: function CanvasGraphics_beginGroup(group) {\n            this.save();\n            var currentCtx = this.ctx;\n\n            if (!group.isolated) {\n              (0, _util.info)('TODO: Support non-isolated groups.');\n            }\n\n            if (group.knockout) {\n              (0, _util.warn)('Knockout groups not supported.');\n            }\n\n            var currentTransform = currentCtx.mozCurrentTransform;\n\n            if (group.matrix) {\n              currentCtx.transform.apply(currentCtx, group.matrix);\n            }\n\n            if (!group.bbox) {\n              throw new Error('Bounding box is required.');\n            }\n\n            var bounds = _util.Util.getAxialAlignedBoundingBox(group.bbox, currentCtx.mozCurrentTransform);\n\n            var canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n            bounds = _util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n            var offsetX = Math.floor(bounds[0]);\n            var offsetY = Math.floor(bounds[1]);\n            var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n            var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n            var scaleX = 1,\n                scaleY = 1;\n\n            if (drawnWidth > MAX_GROUP_SIZE) {\n              scaleX = drawnWidth / MAX_GROUP_SIZE;\n              drawnWidth = MAX_GROUP_SIZE;\n            }\n\n            if (drawnHeight > MAX_GROUP_SIZE) {\n              scaleY = drawnHeight / MAX_GROUP_SIZE;\n              drawnHeight = MAX_GROUP_SIZE;\n            }\n\n            var cacheId = 'groupAt' + this.groupLevel;\n\n            if (group.smask) {\n              cacheId += '_smask_' + this.smaskCounter++ % 2;\n            }\n\n            var scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight, true);\n            var groupCtx = scratchCanvas.context;\n            groupCtx.scale(1 / scaleX, 1 / scaleY);\n            groupCtx.translate(-offsetX, -offsetY);\n            groupCtx.transform.apply(groupCtx, currentTransform);\n\n            if (group.smask) {\n              this.smaskStack.push({\n                canvas: scratchCanvas.canvas,\n                context: groupCtx,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                scaleX: scaleX,\n                scaleY: scaleY,\n                subtype: group.smask.subtype,\n                backdrop: group.smask.backdrop,\n                transferMap: group.smask.transferMap || null,\n                startTransformInverse: null\n              });\n            } else {\n              currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n              currentCtx.translate(offsetX, offsetY);\n              currentCtx.scale(scaleX, scaleY);\n            }\n\n            copyCtxState(currentCtx, groupCtx);\n            this.ctx = groupCtx;\n            this.setGState([['BM', 'source-over'], ['ca', 1], ['CA', 1]]);\n            this.groupStack.push(currentCtx);\n            this.groupLevel++;\n            this.current.activeSMask = null;\n          },\n          endGroup: function CanvasGraphics_endGroup(group) {\n            this.groupLevel--;\n            var groupCtx = this.ctx;\n            this.ctx = this.groupStack.pop();\n\n            if (this.ctx.imageSmoothingEnabled !== undefined) {\n              this.ctx.imageSmoothingEnabled = false;\n            } else {\n              this.ctx.mozImageSmoothingEnabled = false;\n            }\n\n            if (group.smask) {\n              this.tempSMask = this.smaskStack.pop();\n            } else {\n              this.ctx.drawImage(groupCtx.canvas, 0, 0);\n            }\n\n            this.restore();\n          },\n          beginAnnotations: function CanvasGraphics_beginAnnotations() {\n            this.save();\n\n            if (this.baseTransform) {\n              this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n            }\n          },\n          endAnnotations: function CanvasGraphics_endAnnotations() {\n            this.restore();\n          },\n          beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform, matrix) {\n            this.save();\n            resetCtxToDefault(this.ctx);\n            this.current = new CanvasExtraState();\n\n            if ((0, _util.isArray)(rect) && rect.length === 4) {\n              var width = rect[2] - rect[0];\n              var height = rect[3] - rect[1];\n              this.ctx.rect(rect[0], rect[1], width, height);\n              this.clip();\n              this.endPath();\n            }\n\n            this.transform.apply(this, transform);\n            this.transform.apply(this, matrix);\n          },\n          endAnnotation: function CanvasGraphics_endAnnotation() {\n            this.restore();\n          },\n          paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n            var domImage = this.objs.get(objId);\n\n            if (!domImage) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            this.save();\n            var ctx = this.ctx;\n            ctx.scale(1 / w, -1 / h);\n            ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height, 0, -h, w, h);\n\n            if (this.imageLayer) {\n              var currentTransform = ctx.mozCurrentTransformInverse;\n              var position = this.getCanvasPosition(0, 0);\n              this.imageLayer.appendImage({\n                objId: objId,\n                left: position[0],\n                top: position[1],\n                width: w / currentTransform[0],\n                height: h / currentTransform[3]\n              });\n            }\n\n            this.restore();\n          },\n          paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n            var ctx = this.ctx;\n            var width = img.width,\n                height = img.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var glyph = this.processingType3;\n\n            if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n              if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n                glyph.compiled = compileType3Glyph({\n                  data: img.data,\n                  width: width,\n                  height: height\n                });\n              } else {\n                glyph.compiled = null;\n              }\n            }\n\n            if (glyph && glyph.compiled) {\n              glyph.compiled(ctx);\n              return;\n            }\n\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n            putBinaryImageMask(maskCtx, img);\n            maskCtx.globalCompositeOperation = 'source-in';\n            maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n            maskCtx.restore();\n            this.paintInlineImageXObject(maskCanvas.canvas);\n          },\n          paintImageMaskXObjectRepeat: function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX, scaleY, positions) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n            var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n            var maskCtx = maskCanvas.context;\n            maskCtx.save();\n            putBinaryImageMask(maskCtx, imgData);\n            maskCtx.globalCompositeOperation = 'source-in';\n            maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n            maskCtx.fillRect(0, 0, width, height);\n            maskCtx.restore();\n            var ctx = this.ctx;\n\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              ctx.save();\n              ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n          paintImageMaskXObjectGroup: function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n            var ctx = this.ctx;\n            var fillColor = this.current.fillColor;\n            var isPatternFill = this.current.patternFill;\n\n            for (var i = 0, ii = images.length; i < ii; i++) {\n              var image = images[i];\n              var width = image.width,\n                  height = image.height;\n              var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas', width, height);\n              var maskCtx = maskCanvas.context;\n              maskCtx.save();\n              putBinaryImageMask(maskCtx, image);\n              maskCtx.globalCompositeOperation = 'source-in';\n              maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this) : fillColor;\n              maskCtx.fillRect(0, 0, width, height);\n              maskCtx.restore();\n              ctx.save();\n              ctx.transform.apply(ctx, image.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n              ctx.restore();\n            }\n          },\n          paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n            var imgData = this.objs.get(objId);\n\n            if (!imgData) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            this.paintInlineImageXObject(imgData);\n          },\n          paintImageXObjectRepeat: function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n            var imgData = this.objs.get(objId);\n\n            if (!imgData) {\n              (0, _util.warn)('Dependent image isn\\'t ready yet');\n              return;\n            }\n\n            var width = imgData.width;\n            var height = imgData.height;\n            var map = [];\n\n            for (var i = 0, ii = positions.length; i < ii; i += 2) {\n              map.push({\n                transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n                x: 0,\n                y: 0,\n                w: width,\n                h: height\n              });\n            }\n\n            this.paintInlineImageXObjectGroup(imgData, map);\n          },\n          paintInlineImageXObject: function CanvasGraphics_paintInlineImageXObject(imgData) {\n            var width = imgData.width;\n            var height = imgData.height;\n            var ctx = this.ctx;\n            this.save();\n            ctx.scale(1 / width, -1 / height);\n            var currentTransform = ctx.mozCurrentTransformInverse;\n            var a = currentTransform[0],\n                b = currentTransform[1];\n            var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n            var c = currentTransform[2],\n                d = currentTransform[3];\n            var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n            var imgToPaint, tmpCanvas;\n\n            if (imgData instanceof HTMLElement || !imgData.data) {\n              imgToPaint = imgData;\n            } else {\n              tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', width, height);\n              var tmpCtx = tmpCanvas.context;\n              putBinaryImageData(tmpCtx, imgData);\n              imgToPaint = tmpCanvas.canvas;\n            }\n\n            var paintWidth = width,\n                paintHeight = height;\n            var tmpCanvasId = 'prescale1';\n\n            while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n              var newWidth = paintWidth,\n                  newHeight = paintHeight;\n\n              if (widthScale > 2 && paintWidth > 1) {\n                newWidth = Math.ceil(paintWidth / 2);\n                widthScale /= paintWidth / newWidth;\n              }\n\n              if (heightScale > 2 && paintHeight > 1) {\n                newHeight = Math.ceil(paintHeight / 2);\n                heightScale /= paintHeight / newHeight;\n              }\n\n              tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n              tmpCtx = tmpCanvas.context;\n              tmpCtx.clearRect(0, 0, newWidth, newHeight);\n              tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n              imgToPaint = tmpCanvas.canvas;\n              paintWidth = newWidth;\n              paintHeight = newHeight;\n              tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n            }\n\n            ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight, 0, -height, width, height);\n\n            if (this.imageLayer) {\n              var position = this.getCanvasPosition(0, -height);\n              this.imageLayer.appendImage({\n                imgData: imgData,\n                left: position[0],\n                top: position[1],\n                width: width / currentTransform[0],\n                height: height / currentTransform[3]\n              });\n            }\n\n            this.restore();\n          },\n          paintInlineImageXObjectGroup: function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n            var ctx = this.ctx;\n            var w = imgData.width;\n            var h = imgData.height;\n            var tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', w, h);\n            var tmpCtx = tmpCanvas.context;\n            putBinaryImageData(tmpCtx, imgData);\n\n            for (var i = 0, ii = map.length; i < ii; i++) {\n              var entry = map[i];\n              ctx.save();\n              ctx.transform.apply(ctx, entry.transform);\n              ctx.scale(1, -1);\n              ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n\n              if (this.imageLayer) {\n                var position = this.getCanvasPosition(entry.x, entry.y);\n                this.imageLayer.appendImage({\n                  imgData: imgData,\n                  left: position[0],\n                  top: position[1],\n                  width: w,\n                  height: h\n                });\n              }\n\n              ctx.restore();\n            }\n          },\n          paintSolidColorImageMask: function CanvasGraphics_paintSolidColorImageMask() {\n            this.ctx.fillRect(0, 0, 1, 1);\n          },\n          paintXObject: function CanvasGraphics_paintXObject() {\n            (0, _util.warn)('Unsupported \\'paintXObject\\' command.');\n          },\n          markPoint: function CanvasGraphics_markPoint(tag) {},\n          markPointProps: function CanvasGraphics_markPointProps(tag, properties) {},\n          beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {},\n          beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(tag, properties) {},\n          endMarkedContent: function CanvasGraphics_endMarkedContent() {},\n          beginCompat: function CanvasGraphics_beginCompat() {},\n          endCompat: function CanvasGraphics_endCompat() {},\n          consumePath: function CanvasGraphics_consumePath() {\n            var ctx = this.ctx;\n\n            if (this.pendingClip) {\n              if (this.pendingClip === EO_CLIP) {\n                ctx.clip('evenodd');\n              } else {\n                ctx.clip();\n              }\n\n              this.pendingClip = null;\n            }\n\n            ctx.beginPath();\n          },\n          getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n            if (this.cachedGetSinglePixelWidth === null) {\n              this.ctx.save();\n              var inverse = this.ctx.mozCurrentTransformInverse;\n              this.ctx.restore();\n              this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(inverse[0] * inverse[0] + inverse[1] * inverse[1], inverse[2] * inverse[2] + inverse[3] * inverse[3]));\n            }\n\n            return this.cachedGetSinglePixelWidth;\n          },\n          getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n            var transform = this.ctx.mozCurrentTransform;\n            return [transform[0] * x + transform[2] * y + transform[4], transform[1] * x + transform[3] * y + transform[5]];\n          }\n        };\n\n        for (var op in _util.OPS) {\n          CanvasGraphics.prototype[_util.OPS[op]] = CanvasGraphics.prototype[op];\n        }\n\n        return CanvasGraphics;\n      }();\n\n      exports.CanvasGraphics = CanvasGraphics;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontLoader = exports.FontFaceObject = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      function FontLoader(docId) {\n        this.docId = docId;\n        this.styleElement = null;\n        this.nativeFontFaces = [];\n        this.loadTestFontId = 0;\n        this.loadingContext = {\n          requests: [],\n          nextRequestId: 0\n        };\n      }\n\n      FontLoader.prototype = {\n        insertRule: function fontLoaderInsertRule(rule) {\n          var styleElement = this.styleElement;\n\n          if (!styleElement) {\n            styleElement = this.styleElement = document.createElement('style');\n            styleElement.id = 'PDFJS_FONT_STYLE_TAG_' + this.docId;\n            document.documentElement.getElementsByTagName('head')[0].appendChild(styleElement);\n          }\n\n          var styleSheet = styleElement.sheet;\n          styleSheet.insertRule(rule, styleSheet.cssRules.length);\n        },\n        clear: function fontLoaderClear() {\n          if (this.styleElement) {\n            this.styleElement.remove();\n            this.styleElement = null;\n          }\n\n          this.nativeFontFaces.forEach(function (nativeFontFace) {\n            document.fonts.delete(nativeFontFace);\n          });\n          this.nativeFontFaces.length = 0;\n        }\n      };\n      {\n        var getLoadTestFont = function getLoadTestFont() {\n          return atob('T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' + 'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' + 'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' + 'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' + 'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' + 'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' + 'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' + 'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' + 'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' + 'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' + 'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' + 'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' + 'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' + 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' + 'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' + 'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' + 'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' + 'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' + 'ABAAAAAAAAAAAD6AAAAAAAAA==');\n        };\n\n        Object.defineProperty(FontLoader.prototype, 'loadTestFont', {\n          get: function get() {\n            return (0, _util.shadow)(this, 'loadTestFont', getLoadTestFont());\n          },\n          configurable: true\n        });\n\n        FontLoader.prototype.addNativeFontFace = function fontLoader_addNativeFontFace(nativeFontFace) {\n          this.nativeFontFaces.push(nativeFontFace);\n          document.fonts.add(nativeFontFace);\n        };\n\n        FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n          var rules = [];\n          var fontsToLoad = [];\n          var fontLoadPromises = [];\n\n          var getNativeFontPromise = function getNativeFontPromise(nativeFontFace) {\n            return nativeFontFace.loaded.catch(function (e) {\n              (0, _util.warn)('Failed to load font \"' + nativeFontFace.family + '\": ' + e);\n            });\n          };\n\n          var isFontLoadingAPISupported = FontLoader.isFontLoadingAPISupported && !FontLoader.isSyncFontLoadingSupported;\n\n          for (var i = 0, ii = fonts.length; i < ii; i++) {\n            var font = fonts[i];\n\n            if (font.attached || font.loading === false) {\n              continue;\n            }\n\n            font.attached = true;\n\n            if (isFontLoadingAPISupported) {\n              var nativeFontFace = font.createNativeFontFace();\n\n              if (nativeFontFace) {\n                this.addNativeFontFace(nativeFontFace);\n                fontLoadPromises.push(getNativeFontPromise(nativeFontFace));\n              }\n            } else {\n              var rule = font.createFontFaceRule();\n\n              if (rule) {\n                this.insertRule(rule);\n                rules.push(rule);\n                fontsToLoad.push(font);\n              }\n            }\n          }\n\n          var request = this.queueLoadingCallback(callback);\n\n          if (isFontLoadingAPISupported) {\n            Promise.all(fontLoadPromises).then(function () {\n              request.complete();\n            });\n          } else if (rules.length > 0 && !FontLoader.isSyncFontLoadingSupported) {\n            this.prepareFontLoadEvent(rules, fontsToLoad, request);\n          } else {\n            request.complete();\n          }\n        };\n\n        FontLoader.prototype.queueLoadingCallback = function FontLoader_queueLoadingCallback(callback) {\n          function LoadLoader_completeRequest() {\n            (0, _util.assert)(!request.end, 'completeRequest() cannot be called twice');\n            request.end = Date.now();\n\n            while (context.requests.length > 0 && context.requests[0].end) {\n              var otherRequest = context.requests.shift();\n              setTimeout(otherRequest.callback, 0);\n            }\n          }\n\n          var context = this.loadingContext;\n          var requestId = 'pdfjs-font-loading-' + context.nextRequestId++;\n          var request = {\n            id: requestId,\n            complete: LoadLoader_completeRequest,\n            callback: callback,\n            started: Date.now()\n          };\n          context.requests.push(request);\n          return request;\n        };\n\n        FontLoader.prototype.prepareFontLoadEvent = function fontLoaderPrepareFontLoadEvent(rules, fonts, request) {\n          function int32(data, offset) {\n            return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n          }\n\n          function spliceString(s, offset, remove, insert) {\n            var chunk1 = s.substr(0, offset);\n            var chunk2 = s.substr(offset + remove);\n            return chunk1 + insert + chunk2;\n          }\n\n          var i, ii;\n          var canvas = document.createElement('canvas');\n          canvas.width = 1;\n          canvas.height = 1;\n          var ctx = canvas.getContext('2d');\n          var called = 0;\n\n          function isFontReady(name, callback) {\n            called++;\n\n            if (called > 30) {\n              (0, _util.warn)('Load test font never loaded.');\n              callback();\n              return;\n            }\n\n            ctx.font = '30px ' + name;\n            ctx.fillText('.', 0, 20);\n            var imageData = ctx.getImageData(0, 0, 1, 1);\n\n            if (imageData.data[3] > 0) {\n              callback();\n              return;\n            }\n\n            setTimeout(isFontReady.bind(null, name, callback));\n          }\n\n          var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n          var data = this.loadTestFont;\n          var COMMENT_OFFSET = 976;\n          data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n          var CFF_CHECKSUM_OFFSET = 16;\n          var XXXX_VALUE = 0x58585858;\n          var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n\n          for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n            checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n          }\n\n          if (i < loadTestFontId.length) {\n            checksum = checksum - XXXX_VALUE + int32(loadTestFontId + 'XXX', i) | 0;\n          }\n\n          data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0, _util.string32)(checksum));\n          var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n          var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' + url + '}';\n          this.insertRule(rule);\n          var names = [];\n\n          for (i = 0, ii = fonts.length; i < ii; i++) {\n            names.push(fonts[i].loadedName);\n          }\n\n          names.push(loadTestFontId);\n          var div = document.createElement('div');\n          div.setAttribute('style', 'visibility: hidden;' + 'width: 10px; height: 10px;' + 'position: absolute; top: 0px; left: 0px;');\n\n          for (i = 0, ii = names.length; i < ii; ++i) {\n            var span = document.createElement('span');\n            span.textContent = 'Hi';\n            span.style.fontFamily = names[i];\n            div.appendChild(span);\n          }\n\n          document.body.appendChild(div);\n          isFontReady(loadTestFontId, function () {\n            document.body.removeChild(div);\n            request.complete();\n          });\n        };\n      }\n      {\n        FontLoader.isFontLoadingAPISupported = typeof document !== 'undefined' && !!document.fonts;\n      }\n      {\n        var isSyncFontLoadingSupported = function isSyncFontLoadingSupported() {\n          if (typeof navigator === 'undefined') {\n            return true;\n          }\n\n          var supported = false;\n          var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n\n          if (m && m[1] >= 14) {\n            supported = true;\n          }\n\n          return supported;\n        };\n\n        Object.defineProperty(FontLoader, 'isSyncFontLoadingSupported', {\n          get: function get() {\n            return (0, _util.shadow)(FontLoader, 'isSyncFontLoadingSupported', isSyncFontLoadingSupported());\n          },\n          enumerable: true,\n          configurable: true\n        });\n      }\n      var IsEvalSupportedCached = {\n        get value() {\n          return (0, _util.shadow)(this, 'value', (0, _util.isEvalSupported)());\n        }\n\n      };\n\n      var FontFaceObject = function FontFaceObjectClosure() {\n        function FontFaceObject(translatedData, options) {\n          this.compiledGlyphs = Object.create(null);\n\n          for (var i in translatedData) {\n            this[i] = translatedData[i];\n          }\n\n          this.options = options;\n        }\n\n        FontFaceObject.prototype = {\n          createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n            if (!this.data) {\n              return null;\n            }\n\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n\n            var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this);\n            }\n\n            return nativeFontFace;\n          },\n          createFontFaceRule: function FontFaceObject_createFontFaceRule() {\n            if (!this.data) {\n              return null;\n            }\n\n            if (this.options.disableFontFace) {\n              this.disableFontFace = true;\n              return null;\n            }\n\n            var data = (0, _util.bytesToString)(new Uint8Array(this.data));\n            var fontName = this.loadedName;\n            var url = 'url(data:' + this.mimetype + ';base64,' + btoa(data) + ');';\n            var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n\n            if (this.options.fontRegistry) {\n              this.options.fontRegistry.registerFont(this, url);\n            }\n\n            return rule;\n          },\n          getPathGenerator: function FontFaceObject_getPathGenerator(objs, character) {\n            if (!(character in this.compiledGlyphs)) {\n              var cmds = objs.get(this.loadedName + '_path_' + character);\n              var current, i, len;\n\n              if (this.options.isEvalSupported && IsEvalSupportedCached.value) {\n                var args,\n                    js = '';\n\n                for (i = 0, len = cmds.length; i < len; i++) {\n                  current = cmds[i];\n\n                  if (current.args !== undefined) {\n                    args = current.args.join(',');\n                  } else {\n                    args = '';\n                  }\n\n                  js += 'c.' + current.cmd + '(' + args + ');\\n';\n                }\n\n                this.compiledGlyphs[character] = new Function('c', 'size', js);\n              } else {\n                this.compiledGlyphs[character] = function (c, size) {\n                  for (i = 0, len = cmds.length; i < len; i++) {\n                    current = cmds[i];\n\n                    if (current.cmd === 'scale') {\n                      current.args = [size, -size];\n                    }\n\n                    c[current.cmd].apply(c, current.args);\n                  }\n                };\n              }\n            }\n\n            return this.compiledGlyphs[character];\n          }\n        };\n        return FontFaceObject;\n      }();\n\n      exports.FontFaceObject = FontFaceObject;\n      exports.FontLoader = FontLoader;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TilingPattern = exports.getShadingPatternFromIR = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var _webgl = __w_pdfjs_require__(7);\n\n      var ShadingIRs = {};\n      ShadingIRs.RadialAxial = {\n        fromIR: function RadialAxial_fromIR(raw) {\n          var type = raw[1];\n          var colorStops = raw[2];\n          var p0 = raw[3];\n          var p1 = raw[4];\n          var r0 = raw[5];\n          var r1 = raw[6];\n          return {\n            type: 'Pattern',\n            getPattern: function RadialAxial_getPattern(ctx) {\n              var grad;\n\n              if (type === 'axial') {\n                grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n              } else if (type === 'radial') {\n                grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n              }\n\n              for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n                var c = colorStops[i];\n                grad.addColorStop(c[0], c[1]);\n              }\n\n              return grad;\n            }\n          };\n        }\n      };\n\n      var createMeshCanvas = function createMeshCanvasClosure() {\n        function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n          var coords = context.coords,\n              colors = context.colors;\n          var bytes = data.data,\n              rowSize = data.width * 4;\n          var tmp;\n\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n\n          if (coords[p2 + 1] > coords[p3 + 1]) {\n            tmp = p2;\n            p2 = p3;\n            p3 = tmp;\n            tmp = c2;\n            c2 = c3;\n            c3 = tmp;\n          }\n\n          if (coords[p1 + 1] > coords[p2 + 1]) {\n            tmp = p1;\n            p1 = p2;\n            p2 = tmp;\n            tmp = c1;\n            c1 = c2;\n            c2 = tmp;\n          }\n\n          var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n          var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n          var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n          var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n          var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n          var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n\n          if (y1 >= y3) {\n            return;\n          }\n\n          var c1r = colors[c1],\n              c1g = colors[c1 + 1],\n              c1b = colors[c1 + 2];\n          var c2r = colors[c2],\n              c2g = colors[c2 + 1],\n              c2b = colors[c2 + 2];\n          var c3r = colors[c3],\n              c3g = colors[c3 + 1],\n              c3b = colors[c3 + 2];\n          var minY = Math.round(y1),\n              maxY = Math.round(y3);\n          var xa, car, cag, cab;\n          var xb, cbr, cbg, cbb;\n          var k;\n\n          for (var y = minY; y <= maxY; y++) {\n            if (y < y2) {\n              k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n              xa = x1 - (x1 - x2) * k;\n              car = c1r - (c1r - c2r) * k;\n              cag = c1g - (c1g - c2g) * k;\n              cab = c1b - (c1b - c2b) * k;\n            } else {\n              k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n              xa = x2 - (x2 - x3) * k;\n              car = c2r - (c2r - c3r) * k;\n              cag = c2g - (c2g - c3g) * k;\n              cab = c2b - (c2b - c3b) * k;\n            }\n\n            k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n            xb = x1 - (x1 - x3) * k;\n            cbr = c1r - (c1r - c3r) * k;\n            cbg = c1g - (c1g - c3g) * k;\n            cbb = c1b - (c1b - c3b) * k;\n            var x1_ = Math.round(Math.min(xa, xb));\n            var x2_ = Math.round(Math.max(xa, xb));\n            var j = rowSize * y + x1_ * 4;\n\n            for (var x = x1_; x <= x2_; x++) {\n              k = (xa - x) / (xa - xb);\n              k = k < 0 ? 0 : k > 1 ? 1 : k;\n              bytes[j++] = car - (car - cbr) * k | 0;\n              bytes[j++] = cag - (cag - cbg) * k | 0;\n              bytes[j++] = cab - (cab - cbb) * k | 0;\n              bytes[j++] = 255;\n            }\n          }\n        }\n\n        function drawFigure(data, figure, context) {\n          var ps = figure.coords;\n          var cs = figure.colors;\n          var i, ii;\n\n          switch (figure.type) {\n            case 'lattice':\n              var verticesPerRow = figure.verticesPerRow;\n              var rows = Math.floor(ps.length / verticesPerRow) - 1;\n              var cols = verticesPerRow - 1;\n\n              for (i = 0; i < rows; i++) {\n                var q = i * verticesPerRow;\n\n                for (var j = 0; j < cols; j++, q++) {\n                  drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n                  drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n                }\n              }\n\n              break;\n\n            case 'triangles':\n              for (i = 0, ii = ps.length; i < ii; i += 3) {\n                drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n              }\n\n              break;\n\n            default:\n              throw new Error('illegal figure');\n          }\n        }\n\n        function createMeshCanvas(bounds, combinesScale, coords, colors, figures, backgroundColor, cachedCanvases) {\n          var EXPECTED_SCALE = 1.1;\n          var MAX_PATTERN_SIZE = 3000;\n          var BORDER_SIZE = 2;\n          var offsetX = Math.floor(bounds[0]);\n          var offsetY = Math.floor(bounds[1]);\n          var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n          var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n          var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n          var scaleX = boundsWidth / width;\n          var scaleY = boundsHeight / height;\n          var context = {\n            coords: coords,\n            colors: colors,\n            offsetX: -offsetX,\n            offsetY: -offsetY,\n            scaleX: 1 / scaleX,\n            scaleY: 1 / scaleY\n          };\n          var paddedWidth = width + BORDER_SIZE * 2;\n          var paddedHeight = height + BORDER_SIZE * 2;\n          var canvas, tmpCanvas, i, ii;\n\n          if (_webgl.WebGLUtils.isEnabled) {\n            canvas = _webgl.WebGLUtils.drawFigures(width, height, backgroundColor, figures, context);\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight, false);\n            tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          } else {\n            tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight, false);\n            var tmpCtx = tmpCanvas.context;\n            var data = tmpCtx.createImageData(width, height);\n\n            if (backgroundColor) {\n              var bytes = data.data;\n\n              for (i = 0, ii = bytes.length; i < ii; i += 4) {\n                bytes[i] = backgroundColor[0];\n                bytes[i + 1] = backgroundColor[1];\n                bytes[i + 2] = backgroundColor[2];\n                bytes[i + 3] = 255;\n              }\n            }\n\n            for (i = 0; i < figures.length; i++) {\n              drawFigure(data, figures[i], context);\n            }\n\n            tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n            canvas = tmpCanvas.canvas;\n          }\n\n          return {\n            canvas: canvas,\n            offsetX: offsetX - BORDER_SIZE * scaleX,\n            offsetY: offsetY - BORDER_SIZE * scaleY,\n            scaleX: scaleX,\n            scaleY: scaleY\n          };\n        }\n\n        return createMeshCanvas;\n      }();\n\n      ShadingIRs.Mesh = {\n        fromIR: function Mesh_fromIR(raw) {\n          var coords = raw[2];\n          var colors = raw[3];\n          var figures = raw[4];\n          var bounds = raw[5];\n          var matrix = raw[6];\n          var background = raw[8];\n          return {\n            type: 'Pattern',\n            getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n              var scale;\n\n              if (shadingFill) {\n                scale = _util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n              } else {\n                scale = _util.Util.singularValueDecompose2dScale(owner.baseTransform);\n\n                if (matrix) {\n                  var matrixScale = _util.Util.singularValueDecompose2dScale(matrix);\n\n                  scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n                }\n              }\n\n              var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords, colors, figures, shadingFill ? null : background, owner.cachedCanvases);\n\n              if (!shadingFill) {\n                ctx.setTransform.apply(ctx, owner.baseTransform);\n\n                if (matrix) {\n                  ctx.transform.apply(ctx, matrix);\n                }\n              }\n\n              ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n              ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n              return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n            }\n          };\n        }\n      };\n      ShadingIRs.Dummy = {\n        fromIR: function Dummy_fromIR() {\n          return {\n            type: 'Pattern',\n            getPattern: function Dummy_fromIR_getPattern() {\n              return 'hotpink';\n            }\n          };\n        }\n      };\n\n      function getShadingPatternFromIR(raw) {\n        var shadingIR = ShadingIRs[raw[0]];\n\n        if (!shadingIR) {\n          throw new Error('Unknown IR type: ' + raw[0]);\n        }\n\n        return shadingIR.fromIR(raw);\n      }\n\n      var TilingPattern = function TilingPatternClosure() {\n        var PaintType = {\n          COLORED: 1,\n          UNCOLORED: 2\n        };\n        var MAX_PATTERN_SIZE = 3000;\n\n        function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n          this.operatorList = IR[2];\n          this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n          this.bbox = IR[4];\n          this.xstep = IR[5];\n          this.ystep = IR[6];\n          this.paintType = IR[7];\n          this.tilingType = IR[8];\n          this.color = color;\n          this.canvasGraphicsFactory = canvasGraphicsFactory;\n          this.baseTransform = baseTransform;\n          this.type = 'Pattern';\n          this.ctx = ctx;\n        }\n\n        TilingPattern.prototype = {\n          createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n            var operatorList = this.operatorList;\n            var bbox = this.bbox;\n            var xstep = this.xstep;\n            var ystep = this.ystep;\n            var paintType = this.paintType;\n            var tilingType = this.tilingType;\n            var color = this.color;\n            var canvasGraphicsFactory = this.canvasGraphicsFactory;\n            (0, _util.info)('TilingType: ' + tilingType);\n            var x0 = bbox[0],\n                y0 = bbox[1],\n                x1 = bbox[2],\n                y1 = bbox[3];\n            var topLeft = [x0, y0];\n            var botRight = [x0 + xstep, y0 + ystep];\n            var width = botRight[0] - topLeft[0];\n            var height = botRight[1] - topLeft[1];\n\n            var matrixScale = _util.Util.singularValueDecompose2dScale(this.matrix);\n\n            var curMatrixScale = _util.Util.singularValueDecompose2dScale(this.baseTransform);\n\n            var combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n            width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])), MAX_PATTERN_SIZE);\n            height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])), MAX_PATTERN_SIZE);\n            var tmpCanvas = owner.cachedCanvases.getCanvas('pattern', width, height, true);\n            var tmpCtx = tmpCanvas.context;\n            var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n            graphics.groupLevel = owner.groupLevel;\n            this.setFillAndStrokeStyleToContext(tmpCtx, paintType, color);\n            this.setScale(width, height, xstep, ystep);\n            this.transformToScale(graphics);\n            var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n            graphics.transform.apply(graphics, tmpTranslate);\n            this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n            graphics.executeOperatorList(operatorList);\n            return tmpCanvas.canvas;\n          },\n          setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n            this.scale = [width / xstep, height / ystep];\n          },\n          transformToScale: function TilingPattern_transformToScale(graphics) {\n            var scale = this.scale;\n            var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n            graphics.transform.apply(graphics, tmpScale);\n          },\n          scaleToContext: function TilingPattern_scaleToContext() {\n            var scale = this.scale;\n            this.ctx.scale(1 / scale[0], 1 / scale[1]);\n          },\n          clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n            if ((0, _util.isArray)(bbox) && bbox.length === 4) {\n              var bboxWidth = x1 - x0;\n              var bboxHeight = y1 - y0;\n              graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n              graphics.clip();\n              graphics.endPath();\n            }\n          },\n          setFillAndStrokeStyleToContext: function setFillAndStrokeStyleToContext(context, paintType, color) {\n            switch (paintType) {\n              case PaintType.COLORED:\n                var ctx = this.ctx;\n                context.fillStyle = ctx.fillStyle;\n                context.strokeStyle = ctx.strokeStyle;\n                break;\n\n              case PaintType.UNCOLORED:\n                var cssColor = _util.Util.makeCssRgb(color[0], color[1], color[2]);\n\n                context.fillStyle = cssColor;\n                context.strokeStyle = cssColor;\n                break;\n\n              default:\n                throw new _util.FormatError('Unsupported paint type: ' + paintType);\n            }\n          },\n          getPattern: function TilingPattern_getPattern(ctx, owner) {\n            var temporaryPatternCanvas = this.createPatternCanvas(owner);\n            ctx = this.ctx;\n            ctx.setTransform.apply(ctx, this.baseTransform);\n            ctx.transform.apply(ctx, this.matrix);\n            this.scaleToContext();\n            return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n          }\n        };\n        return TilingPattern;\n      }();\n\n      exports.getShadingPatternFromIR = getShadingPatternFromIR;\n      exports.TilingPattern = TilingPattern;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PDFDataTransportStream = undefined;\n\n      var _util = __w_pdfjs_require__(0);\n\n      var PDFDataTransportStream = function PDFDataTransportStreamClosure() {\n        function PDFDataTransportStream(params, pdfDataRangeTransport) {\n          var _this = this;\n\n          (0, _util.assert)(pdfDataRangeTransport);\n          this._queuedChunks = [];\n          var initialData = params.initialData;\n\n          if (initialData && initialData.length > 0) {\n            var buffer = new Uint8Array(initialData).buffer;\n\n            this._queuedChunks.push(buffer);\n          }\n\n          this._pdfDataRangeTransport = pdfDataRangeTransport;\n          this._isRangeSupported = !params.disableRange;\n          this._isStreamingSupported = !params.disableStream;\n          this._contentLength = params.length;\n          this._fullRequestReader = null;\n          this._rangeReaders = [];\n\n          this._pdfDataRangeTransport.addRangeListener(function (begin, chunk) {\n            _this._onReceiveData({\n              begin: begin,\n              chunk: chunk\n            });\n          });\n\n          this._pdfDataRangeTransport.addProgressListener(function (loaded) {\n            _this._onProgress({\n              loaded: loaded\n            });\n          });\n\n          this._pdfDataRangeTransport.addProgressiveReadListener(function (chunk) {\n            _this._onReceiveData({\n              chunk: chunk\n            });\n          });\n\n          this._pdfDataRangeTransport.transportReady();\n        }\n\n        PDFDataTransportStream.prototype = {\n          _onReceiveData: function PDFDataTransportStream_onReceiveData(args) {\n            var buffer = new Uint8Array(args.chunk).buffer;\n\n            if (args.begin === undefined) {\n              if (this._fullRequestReader) {\n                this._fullRequestReader._enqueue(buffer);\n              } else {\n                this._queuedChunks.push(buffer);\n              }\n            } else {\n              var found = this._rangeReaders.some(function (rangeReader) {\n                if (rangeReader._begin !== args.begin) {\n                  return false;\n                }\n\n                rangeReader._enqueue(buffer);\n\n                return true;\n              });\n\n              (0, _util.assert)(found);\n            }\n          },\n          _onProgress: function PDFDataTransportStream_onDataProgress(evt) {\n            if (this._rangeReaders.length > 0) {\n              var firstReader = this._rangeReaders[0];\n\n              if (firstReader.onProgress) {\n                firstReader.onProgress({\n                  loaded: evt.loaded\n                });\n              }\n            }\n          },\n          _removeRangeReader: function PDFDataTransportStream_removeRangeReader(reader) {\n            var i = this._rangeReaders.indexOf(reader);\n\n            if (i >= 0) {\n              this._rangeReaders.splice(i, 1);\n            }\n          },\n          getFullReader: function PDFDataTransportStream_getFullReader() {\n            (0, _util.assert)(!this._fullRequestReader);\n            var queuedChunks = this._queuedChunks;\n            this._queuedChunks = null;\n            return new PDFDataTransportStreamReader(this, queuedChunks);\n          },\n          getRangeReader: function PDFDataTransportStream_getRangeReader(begin, end) {\n            var reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n\n            this._pdfDataRangeTransport.requestDataRange(begin, end);\n\n            this._rangeReaders.push(reader);\n\n            return reader;\n          },\n          cancelAllRequests: function PDFDataTransportStream_cancelAllRequests(reason) {\n            if (this._fullRequestReader) {\n              this._fullRequestReader.cancel(reason);\n            }\n\n            var readers = this._rangeReaders.slice(0);\n\n            readers.forEach(function (rangeReader) {\n              rangeReader.cancel(reason);\n            });\n\n            this._pdfDataRangeTransport.abort();\n          }\n        };\n\n        function PDFDataTransportStreamReader(stream, queuedChunks) {\n          this._stream = stream;\n          this._done = false;\n          this._queuedChunks = queuedChunks || [];\n          this._requests = [];\n          this._headersReady = Promise.resolve();\n          stream._fullRequestReader = this;\n          this.onProgress = null;\n        }\n\n        PDFDataTransportStreamReader.prototype = {\n          _enqueue: function PDFDataTransportStreamReader_enqueue(chunk) {\n            if (this._done) {\n              return;\n            }\n\n            if (this._requests.length > 0) {\n              var requestCapability = this._requests.shift();\n\n              requestCapability.resolve({\n                value: chunk,\n                done: false\n              });\n              return;\n            }\n\n            this._queuedChunks.push(chunk);\n          },\n\n          get headersReady() {\n            return this._headersReady;\n          },\n\n          get isRangeSupported() {\n            return this._stream._isRangeSupported;\n          },\n\n          get isStreamingSupported() {\n            return this._stream._isStreamingSupported;\n          },\n\n          get contentLength() {\n            return this._stream._contentLength;\n          },\n\n          read: function PDFDataTransportStreamReader_read() {\n            if (this._queuedChunks.length > 0) {\n              var chunk = this._queuedChunks.shift();\n\n              return Promise.resolve({\n                value: chunk,\n                done: false\n              });\n            }\n\n            if (this._done) {\n              return Promise.resolve({\n                value: undefined,\n                done: true\n              });\n            }\n\n            var requestCapability = (0, _util.createPromiseCapability)();\n\n            this._requests.push(requestCapability);\n\n            return requestCapability.promise;\n          },\n          cancel: function PDFDataTransportStreamReader_cancel(reason) {\n            this._done = true;\n\n            this._requests.forEach(function (requestCapability) {\n              requestCapability.resolve({\n                value: undefined,\n                done: true\n              });\n            });\n\n            this._requests = [];\n          }\n        };\n\n        function PDFDataTransportStreamRangeReader(stream, begin, end) {\n          this._stream = stream;\n          this._begin = begin;\n          this._end = end;\n          this._queuedChunk = null;\n          this._requests = [];\n          this._done = false;\n          this.onProgress = null;\n        }\n\n        PDFDataTransportStreamRangeReader.prototype = {\n          _enqueue: function PDFDataTransportStreamRangeReader_enqueue(chunk) {\n            if (this._done) {\n              return;\n            }\n\n            if (this._requests.length === 0) {\n              this._queuedChunk = chunk;\n            } else {\n              var requestsCapability = this._requests.shift();\n\n              requestsCapability.resolve({\n                value: chunk,\n                done: false\n              });\n\n              this._requests.forEach(function (requestCapability) {\n                requestCapability.resolve({\n                  value: undefined,\n                  done: true\n                });\n              });\n\n              this._requests = [];\n            }\n\n            this._done = true;\n\n            this._stream._removeRangeReader(this);\n          },\n\n          get isStreamingSupported() {\n            return false;\n          },\n\n          read: function PDFDataTransportStreamRangeReader_read() {\n            if (this._queuedChunk) {\n              var chunk = this._queuedChunk;\n              this._queuedChunk = null;\n              return Promise.resolve({\n                value: chunk,\n                done: false\n              });\n            }\n\n            if (this._done) {\n              return Promise.resolve({\n                value: undefined,\n                done: true\n              });\n            }\n\n            var requestCapability = (0, _util.createPromiseCapability)();\n\n            this._requests.push(requestCapability);\n\n            return requestCapability.promise;\n          },\n          cancel: function PDFDataTransportStreamRangeReader_cancel(reason) {\n            this._done = true;\n\n            this._requests.forEach(function (requestCapability) {\n              requestCapability.resolve({\n                value: undefined,\n                done: true\n              });\n            });\n\n            this._requests = [];\n\n            this._stream._removeRangeReader(this);\n          }\n        };\n        return PDFDataTransportStream;\n      }();\n\n      exports.PDFDataTransportStream = PDFDataTransportStream;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var pdfjsVersion = '1.9.426';\n      var pdfjsBuild = '2558a58d';\n\n      var pdfjsSharedUtil = __w_pdfjs_require__(0);\n\n      var pdfjsDisplayGlobal = __w_pdfjs_require__(8);\n\n      var pdfjsDisplayAPI = __w_pdfjs_require__(2);\n\n      var pdfjsDisplayTextLayer = __w_pdfjs_require__(5);\n\n      var pdfjsDisplayAnnotationLayer = __w_pdfjs_require__(3);\n\n      var pdfjsDisplayDOMUtils = __w_pdfjs_require__(1);\n\n      var pdfjsDisplaySVG = __w_pdfjs_require__(4);\n\n      {\n        __w_pdfjs_require__(9);\n      }\n      exports.PDFJS = pdfjsDisplayGlobal.PDFJS;\n      exports.build = pdfjsDisplayAPI.build;\n      exports.version = pdfjsDisplayAPI.version;\n      exports.getDocument = pdfjsDisplayAPI.getDocument;\n      exports.LoopbackPort = pdfjsDisplayAPI.LoopbackPort;\n      exports.PDFDataRangeTransport = pdfjsDisplayAPI.PDFDataRangeTransport;\n      exports.PDFWorker = pdfjsDisplayAPI.PDFWorker;\n      exports.renderTextLayer = pdfjsDisplayTextLayer.renderTextLayer;\n      exports.AnnotationLayer = pdfjsDisplayAnnotationLayer.AnnotationLayer;\n      exports.CustomStyle = pdfjsDisplayDOMUtils.CustomStyle;\n      exports.createPromiseCapability = pdfjsSharedUtil.createPromiseCapability;\n      exports.PasswordResponses = pdfjsSharedUtil.PasswordResponses;\n      exports.InvalidPDFException = pdfjsSharedUtil.InvalidPDFException;\n      exports.MissingPDFException = pdfjsSharedUtil.MissingPDFException;\n      exports.SVGGraphics = pdfjsDisplaySVG.SVGGraphics;\n      exports.NativeImageDecoding = pdfjsSharedUtil.NativeImageDecoding;\n      exports.UnexpectedResponseException = pdfjsSharedUtil.UnexpectedResponseException;\n      exports.OPS = pdfjsSharedUtil.OPS;\n      exports.UNSUPPORTED_FEATURES = pdfjsSharedUtil.UNSUPPORTED_FEATURES;\n      exports.isValidUrl = pdfjsDisplayDOMUtils.isValidUrl;\n      exports.createValidAbsoluteUrl = pdfjsSharedUtil.createValidAbsoluteUrl;\n      exports.createObjectURL = pdfjsSharedUtil.createObjectURL;\n      exports.removeNullCharacters = pdfjsSharedUtil.removeNullCharacters;\n      exports.shadow = pdfjsSharedUtil.shadow;\n      exports.createBlob = pdfjsSharedUtil.createBlob;\n      exports.RenderingCancelledException = pdfjsDisplayDOMUtils.RenderingCancelledException;\n      exports.getFilenameFromUrl = pdfjsDisplayDOMUtils.getFilenameFromUrl;\n      exports.addLinkAttributes = pdfjsDisplayDOMUtils.addLinkAttributes;\n      exports.StatTimer = pdfjsSharedUtil.StatTimer;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      if (typeof PDFJS === 'undefined' || !PDFJS.compatibilityChecked) {\n        var globalScope = typeof window !== 'undefined' && window.Math === Math ? window : typeof global !== 'undefined' && global.Math === Math ? global : typeof self !== 'undefined' && self.Math === Math ? self : false ? undefined : {};\n        var userAgent = typeof navigator !== 'undefined' && navigator.userAgent || '';\n        var isAndroid = /Android/.test(userAgent);\n        var isAndroidPre3 = /Android\\s[0-2][^\\d]/.test(userAgent);\n        var isAndroidPre5 = /Android\\s[0-4][^\\d]/.test(userAgent);\n        var isChrome = userAgent.indexOf('Chrom') >= 0;\n        var isChromeWithRangeBug = /Chrome\\/(39|40)\\./.test(userAgent);\n        var isIOSChrome = userAgent.indexOf('CriOS') >= 0;\n        var isIE = userAgent.indexOf('Trident') >= 0;\n        var isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent);\n        var isOpera = userAgent.indexOf('Opera') >= 0;\n        var isSafari = /Safari\\//.test(userAgent) && !/(Chrome\\/|Android\\s)/.test(userAgent);\n        var hasDOM = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && (typeof document === 'undefined' ? 'undefined' : _typeof(document)) === 'object';\n\n        if (typeof PDFJS === 'undefined') {\n          globalScope.PDFJS = {};\n        }\n\n        PDFJS.compatibilityChecked = true;\n\n        (function checkTypedArrayCompatibility() {\n          if (typeof Uint8Array !== 'undefined') {\n            if (typeof Uint8Array.prototype.subarray === 'undefined') {\n              Uint8Array.prototype.subarray = function subarray(start, end) {\n                return new Uint8Array(this.slice(start, end));\n              };\n\n              Float32Array.prototype.subarray = function subarray(start, end) {\n                return new Float32Array(this.slice(start, end));\n              };\n            }\n\n            if (typeof Float64Array === 'undefined') {\n              globalScope.Float64Array = Float32Array;\n            }\n\n            return;\n          }\n\n          function subarray(start, end) {\n            return new TypedArray(this.slice(start, end));\n          }\n\n          function setArrayOffset(array, offset) {\n            if (arguments.length < 2) {\n              offset = 0;\n            }\n\n            for (var i = 0, n = array.length; i < n; ++i, ++offset) {\n              this[offset] = array[i] & 0xFF;\n            }\n          }\n\n          function Uint32ArrayView(buffer, length) {\n            this.buffer = buffer;\n            this.byteLength = buffer.length;\n            this.length = length;\n            ensureUint32ArrayViewProps(this.length);\n          }\n\n          Uint32ArrayView.prototype = Object.create(null);\n          var uint32ArrayViewSetters = 0;\n\n          function createUint32ArrayProp(index) {\n            return {\n              get: function get() {\n                var buffer = this.buffer,\n                    offset = index << 2;\n                return (buffer[offset] | buffer[offset + 1] << 8 | buffer[offset + 2] << 16 | buffer[offset + 3] << 24) >>> 0;\n              },\n              set: function set(value) {\n                var buffer = this.buffer,\n                    offset = index << 2;\n                buffer[offset] = value & 255;\n                buffer[offset + 1] = value >> 8 & 255;\n                buffer[offset + 2] = value >> 16 & 255;\n                buffer[offset + 3] = value >>> 24 & 255;\n              }\n            };\n          }\n\n          function ensureUint32ArrayViewProps(length) {\n            while (uint32ArrayViewSetters < length) {\n              Object.defineProperty(Uint32ArrayView.prototype, uint32ArrayViewSetters, createUint32ArrayProp(uint32ArrayViewSetters));\n              uint32ArrayViewSetters++;\n            }\n          }\n\n          function TypedArray(arg1) {\n            var result, i, n;\n\n            if (typeof arg1 === 'number') {\n              result = [];\n\n              for (i = 0; i < arg1; ++i) {\n                result[i] = 0;\n              }\n            } else if ('slice' in arg1) {\n              result = arg1.slice(0);\n            } else {\n              result = [];\n\n              for (i = 0, n = arg1.length; i < n; ++i) {\n                result[i] = arg1[i];\n              }\n            }\n\n            result.subarray = subarray;\n            result.buffer = result;\n            result.byteLength = result.length;\n            result.set = setArrayOffset;\n\n            if ((typeof arg1 === 'undefined' ? 'undefined' : _typeof(arg1)) === 'object' && arg1.buffer) {\n              result.buffer = arg1.buffer;\n            }\n\n            return result;\n          }\n\n          globalScope.Uint8Array = TypedArray;\n          globalScope.Int8Array = TypedArray;\n          globalScope.Int32Array = TypedArray;\n          globalScope.Uint16Array = TypedArray;\n          globalScope.Float32Array = TypedArray;\n          globalScope.Float64Array = TypedArray;\n\n          globalScope.Uint32Array = function () {\n            if (arguments.length === 3) {\n              if (arguments[1] !== 0) {\n                throw new Error('offset !== 0 is not supported');\n              }\n\n              return new Uint32ArrayView(arguments[0], arguments[2]);\n            }\n\n            return TypedArray.apply(this, arguments);\n          };\n        })();\n\n        (function canvasPixelArrayBuffer() {\n          if (!hasDOM || !window.CanvasPixelArray) {\n            return;\n          }\n\n          var cpaProto = window.CanvasPixelArray.prototype;\n\n          if ('buffer' in cpaProto) {\n            return;\n          }\n\n          Object.defineProperty(cpaProto, 'buffer', {\n            get: function get() {\n              return this;\n            },\n            enumerable: false,\n            configurable: true\n          });\n          Object.defineProperty(cpaProto, 'byteLength', {\n            get: function get() {\n              return this.length;\n            },\n            enumerable: false,\n            configurable: true\n          });\n        })();\n\n        (function normalizeURLObject() {\n          if (!globalScope.URL) {\n            globalScope.URL = globalScope.webkitURL;\n          }\n        })();\n\n        (function checkObjectDefinePropertyCompatibility() {\n          if (typeof Object.defineProperty !== 'undefined') {\n            var definePropertyPossible = true;\n\n            try {\n              if (hasDOM) {\n                Object.defineProperty(new Image(), 'id', {\n                  value: 'test'\n                });\n              }\n\n              var Test = function Test() {};\n\n              Test.prototype = {\n                get id() {}\n\n              };\n              Object.defineProperty(new Test(), 'id', {\n                value: '',\n                configurable: true,\n                enumerable: true,\n                writable: false\n              });\n            } catch (e) {\n              definePropertyPossible = false;\n            }\n\n            if (definePropertyPossible) {\n              return;\n            }\n          }\n\n          Object.defineProperty = function objectDefineProperty(obj, name, def) {\n            delete obj[name];\n\n            if ('get' in def) {\n              obj.__defineGetter__(name, def['get']);\n            }\n\n            if ('set' in def) {\n              obj.__defineSetter__(name, def['set']);\n            }\n\n            if ('value' in def) {\n              obj.__defineSetter__(name, function objectDefinePropertySetter(value) {\n                this.__defineGetter__(name, function objectDefinePropertyGetter() {\n                  return value;\n                });\n\n                return value;\n              });\n\n              obj[name] = def.value;\n            }\n          };\n        })();\n\n        (function checkXMLHttpRequestResponseCompatibility() {\n          if (typeof XMLHttpRequest === 'undefined') {\n            return;\n          }\n\n          var xhrPrototype = XMLHttpRequest.prototype;\n          var xhr = new XMLHttpRequest();\n\n          if (!('overrideMimeType' in xhr)) {\n            Object.defineProperty(xhrPrototype, 'overrideMimeType', {\n              value: function xmlHttpRequestOverrideMimeType(mimeType) {}\n            });\n          }\n\n          if ('responseType' in xhr) {\n            return;\n          }\n\n          Object.defineProperty(xhrPrototype, 'responseType', {\n            get: function xmlHttpRequestGetResponseType() {\n              return this._responseType || 'text';\n            },\n            set: function xmlHttpRequestSetResponseType(value) {\n              if (value === 'text' || value === 'arraybuffer') {\n                this._responseType = value;\n\n                if (value === 'arraybuffer' && typeof this.overrideMimeType === 'function') {\n                  this.overrideMimeType('text/plain; charset=x-user-defined');\n                }\n              }\n            }\n          });\n\n          if (typeof VBArray !== 'undefined') {\n            Object.defineProperty(xhrPrototype, 'response', {\n              get: function xmlHttpRequestResponseGet() {\n                if (this.responseType === 'arraybuffer') {\n                  return new Uint8Array(new VBArray(this.responseBody).toArray());\n                }\n\n                return this.responseText;\n              }\n            });\n            return;\n          }\n\n          Object.defineProperty(xhrPrototype, 'response', {\n            get: function xmlHttpRequestResponseGet() {\n              if (this.responseType !== 'arraybuffer') {\n                return this.responseText;\n              }\n\n              var text = this.responseText;\n              var i,\n                  n = text.length;\n              var result = new Uint8Array(n);\n\n              for (i = 0; i < n; ++i) {\n                result[i] = text.charCodeAt(i) & 0xFF;\n              }\n\n              return result.buffer;\n            }\n          });\n        })();\n\n        (function checkWindowBtoaCompatibility() {\n          if ('btoa' in globalScope) {\n            return;\n          }\n\n          var digits = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n          globalScope.btoa = function (chars) {\n            var buffer = '';\n            var i, n;\n\n            for (i = 0, n = chars.length; i < n; i += 3) {\n              var b1 = chars.charCodeAt(i) & 0xFF;\n              var b2 = chars.charCodeAt(i + 1) & 0xFF;\n              var b3 = chars.charCodeAt(i + 2) & 0xFF;\n              var d1 = b1 >> 2,\n                  d2 = (b1 & 3) << 4 | b2 >> 4;\n              var d3 = i + 1 < n ? (b2 & 0xF) << 2 | b3 >> 6 : 64;\n              var d4 = i + 2 < n ? b3 & 0x3F : 64;\n              buffer += digits.charAt(d1) + digits.charAt(d2) + digits.charAt(d3) + digits.charAt(d4);\n            }\n\n            return buffer;\n          };\n        })();\n\n        (function checkWindowAtobCompatibility() {\n          if ('atob' in globalScope) {\n            return;\n          }\n\n          var digits = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n          globalScope.atob = function (input) {\n            input = input.replace(/=+$/, '');\n\n            if (input.length % 4 === 1) {\n              throw new Error('bad atob input');\n            }\n\n            for (var bc = 0, bs, buffer, idx = 0, output = ''; buffer = input.charAt(idx++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n              buffer = digits.indexOf(buffer);\n            }\n\n            return output;\n          };\n        })();\n\n        (function checkFunctionPrototypeBindCompatibility() {\n          if (typeof Function.prototype.bind !== 'undefined') {\n            return;\n          }\n\n          Function.prototype.bind = function functionPrototypeBind(obj) {\n            var fn = this,\n                headArgs = Array.prototype.slice.call(arguments, 1);\n\n            var bound = function functionPrototypeBindBound() {\n              var args = headArgs.concat(Array.prototype.slice.call(arguments));\n              return fn.apply(obj, args);\n            };\n\n            return bound;\n          };\n        })();\n\n        (function checkDatasetProperty() {\n          if (!hasDOM) {\n            return;\n          }\n\n          var div = document.createElement('div');\n\n          if ('dataset' in div) {\n            return;\n          }\n\n          Object.defineProperty(HTMLElement.prototype, 'dataset', {\n            get: function get() {\n              if (this._dataset) {\n                return this._dataset;\n              }\n\n              var dataset = {};\n\n              for (var j = 0, jj = this.attributes.length; j < jj; j++) {\n                var attribute = this.attributes[j];\n\n                if (attribute.name.substring(0, 5) !== 'data-') {\n                  continue;\n                }\n\n                var key = attribute.name.substring(5).replace(/\\-([a-z])/g, function (all, ch) {\n                  return ch.toUpperCase();\n                });\n                dataset[key] = attribute.value;\n              }\n\n              Object.defineProperty(this, '_dataset', {\n                value: dataset,\n                writable: false,\n                enumerable: false\n              });\n              return dataset;\n            },\n            enumerable: true\n          });\n        })();\n\n        (function checkClassListProperty() {\n          function changeList(element, itemName, add, remove) {\n            var s = element.className || '';\n            var list = s.split(/\\s+/g);\n\n            if (list[0] === '') {\n              list.shift();\n            }\n\n            var index = list.indexOf(itemName);\n\n            if (index < 0 && add) {\n              list.push(itemName);\n            }\n\n            if (index >= 0 && remove) {\n              list.splice(index, 1);\n            }\n\n            element.className = list.join(' ');\n            return index >= 0;\n          }\n\n          if (!hasDOM) {\n            return;\n          }\n\n          var div = document.createElement('div');\n\n          if ('classList' in div) {\n            return;\n          }\n\n          var classListPrototype = {\n            add: function add(name) {\n              changeList(this.element, name, true, false);\n            },\n            contains: function contains(name) {\n              return changeList(this.element, name, false, false);\n            },\n            remove: function remove(name) {\n              changeList(this.element, name, false, true);\n            },\n            toggle: function toggle(name) {\n              changeList(this.element, name, true, true);\n            }\n          };\n          Object.defineProperty(HTMLElement.prototype, 'classList', {\n            get: function get() {\n              if (this._classList) {\n                return this._classList;\n              }\n\n              var classList = Object.create(classListPrototype, {\n                element: {\n                  value: this,\n                  writable: false,\n                  enumerable: true\n                }\n              });\n              Object.defineProperty(this, '_classList', {\n                value: classList,\n                writable: false,\n                enumerable: false\n              });\n              return classList;\n            },\n            enumerable: true\n          });\n        })();\n\n        (function checkWorkerConsoleCompatibility() {\n          if (typeof importScripts === 'undefined' || 'console' in globalScope) {\n            return;\n          }\n\n          var consoleTimer = {};\n          var workerConsole = {\n            log: function log() {\n              var args = Array.prototype.slice.call(arguments);\n              globalScope.postMessage({\n                targetName: 'main',\n                action: 'console_log',\n                data: args\n              });\n            },\n            error: function error() {\n              var args = Array.prototype.slice.call(arguments);\n              globalScope.postMessage({\n                targetName: 'main',\n                action: 'console_error',\n                data: args\n              });\n            },\n            time: function time(name) {\n              consoleTimer[name] = Date.now();\n            },\n            timeEnd: function timeEnd(name) {\n              var time = consoleTimer[name];\n\n              if (!time) {\n                throw new Error('Unknown timer name ' + name);\n              }\n\n              this.log('Timer:', name, Date.now() - time);\n            }\n          };\n          globalScope.console = workerConsole;\n        })();\n\n        (function checkConsoleCompatibility() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (!('console' in window)) {\n            window.console = {\n              log: function log() {},\n              error: function error() {},\n              warn: function warn() {}\n            };\n            return;\n          }\n\n          if (!('bind' in console.log)) {\n            console.log = function (fn) {\n              return function (msg) {\n                return fn(msg);\n              };\n            }(console.log);\n\n            console.error = function (fn) {\n              return function (msg) {\n                return fn(msg);\n              };\n            }(console.error);\n\n            console.warn = function (fn) {\n              return function (msg) {\n                return fn(msg);\n              };\n            }(console.warn);\n\n            return;\n          }\n        })();\n\n        (function checkOnClickCompatibility() {\n          function ignoreIfTargetDisabled(event) {\n            if (isDisabled(event.target)) {\n              event.stopPropagation();\n            }\n          }\n\n          function isDisabled(node) {\n            return node.disabled || node.parentNode && isDisabled(node.parentNode);\n          }\n\n          if (isOpera) {\n            document.addEventListener('click', ignoreIfTargetDisabled, true);\n          }\n        })();\n\n        (function checkOnBlobSupport() {\n          if (isIE || isIOSChrome) {\n            PDFJS.disableCreateObjectURL = true;\n          }\n        })();\n\n        (function checkNavigatorLanguage() {\n          if (typeof navigator === 'undefined') {\n            return;\n          }\n\n          if ('language' in navigator) {\n            return;\n          }\n\n          PDFJS.locale = navigator.userLanguage || 'en-US';\n        })();\n\n        (function checkRangeRequests() {\n          if (isSafari || isAndroidPre3 || isChromeWithRangeBug || isIOS) {\n            PDFJS.disableRange = true;\n            PDFJS.disableStream = true;\n          }\n        })();\n\n        (function checkHistoryManipulation() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (!history.pushState || isAndroidPre3) {\n            PDFJS.disableHistory = true;\n          }\n        })();\n\n        (function checkSetPresenceInImageData() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (window.CanvasPixelArray) {\n            if (typeof window.CanvasPixelArray.prototype.set !== 'function') {\n              window.CanvasPixelArray.prototype.set = function (arr) {\n                for (var i = 0, ii = this.length; i < ii; i++) {\n                  this[i] = arr[i];\n                }\n              };\n            }\n          } else {\n            var polyfill = false,\n                versionMatch;\n\n            if (isChrome) {\n              versionMatch = userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n              polyfill = versionMatch && parseInt(versionMatch[2]) < 21;\n            } else if (isAndroid) {\n              polyfill = isAndroidPre5;\n            } else if (isSafari) {\n              versionMatch = userAgent.match(/Version\\/([0-9]+)\\.([0-9]+)\\.([0-9]+) Safari\\//);\n              polyfill = versionMatch && parseInt(versionMatch[1]) < 6;\n            }\n\n            if (polyfill) {\n              var contextPrototype = window.CanvasRenderingContext2D.prototype;\n              var createImageData = contextPrototype.createImageData;\n\n              contextPrototype.createImageData = function (w, h) {\n                var imageData = createImageData.call(this, w, h);\n\n                imageData.data.set = function (arr) {\n                  for (var i = 0, ii = this.length; i < ii; i++) {\n                    this[i] = arr[i];\n                  }\n                };\n\n                return imageData;\n              };\n\n              contextPrototype = null;\n            }\n          }\n        })();\n\n        (function checkRequestAnimationFrame() {\n          function installFakeAnimationFrameFunctions() {\n            window.requestAnimationFrame = function (callback) {\n              return window.setTimeout(callback, 20);\n            };\n\n            window.cancelAnimationFrame = function (timeoutID) {\n              window.clearTimeout(timeoutID);\n            };\n          }\n\n          if (!hasDOM) {\n            return;\n          }\n\n          if (isIOS) {\n            installFakeAnimationFrameFunctions();\n            return;\n          }\n\n          if ('requestAnimationFrame' in window) {\n            return;\n          }\n\n          window.requestAnimationFrame = window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;\n\n          if (window.requestAnimationFrame) {\n            return;\n          }\n\n          installFakeAnimationFrameFunctions();\n        })();\n\n        (function checkCanvasSizeLimitation() {\n          if (isIOS || isAndroid) {\n            PDFJS.maxCanvasPixels = 5242880;\n          }\n        })();\n\n        (function checkFullscreenSupport() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (isIE && window.parent !== window) {\n            PDFJS.disableFullscreen = true;\n          }\n        })();\n\n        (function checkCurrentScript() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if ('currentScript' in document) {\n            return;\n          }\n\n          Object.defineProperty(document, 'currentScript', {\n            get: function get() {\n              var scripts = document.getElementsByTagName('script');\n              return scripts[scripts.length - 1];\n            },\n            enumerable: true,\n            configurable: true\n          });\n        })();\n\n        (function checkInputTypeNumberAssign() {\n          if (!hasDOM) {\n            return;\n          }\n\n          var el = document.createElement('input');\n\n          try {\n            el.type = 'number';\n          } catch (ex) {\n            var inputProto = el.constructor.prototype;\n            var typeProperty = Object.getOwnPropertyDescriptor(inputProto, 'type');\n            Object.defineProperty(inputProto, 'type', {\n              get: function get() {\n                return typeProperty.get.call(this);\n              },\n              set: function set(value) {\n                typeProperty.set.call(this, value === 'number' ? 'text' : value);\n              },\n              enumerable: true,\n              configurable: true\n            });\n          }\n        })();\n\n        (function checkDocumentReadyState() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (!document.attachEvent) {\n            return;\n          }\n\n          var documentProto = document.constructor.prototype;\n          var readyStateProto = Object.getOwnPropertyDescriptor(documentProto, 'readyState');\n          Object.defineProperty(documentProto, 'readyState', {\n            get: function get() {\n              var value = readyStateProto.get.call(this);\n              return value === 'interactive' ? 'loading' : value;\n            },\n            set: function set(value) {\n              readyStateProto.set.call(this, value);\n            },\n            enumerable: true,\n            configurable: true\n          });\n        })();\n\n        (function checkChildNodeRemove() {\n          if (!hasDOM) {\n            return;\n          }\n\n          if (typeof Element.prototype.remove !== 'undefined') {\n            return;\n          }\n\n          Element.prototype.remove = function () {\n            if (this.parentNode) {\n              this.parentNode.removeChild(this);\n            }\n          };\n        })();\n\n        (function checkNumberIsNaN() {\n          if (Number.isNaN) {\n            return;\n          }\n\n          Number.isNaN = function (value) {\n            return typeof value === 'number' && isNaN(value);\n          };\n        })();\n\n        (function checkNumberIsInteger() {\n          if (Number.isInteger) {\n            return;\n          }\n\n          Number.isInteger = function (value) {\n            return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n          };\n        })();\n\n        (function checkPromise() {\n          if (globalScope.Promise) {\n            if (typeof globalScope.Promise.all !== 'function') {\n              globalScope.Promise.all = function (iterable) {\n                var count = 0,\n                    results = [],\n                    resolve,\n                    reject;\n                var promise = new globalScope.Promise(function (resolve_, reject_) {\n                  resolve = resolve_;\n                  reject = reject_;\n                });\n                iterable.forEach(function (p, i) {\n                  count++;\n                  p.then(function (result) {\n                    results[i] = result;\n                    count--;\n\n                    if (count === 0) {\n                      resolve(results);\n                    }\n                  }, reject);\n                });\n\n                if (count === 0) {\n                  resolve(results);\n                }\n\n                return promise;\n              };\n            }\n\n            if (typeof globalScope.Promise.resolve !== 'function') {\n              globalScope.Promise.resolve = function (value) {\n                return new globalScope.Promise(function (resolve) {\n                  resolve(value);\n                });\n              };\n            }\n\n            if (typeof globalScope.Promise.reject !== 'function') {\n              globalScope.Promise.reject = function (reason) {\n                return new globalScope.Promise(function (resolve, reject) {\n                  reject(reason);\n                });\n              };\n            }\n\n            if (typeof globalScope.Promise.prototype.catch !== 'function') {\n              globalScope.Promise.prototype.catch = function (onReject) {\n                return globalScope.Promise.prototype.then(undefined, onReject);\n              };\n            }\n\n            return;\n          }\n\n          var STATUS_PENDING = 0;\n          var STATUS_RESOLVED = 1;\n          var STATUS_REJECTED = 2;\n          var REJECTION_TIMEOUT = 500;\n          var HandlerManager = {\n            handlers: [],\n            running: false,\n            unhandledRejections: [],\n            pendingRejectionCheck: false,\n            scheduleHandlers: function scheduleHandlers(promise) {\n              if (promise._status === STATUS_PENDING) {\n                return;\n              }\n\n              this.handlers = this.handlers.concat(promise._handlers);\n              promise._handlers = [];\n\n              if (this.running) {\n                return;\n              }\n\n              this.running = true;\n              setTimeout(this.runHandlers.bind(this), 0);\n            },\n            runHandlers: function runHandlers() {\n              var RUN_TIMEOUT = 1;\n              var timeoutAt = Date.now() + RUN_TIMEOUT;\n\n              while (this.handlers.length > 0) {\n                var handler = this.handlers.shift();\n                var nextStatus = handler.thisPromise._status;\n                var nextValue = handler.thisPromise._value;\n\n                try {\n                  if (nextStatus === STATUS_RESOLVED) {\n                    if (typeof handler.onResolve === 'function') {\n                      nextValue = handler.onResolve(nextValue);\n                    }\n                  } else if (typeof handler.onReject === 'function') {\n                    nextValue = handler.onReject(nextValue);\n                    nextStatus = STATUS_RESOLVED;\n\n                    if (handler.thisPromise._unhandledRejection) {\n                      this.removeUnhandeledRejection(handler.thisPromise);\n                    }\n                  }\n                } catch (ex) {\n                  nextStatus = STATUS_REJECTED;\n                  nextValue = ex;\n                }\n\n                handler.nextPromise._updateStatus(nextStatus, nextValue);\n\n                if (Date.now() >= timeoutAt) {\n                  break;\n                }\n              }\n\n              if (this.handlers.length > 0) {\n                setTimeout(this.runHandlers.bind(this), 0);\n                return;\n              }\n\n              this.running = false;\n            },\n            addUnhandledRejection: function addUnhandledRejection(promise) {\n              this.unhandledRejections.push({\n                promise: promise,\n                time: Date.now()\n              });\n              this.scheduleRejectionCheck();\n            },\n            removeUnhandeledRejection: function removeUnhandeledRejection(promise) {\n              promise._unhandledRejection = false;\n\n              for (var i = 0; i < this.unhandledRejections.length; i++) {\n                if (this.unhandledRejections[i].promise === promise) {\n                  this.unhandledRejections.splice(i);\n                  i--;\n                }\n              }\n            },\n            scheduleRejectionCheck: function scheduleRejectionCheck() {\n              var _this = this;\n\n              if (this.pendingRejectionCheck) {\n                return;\n              }\n\n              this.pendingRejectionCheck = true;\n              setTimeout(function () {\n                _this.pendingRejectionCheck = false;\n                var now = Date.now();\n\n                for (var i = 0; i < _this.unhandledRejections.length; i++) {\n                  if (now - _this.unhandledRejections[i].time > REJECTION_TIMEOUT) {\n                    var unhandled = _this.unhandledRejections[i].promise._value;\n                    var msg = 'Unhandled rejection: ' + unhandled;\n\n                    if (unhandled.stack) {\n                      msg += '\\n' + unhandled.stack;\n                    }\n\n                    try {\n                      throw new Error(msg);\n                    } catch (_) {\n                      console.warn(msg);\n                    }\n\n                    _this.unhandledRejections.splice(i);\n\n                    i--;\n                  }\n                }\n\n                if (_this.unhandledRejections.length) {\n                  _this.scheduleRejectionCheck();\n                }\n              }, REJECTION_TIMEOUT);\n            }\n          };\n\n          var Promise = function Promise(resolver) {\n            this._status = STATUS_PENDING;\n            this._handlers = [];\n\n            try {\n              resolver.call(this, this._resolve.bind(this), this._reject.bind(this));\n            } catch (e) {\n              this._reject(e);\n            }\n          };\n\n          Promise.all = function Promise_all(promises) {\n            var resolveAll, rejectAll;\n            var deferred = new Promise(function (resolve, reject) {\n              resolveAll = resolve;\n              rejectAll = reject;\n            });\n            var unresolved = promises.length;\n            var results = [];\n\n            if (unresolved === 0) {\n              resolveAll(results);\n              return deferred;\n            }\n\n            function reject(reason) {\n              if (deferred._status === STATUS_REJECTED) {\n                return;\n              }\n\n              results = [];\n              rejectAll(reason);\n            }\n\n            for (var i = 0, ii = promises.length; i < ii; ++i) {\n              var promise = promises[i];\n\n              var resolve = function (i) {\n                return function (value) {\n                  if (deferred._status === STATUS_REJECTED) {\n                    return;\n                  }\n\n                  results[i] = value;\n                  unresolved--;\n\n                  if (unresolved === 0) {\n                    resolveAll(results);\n                  }\n                };\n              }(i);\n\n              if (Promise.isPromise(promise)) {\n                promise.then(resolve, reject);\n              } else {\n                resolve(promise);\n              }\n            }\n\n            return deferred;\n          };\n\n          Promise.isPromise = function Promise_isPromise(value) {\n            return value && typeof value.then === 'function';\n          };\n\n          Promise.resolve = function Promise_resolve(value) {\n            return new Promise(function (resolve) {\n              resolve(value);\n            });\n          };\n\n          Promise.reject = function Promise_reject(reason) {\n            return new Promise(function (resolve, reject) {\n              reject(reason);\n            });\n          };\n\n          Promise.prototype = {\n            _status: null,\n            _value: null,\n            _handlers: null,\n            _unhandledRejection: null,\n            _updateStatus: function Promise__updateStatus(status, value) {\n              if (this._status === STATUS_RESOLVED || this._status === STATUS_REJECTED) {\n                return;\n              }\n\n              if (status === STATUS_RESOLVED && Promise.isPromise(value)) {\n                value.then(this._updateStatus.bind(this, STATUS_RESOLVED), this._updateStatus.bind(this, STATUS_REJECTED));\n                return;\n              }\n\n              this._status = status;\n              this._value = value;\n\n              if (status === STATUS_REJECTED && this._handlers.length === 0) {\n                this._unhandledRejection = true;\n                HandlerManager.addUnhandledRejection(this);\n              }\n\n              HandlerManager.scheduleHandlers(this);\n            },\n            _resolve: function Promise_resolve(value) {\n              this._updateStatus(STATUS_RESOLVED, value);\n            },\n            _reject: function Promise_reject(reason) {\n              this._updateStatus(STATUS_REJECTED, reason);\n            },\n            then: function Promise_then(onResolve, onReject) {\n              var nextPromise = new Promise(function (resolve, reject) {\n                this.resolve = resolve;\n                this.reject = reject;\n              });\n\n              this._handlers.push({\n                thisPromise: this,\n                onResolve: onResolve,\n                onReject: onReject,\n                nextPromise: nextPromise\n              });\n\n              HandlerManager.scheduleHandlers(this);\n              return nextPromise;\n            },\n            catch: function Promise_catch(onReject) {\n              return this.then(undefined, onReject);\n            }\n          };\n          globalScope.Promise = Promise;\n        })();\n\n        (function checkWeakMap() {\n          if (globalScope.WeakMap) {\n            return;\n          }\n\n          var id = 0;\n\n          function WeakMap() {\n            this.id = '$weakmap' + id++;\n          }\n\n          WeakMap.prototype = {\n            has: function has(obj) {\n              if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' && typeof obj !== 'function' || obj === null) {\n                return false;\n              }\n\n              return !!Object.getOwnPropertyDescriptor(obj, this.id);\n            },\n            get: function get(obj) {\n              return this.has(obj) ? obj[this.id] : undefined;\n            },\n            set: function set(obj, value) {\n              Object.defineProperty(obj, this.id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n              });\n            },\n            delete: function _delete(obj) {\n              delete obj[this.id];\n            }\n          };\n          globalScope.WeakMap = WeakMap;\n        })();\n\n        (function checkURLConstructor() {\n          var hasWorkingUrl = false;\n\n          try {\n            if (typeof URL === 'function' && _typeof(URL.prototype) === 'object' && 'origin' in URL.prototype) {\n              var u = new URL('b', 'http://a');\n              u.pathname = 'c%20d';\n              hasWorkingUrl = u.href === 'http://a/c%20d';\n            }\n          } catch (e) {}\n\n          if (hasWorkingUrl) {\n            return;\n          }\n\n          var relative = Object.create(null);\n          relative['ftp'] = 21;\n          relative['file'] = 0;\n          relative['gopher'] = 70;\n          relative['http'] = 80;\n          relative['https'] = 443;\n          relative['ws'] = 80;\n          relative['wss'] = 443;\n          var relativePathDotMapping = Object.create(null);\n          relativePathDotMapping['%2e'] = '.';\n          relativePathDotMapping['.%2e'] = '..';\n          relativePathDotMapping['%2e.'] = '..';\n          relativePathDotMapping['%2e%2e'] = '..';\n\n          function isRelativeScheme(scheme) {\n            return relative[scheme] !== undefined;\n          }\n\n          function invalid() {\n            clear.call(this);\n            this._isInvalid = true;\n          }\n\n          function IDNAToASCII(h) {\n            if (h === '') {\n              invalid.call(this);\n            }\n\n            return h.toLowerCase();\n          }\n\n          function percentEscape(c) {\n            var unicode = c.charCodeAt(0);\n\n            if (unicode > 0x20 && unicode < 0x7F && [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) === -1) {\n              return c;\n            }\n\n            return encodeURIComponent(c);\n          }\n\n          function percentEscapeQuery(c) {\n            var unicode = c.charCodeAt(0);\n\n            if (unicode > 0x20 && unicode < 0x7F && [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) === -1) {\n              return c;\n            }\n\n            return encodeURIComponent(c);\n          }\n\n          var EOF,\n              ALPHA = /[a-zA-Z]/,\n              ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n          function parse(input, stateOverride, base) {\n            function err(message) {\n              errors.push(message);\n            }\n\n            var state = stateOverride || 'scheme start',\n                cursor = 0,\n                buffer = '',\n                seenAt = false,\n                seenBracket = false,\n                errors = [];\n\n            loop: while ((input[cursor - 1] !== EOF || cursor === 0) && !this._isInvalid) {\n              var c = input[cursor];\n\n              switch (state) {\n                case 'scheme start':\n                  if (c && ALPHA.test(c)) {\n                    buffer += c.toLowerCase();\n                    state = 'scheme';\n                  } else if (!stateOverride) {\n                    buffer = '';\n                    state = 'no scheme';\n                    continue;\n                  } else {\n                    err('Invalid scheme.');\n                    break loop;\n                  }\n\n                  break;\n\n                case 'scheme':\n                  if (c && ALPHANUMERIC.test(c)) {\n                    buffer += c.toLowerCase();\n                  } else if (c === ':') {\n                    this._scheme = buffer;\n                    buffer = '';\n\n                    if (stateOverride) {\n                      break loop;\n                    }\n\n                    if (isRelativeScheme(this._scheme)) {\n                      this._isRelative = true;\n                    }\n\n                    if (this._scheme === 'file') {\n                      state = 'relative';\n                    } else if (this._isRelative && base && base._scheme === this._scheme) {\n                      state = 'relative or authority';\n                    } else if (this._isRelative) {\n                      state = 'authority first slash';\n                    } else {\n                      state = 'scheme data';\n                    }\n                  } else if (!stateOverride) {\n                    buffer = '';\n                    cursor = 0;\n                    state = 'no scheme';\n                    continue;\n                  } else if (c === EOF) {\n                    break loop;\n                  } else {\n                    err('Code point not allowed in scheme: ' + c);\n                    break loop;\n                  }\n\n                  break;\n\n                case 'scheme data':\n                  if (c === '?') {\n                    this._query = '?';\n                    state = 'query';\n                  } else if (c === '#') {\n                    this._fragment = '#';\n                    state = 'fragment';\n                  } else {\n                    if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                      this._schemeData += percentEscape(c);\n                    }\n                  }\n\n                  break;\n\n                case 'no scheme':\n                  if (!base || !isRelativeScheme(base._scheme)) {\n                    err('Missing scheme.');\n                    invalid.call(this);\n                  } else {\n                    state = 'relative';\n                    continue;\n                  }\n\n                  break;\n\n                case 'relative or authority':\n                  if (c === '/' && input[cursor + 1] === '/') {\n                    state = 'authority ignore slashes';\n                  } else {\n                    err('Expected /, got: ' + c);\n                    state = 'relative';\n                    continue;\n                  }\n\n                  break;\n\n                case 'relative':\n                  this._isRelative = true;\n\n                  if (this._scheme !== 'file') {\n                    this._scheme = base._scheme;\n                  }\n\n                  if (c === EOF) {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = base._query;\n                    this._username = base._username;\n                    this._password = base._password;\n                    break loop;\n                  } else if (c === '/' || c === '\\\\') {\n                    if (c === '\\\\') {\n                      err('\\\\ is an invalid code point.');\n                    }\n\n                    state = 'relative slash';\n                  } else if (c === '?') {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = '?';\n                    this._username = base._username;\n                    this._password = base._password;\n                    state = 'query';\n                  } else if (c === '#') {\n                    this._host = base._host;\n                    this._port = base._port;\n                    this._path = base._path.slice();\n                    this._query = base._query;\n                    this._fragment = '#';\n                    this._username = base._username;\n                    this._password = base._password;\n                    state = 'fragment';\n                  } else {\n                    var nextC = input[cursor + 1];\n                    var nextNextC = input[cursor + 2];\n\n                    if (this._scheme !== 'file' || !ALPHA.test(c) || nextC !== ':' && nextC !== '|' || nextNextC !== EOF && nextNextC !== '/' && nextNextC !== '\\\\' && nextNextC !== '?' && nextNextC !== '#') {\n                      this._host = base._host;\n                      this._port = base._port;\n                      this._username = base._username;\n                      this._password = base._password;\n                      this._path = base._path.slice();\n\n                      this._path.pop();\n                    }\n\n                    state = 'relative path';\n                    continue;\n                  }\n\n                  break;\n\n                case 'relative slash':\n                  if (c === '/' || c === '\\\\') {\n                    if (c === '\\\\') {\n                      err('\\\\ is an invalid code point.');\n                    }\n\n                    if (this._scheme === 'file') {\n                      state = 'file host';\n                    } else {\n                      state = 'authority ignore slashes';\n                    }\n                  } else {\n                    if (this._scheme !== 'file') {\n                      this._host = base._host;\n                      this._port = base._port;\n                      this._username = base._username;\n                      this._password = base._password;\n                    }\n\n                    state = 'relative path';\n                    continue;\n                  }\n\n                  break;\n\n                case 'authority first slash':\n                  if (c === '/') {\n                    state = 'authority second slash';\n                  } else {\n                    err('Expected \\'/\\', got: ' + c);\n                    state = 'authority ignore slashes';\n                    continue;\n                  }\n\n                  break;\n\n                case 'authority second slash':\n                  state = 'authority ignore slashes';\n\n                  if (c !== '/') {\n                    err('Expected \\'/\\', got: ' + c);\n                    continue;\n                  }\n\n                  break;\n\n                case 'authority ignore slashes':\n                  if (c !== '/' && c !== '\\\\') {\n                    state = 'authority';\n                    continue;\n                  } else {\n                    err('Expected authority, got: ' + c);\n                  }\n\n                  break;\n\n                case 'authority':\n                  if (c === '@') {\n                    if (seenAt) {\n                      err('@ already seen.');\n                      buffer += '%40';\n                    }\n\n                    seenAt = true;\n\n                    for (var i = 0; i < buffer.length; i++) {\n                      var cp = buffer[i];\n\n                      if (cp === '\\t' || cp === '\\n' || cp === '\\r') {\n                        err('Invalid whitespace in authority.');\n                        continue;\n                      }\n\n                      if (cp === ':' && this._password === null) {\n                        this._password = '';\n                        continue;\n                      }\n\n                      var tempC = percentEscape(cp);\n\n                      if (this._password !== null) {\n                        this._password += tempC;\n                      } else {\n                        this._username += tempC;\n                      }\n                    }\n\n                    buffer = '';\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    cursor -= buffer.length;\n                    buffer = '';\n                    state = 'host';\n                    continue;\n                  } else {\n                    buffer += c;\n                  }\n\n                  break;\n\n                case 'file host':\n                  if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    if (buffer.length === 2 && ALPHA.test(buffer[0]) && (buffer[1] === ':' || buffer[1] === '|')) {\n                      state = 'relative path';\n                    } else if (buffer.length === 0) {\n                      state = 'relative path start';\n                    } else {\n                      this._host = IDNAToASCII.call(this, buffer);\n                      buffer = '';\n                      state = 'relative path start';\n                    }\n\n                    continue;\n                  } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n                    err('Invalid whitespace in file host.');\n                  } else {\n                    buffer += c;\n                  }\n\n                  break;\n\n                case 'host':\n                case 'hostname':\n                  if (c === ':' && !seenBracket) {\n                    this._host = IDNAToASCII.call(this, buffer);\n                    buffer = '';\n                    state = 'port';\n\n                    if (stateOverride === 'hostname') {\n                      break loop;\n                    }\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n                    this._host = IDNAToASCII.call(this, buffer);\n                    buffer = '';\n                    state = 'relative path start';\n\n                    if (stateOverride) {\n                      break loop;\n                    }\n\n                    continue;\n                  } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    if (c === '[') {\n                      seenBracket = true;\n                    } else if (c === ']') {\n                      seenBracket = false;\n                    }\n\n                    buffer += c;\n                  } else {\n                    err('Invalid code point in host/hostname: ' + c);\n                  }\n\n                  break;\n\n                case 'port':\n                  if (/[0-9]/.test(c)) {\n                    buffer += c;\n                  } else if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#' || stateOverride) {\n                    if (buffer !== '') {\n                      var temp = parseInt(buffer, 10);\n\n                      if (temp !== relative[this._scheme]) {\n                        this._port = temp + '';\n                      }\n\n                      buffer = '';\n                    }\n\n                    if (stateOverride) {\n                      break loop;\n                    }\n\n                    state = 'relative path start';\n                    continue;\n                  } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n                    err('Invalid code point in port: ' + c);\n                  } else {\n                    invalid.call(this);\n                  }\n\n                  break;\n\n                case 'relative path start':\n                  if (c === '\\\\') {\n                    err('\\'\\\\\\' not allowed in path.');\n                  }\n\n                  state = 'relative path';\n\n                  if (c !== '/' && c !== '\\\\') {\n                    continue;\n                  }\n\n                  break;\n\n                case 'relative path':\n                  if (c === EOF || c === '/' || c === '\\\\' || !stateOverride && (c === '?' || c === '#')) {\n                    if (c === '\\\\') {\n                      err('\\\\ not allowed in relative path.');\n                    }\n\n                    var tmp;\n\n                    if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n                      buffer = tmp;\n                    }\n\n                    if (buffer === '..') {\n                      this._path.pop();\n\n                      if (c !== '/' && c !== '\\\\') {\n                        this._path.push('');\n                      }\n                    } else if (buffer === '.' && c !== '/' && c !== '\\\\') {\n                      this._path.push('');\n                    } else if (buffer !== '.') {\n                      if (this._scheme === 'file' && this._path.length === 0 && buffer.length === 2 && ALPHA.test(buffer[0]) && buffer[1] === '|') {\n                        buffer = buffer[0] + ':';\n                      }\n\n                      this._path.push(buffer);\n                    }\n\n                    buffer = '';\n\n                    if (c === '?') {\n                      this._query = '?';\n                      state = 'query';\n                    } else if (c === '#') {\n                      this._fragment = '#';\n                      state = 'fragment';\n                    }\n                  } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    buffer += percentEscape(c);\n                  }\n\n                  break;\n\n                case 'query':\n                  if (!stateOverride && c === '#') {\n                    this._fragment = '#';\n                    state = 'fragment';\n                  } else if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    this._query += percentEscapeQuery(c);\n                  }\n\n                  break;\n\n                case 'fragment':\n                  if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n                    this._fragment += c;\n                  }\n\n                  break;\n              }\n\n              cursor++;\n            }\n          }\n\n          function clear() {\n            this._scheme = '';\n            this._schemeData = '';\n            this._username = '';\n            this._password = null;\n            this._host = '';\n            this._port = '';\n            this._path = [];\n            this._query = '';\n            this._fragment = '';\n            this._isInvalid = false;\n            this._isRelative = false;\n          }\n\n          function JURL(url, base) {\n            if (base !== undefined && !(base instanceof JURL)) {\n              base = new JURL(String(base));\n            }\n\n            this._url = url;\n            clear.call(this);\n            var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n            parse.call(this, input, null, base);\n          }\n\n          JURL.prototype = {\n            toString: function toString() {\n              return this.href;\n            },\n\n            get href() {\n              if (this._isInvalid) {\n                return this._url;\n              }\n\n              var authority = '';\n\n              if (this._username !== '' || this._password !== null) {\n                authority = this._username + (this._password !== null ? ':' + this._password : '') + '@';\n              }\n\n              return this.protocol + (this._isRelative ? '//' + authority + this.host : '') + this.pathname + this._query + this._fragment;\n            },\n\n            set href(value) {\n              clear.call(this);\n              parse.call(this, value);\n            },\n\n            get protocol() {\n              return this._scheme + ':';\n            },\n\n            set protocol(value) {\n              if (this._isInvalid) {\n                return;\n              }\n\n              parse.call(this, value + ':', 'scheme start');\n            },\n\n            get host() {\n              return this._isInvalid ? '' : this._port ? this._host + ':' + this._port : this._host;\n            },\n\n            set host(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n\n              parse.call(this, value, 'host');\n            },\n\n            get hostname() {\n              return this._host;\n            },\n\n            set hostname(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n\n              parse.call(this, value, 'hostname');\n            },\n\n            get port() {\n              return this._port;\n            },\n\n            set port(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n\n              parse.call(this, value, 'port');\n            },\n\n            get pathname() {\n              return this._isInvalid ? '' : this._isRelative ? '/' + this._path.join('/') : this._schemeData;\n            },\n\n            set pathname(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n\n              this._path = [];\n              parse.call(this, value, 'relative path start');\n            },\n\n            get search() {\n              return this._isInvalid || !this._query || this._query === '?' ? '' : this._query;\n            },\n\n            set search(value) {\n              if (this._isInvalid || !this._isRelative) {\n                return;\n              }\n\n              this._query = '?';\n\n              if (value[0] === '?') {\n                value = value.slice(1);\n              }\n\n              parse.call(this, value, 'query');\n            },\n\n            get hash() {\n              return this._isInvalid || !this._fragment || this._fragment === '#' ? '' : this._fragment;\n            },\n\n            set hash(value) {\n              if (this._isInvalid) {\n                return;\n              }\n\n              this._fragment = '#';\n\n              if (value[0] === '#') {\n                value = value.slice(1);\n              }\n\n              parse.call(this, value, 'fragment');\n            },\n\n            get origin() {\n              var host;\n\n              if (this._isInvalid || !this._scheme) {\n                return '';\n              }\n\n              switch (this._scheme) {\n                case 'data':\n                case 'file':\n                case 'javascript':\n                case 'mailto':\n                  return 'null';\n\n                case 'blob':\n                  try {\n                    return new JURL(this._schemeData).origin || 'null';\n                  } catch (_) {}\n\n                  return 'null';\n              }\n\n              host = this.host;\n\n              if (!host) {\n                return '';\n              }\n\n              return this._scheme + '://' + host;\n            }\n\n          };\n          var OriginalURL = globalScope.URL;\n\n          if (OriginalURL) {\n            JURL.createObjectURL = function (blob) {\n              return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n            };\n\n            JURL.revokeObjectURL = function (url) {\n              OriginalURL.revokeObjectURL(url);\n            };\n          }\n\n          globalScope.URL = JURL;\n        })();\n      }\n      /***/\n\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __w_pdfjs_require__) {\n      \"use strict\";\n\n      var isReadableStreamSupported = false;\n\n      if (typeof ReadableStream !== 'undefined') {\n        try {\n          new ReadableStream({\n            start: function start(controller) {\n              controller.close();\n            }\n          });\n          isReadableStreamSupported = true;\n        } catch (e) {}\n      }\n\n      if (isReadableStreamSupported) {\n        exports.ReadableStream = ReadableStream;\n      } else {\n        exports.ReadableStream = __w_pdfjs_require__(10).ReadableStream;\n      }\n      /***/\n\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"mappings":"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","names":["module","define","exports","root","i","l","modules","__w_pdfjs_require__","Object","configurable","enumerable","get","globalScope","window","Math","global","self","undefined","FONT_IDENTITY_MATRIX","NativeImageDecoding","NONE","DECODE","DISPLAY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationFlag","HIDDEN","PRINT","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RL","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VERBOSITY_LEVELS","errors","warnings","infos","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","verbosity","setVerbosityLevel","level","getVerbosityLevel","info","msg","console","log","warn","deprecated","details","unreachable","Error","assert","cond","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","isSameOrigin","baseUrl","otherUrl","base","URL","origin","e","other","isValidProtocol","url","protocol","createValidAbsoluteUrl","absoluteUrl","ex","shadow","obj","prop","value","defineProperty","writable","getLookupTableFactory","initializer","lookup","create","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PasswordException","PasswordExceptionClosure","code","name","message","prototype","constructor","UnknownErrorException","UnknownErrorExceptionClosure","InvalidPDFException","InvalidPDFExceptionClosure","MissingPDFException","MissingPDFExceptionClosure","UnexpectedResponseException","UnexpectedResponseExceptionClosure","status","NotImplementedException","NotImplementedExceptionClosure","MissingDataException","MissingDataExceptionClosure","begin","end","XRefParseException","XRefParseExceptionClosure","FormatError","FormatErrorClosure","AbortException","AbortExceptionClosure","NullCharactersRegExp","removeNullCharacters","str","replace","bytesToString","bytes","_typeof","length","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","chunkEnd","min","chunk","subarray","push","join","stringToBytes","Uint8Array","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","ii","item","itemLength","pos","data","set","string32","log2","x","n","readInt8","start","readUint16","offset","readUint32","isLittleEndian","buffer8","view32","Uint32Array","buffer","isEvalSupported","Function","IDENTITY_MATRIX","Util","UtilClosure","rgbBuf","makeCssRgb","Util_makeCssRgb","r","g","b","Util_transform","m1","m2","applyTransform","Util_applyTransform","p","m","xt","yt","applyInverseTransform","Util_applyInverseTransform","d","getAxialAlignedBoundingBox","Util_getAxialAlignedBoundingBox","p1","p2","slice","p3","p4","max","inverseTransform","Util_inverseTransform","apply3dTransform","Util_apply3dTransform","v","singularValueDecompose2dScale","Util_singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","sx","sy","normalizeRect","Util_normalizeRect","rect","intersect","Util_intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","sign","Util_sign","num","ROMAN_NUMBER_MAP","toRoman","Util_toRoman","number","lowerCase","isInt","romanBuf","romanStr","toLowerCase","appendToArray","Util_appendToArray","arr1","arr2","Array","prependToArray","Util_prependToArray","unshift","extendObj","obj1","obj2","key","getInheritableProperty","Util_getInheritableProperty","dict","getArray","has","inherit","Util_inherit","sub","loadScript","Util_loadScript","src","callback","script","document","createElement","loaded","setAttribute","onload","getElementsByTagName","appendChild","PageViewport","PageViewportClosure","viewBox","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","abs","fontScale","clone","PageViewPort_clone","args","convertToViewportPoint","PageViewport_convertToViewportPoint","y","convertToViewportRectangle","PageViewport_convertToViewportRectangle","tl","br","convertToPdfPoint","PageViewport_convertToPdfPoint","PDFStringTranslateTable","stringToPDFString","charAt","stringToUTF8String","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isEmptyObj","isBool","isNum","isString","isArray","isArrayBuffer","isSpace","ch","isNodeJS","process","createPromiseCapability","capability","promise","Promise","resolve","reject","StatTimer","StatTimerClosure","rpad","pad","started","times","enabled","time","StatTimer_time","Date","now","timeEnd","StatTimer_timeEnd","toString","StatTimer_toString","out","longest","span","duration","createBlob","contentType","Blob","type","createObjectURL","createObjectURLClosure","digits","forceDataSchema","blob","b1","b2","b3","d1","d2","d3","d4","resolveCall","fn","thisArg","wrapReason","reason","resolveOrReject","success","finalize","catch","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","postMessageTransfers","streamSinks","streamControllers","callbacksCapabilities","ah","actionHandler","_onComObjOnMessage","event","_this","stream","_processStreamMessage","isReply","error","action","_sourceName","_targetName","then","call","postMessage","_createStreamSink","addEventListener","on","actionName","handler","scope","send","transfers","sendWithPromise","sendWithStream","queueingStrategy","startCapability","_this2","controller","startCall","isClosed","desiredSize","pull","pullCapability","pullCall","cancel","cancelCapability","cancelCall","sendStreamRequest","_this3","streamSink","enqueue","size","isCancelled","lastDesiredSize","sinkCapability","ready","close","onPull","onCancel","sendStreamResponse","_this4","deleteStreamController","all","map","destroy","removeEventListener","loadJpegStream","id","imageUrl","objs","img","Image","loadJpegStream_onloadClosure","onerror","loadJpegStream_onerrorClosure","ReadableStream","DEFAULT_LINK_REL","DOMCanvasFactory","canvas","context","getContext","canvasAndContext","DOMCMapReaderFactory","_ref$baseUrl","isCompressed","_ref$isCompressed","request","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","response","responseText","cMapData","compressionType","_util","CustomStyle","CustomStyleClosure","prefixes","_cache","getProp","propName","element","arguments","documentElement","style","prefixed","uPropName","toUpperCase","setProp","RenderingCancelledException","LinkTarget","SELF","BLANK","PARENT","TOP","LinkTargetStringMap","addLinkAttributes","link","params","href","title","target","getDefaultSetting","rel","getFilenameFromUrl","anchor","indexOf","query","substring","lastIndexOf","globalSettings","PDFJS","pdfBug","disableAutoFetch","disableStream","disableRange","disableFontFace","disableCreateObjectURL","disableWebGL","cMapUrl","cMapPacked","workerPort","workerSrc","disableWorker","maxImageSize","imageResourcesPath","externalLinkTarget","externalLinkRel","enableStats","pdfjsNext","isExternalLinkTargetSet","isValidUrl","allowRelative","DEFAULT_RANGE_CHUNK_SIZE","isWorkerDisabled","isPostMessageTransfersDisabled","pdfjsFilePath","currentScript","fakeWorkerFilesLoader","useRequireEnsure","require","ensure","requirejs","toUrl","dynamicLoaderSupported","load","worker","WorkerMessageHandler","PDFNetworkStream","setPDFNetworkStreamClass","cls","getDocument","pdfDataRangeTransport","passwordCallback","progressCallback","task","PDFDocumentLoadingTask","PDFDataRangeTransport","initialData","abort","range","onPassword","onProgress","source","rangeTransport","CMapReaderFactory","location","pdfBytes","isNaN","rangeChunkSize","ignoreErrors","stopAtErrors","disableNativeImageDecoder","nativeImageDecoderSupport","PDFWorker","fromPort","_worker","docId","destroyed","workerId","networkStream","messageHandler","port","transport","WorkerTransport","_transport","_capability","_fetchDocument","chunkedViewerLoading","password","docBaseUrl","PDFDocumentLoadingTaskClosure","nextDocumentId","onUnsupportedFeature","transportDestroyed","PDFDocumentLoadingTask_then","onFulfilled","onRejected","pdfDataRangeTransportClosure","_rangeListeners","_progressListeners","_progressiveReadListeners","_readyCapability","addRangeListener","PDFDataRangeTransport_addRangeListener","listener","addProgressListener","PDFDataRangeTransport_addProgressListener","addProgressiveReadListener","PDFDataRangeTransport_addProgressiveReadListener","onDataRange","PDFDataRangeTransport_onDataRange","listeners","onDataProgress","PDFDataRangeTransport_onDataProgress","onDataProgressiveRead","transportReady","PDFDataRangeTransport_transportReady","requestDataRange","PDFDataRangeTransport_requestDataRange","PDFDataRangeTransport_abort","PDFDocumentProxy","PDFDocumentProxyClosure","pdfInfo","loadingTask","numPages","fingerprint","getPage","PDFDocumentProxy_getPage","pageNumber","getPageIndex","PDFDocumentProxy_getPageIndex","ref","getDestinations","PDFDocumentProxy_getDestinations","getDestination","PDFDocumentProxy_getDestination","getPageLabels","PDFDocumentProxy_getPageLabels","getPageMode","getAttachments","PDFDocumentProxy_getAttachments","getJavaScript","PDFDocumentProxy_getJavaScript","getOutline","PDFDocumentProxy_getOutline","getMetadata","PDFDocumentProxy_getMetadata","getData","PDFDocumentProxy_getData","getDownloadInfo","PDFDocumentProxy_getDownloadInfo","downloadInfoCapability","getStats","PDFDocumentProxy_getStats","cleanup","PDFDocumentProxy_cleanup","startCleanup","PDFDocumentProxy_destroy","PDFPageProxy","PDFPageProxyClosure","pageIndex","pageInfo","stats","commonObjs","PDFObjects","cleanupAfterRender","pendingCleanup","intentStates","rotate","userUnit","view","getViewport","PDFPageProxy_getViewport","getAnnotations","PDFPageProxy_getAnnotations","intent","annotationsPromise","annotationsIntent","render","PDFPageProxy_render","renderingIntent","canvasFactory","intentState","displayReadyCapability","receivingOperatorList","operatorList","fnArray","argsArray","lastChunk","renderInteractiveForms","complete","renderTasks","internalRenderTask","splice","_tryCleanup","InternalRenderTask","useRequestAnimationFrame","renderTask","continueCallback","onContinue","initializeGraphics","transparency","operatorListChanged","getOperatorList","PDFPageProxy_getOperatorList","opListReadCapability","opListTask","streamTextContent","TEXT_CONTENT_CHUNK_SIZE","normalizeWhitespace","combineTextItems","disableCombineTextItems","highWaterMark","textContent","items","getTextContent","PDFPageProxy_getTextContent","readableStream","pump","reader","read","done","styles","getReader","_destroy","PDFPageProxy_destroy","pageCache","waitOn","keys","forEach","renderCompleted","clear","PDFPageProxy_cleanup","PDFPageProxy_tryCleanup","some","_startRenderPage","PDFPageProxy_startRenderPage","_renderPageChunk","PDFPageProxy_renderPageChunk","operatorListChunk","LoopbackPort","defer","_classCallCheck","_listeners","_defer","_deferred","cloneValue","cloned","transferable","byteOffset","desc","getOwnPropertyDescriptor","getPrototypeOf","WeakMap","_this5","PDFWorkerClosure","nextFakeWorkerId","getWorkerSrc","fakeWorkerFilesLoadedCapability","setupFakeWorkerGlobal","loader","pdfjsDistBuildPdfWorker","createCDNWrapper","wrapper","pdfWorkerPorts","_port","_webWorker","_messageHandler","_initializeFromPort","_initialize","PDFWorker_initializeFromPort","PDFWorker_initialize","Worker","terminateEarly","onWorkerError","terminate","_this6","_setupFakeWorker","supportTypedArray","supportTransfers","sendTest","testObj","PDFWorker_setupFakeWorker","_this7","isTypedArraysPresent","Float32Array","workerHandler","setup","PDFWorker_destroy","delete","WorkerTransportClosure","fontLoader","destroyCapability","_passwordCapability","_networkStream","_fullReader","_lastProgress","pagePromises","setupMessageHandler","WorkerTransport_destroy","page","terminated","_this8","cancelAllRequests","WorkerTransport_setupMessageHandler","sink","getFullReader","_this9","evt","total","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","_this10","_loadingTask","contentLength","_rangeReader","getRangeReader","transportDoc","pdfDocument","transportPasswordRequest","exception","updatePassword","_this11","transportPasswordException","transportInvalidPDF","transportMissingPDF","transportUnexpectedResponse","transportUnknownError","transportPage","transportRender","transportObj","hasData","exportedData","exportedError","fontRegistry","FontInspector","registerFont","fontAdded","isEvalSuported","fontReady","_this12","bind","pageProxy","imageData","MAX_IMAGE_SIZE_TO_STORE","transportDocProgress","transportError","pageNum","transportUnsupportedFeature","featureId","_UnsupportedManager","notify","components","rgbaLength","buf","tmpCanvas","tmpCtx","drawImage","getImageData","j","fetch","WorkerTransport_getData","WorkerTransport_getPage","_this13","WorkerTransport_getPageIndexByRef","WorkerTransport_getAnnotations","WorkerTransport_getDestinations","WorkerTransport_getDestination","WorkerTransport_getPageLabels","WorkerTransport_getAttachments","WorkerTransport_getJavaScript","WorkerTransport_getOutline","WorkerTransport_getMetadata","transportMetadata","results","metadata","WorkerTransport_getStats","WorkerTransport_startCleanup","_this14","PDFObjectsClosure","ensureObj","PDFObjects_ensureObj","objId","resolved","PDFObjects_get","PDFObjects_resolve","isResolved","PDFObjects_isResolved","PDFObjects_hasData","PDFObjects_getData","PDFObjects_clear","RenderTask","RenderTaskClosure","_internalRenderTask","RenderTask_cancel","RenderTask_then","InternalRenderTaskClosure","canvasInRendering","operatorListIdx","running","graphicsReadyCallback","graphicsReady","cancelled","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","canvasContext","InternalRenderTask_initializeGraphics","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","imageLayer","beginDrawing","viewport","background","InternalRenderTask_cancel","InternalRenderTask_operatorListChanged","updateOperatorList","InternalRenderTask__continue","InternalRenderTask__scheduleNext","requestAnimationFrame","InternalRenderTask__next","executeOperatorList","endDrawing","UnsupportedManagerClosure","listen","cb","version","build","AnnotationElementFactory","AnnotationElementFactory_create","parameters","subtype","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","LineAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","AnnotationElementClosure","isRenderable","ignoreBorder","layer","linkService","downloadManager","container","_createContainer","AnnotationElement_createContainer","_dom_utils","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderBottomStyle","color","borderColor","left","top","_createPopup","AnnotationElement_createPopup","trigger","popupElement","PopupElement","contents","hideWrapper","popup","AnnotationElement_render","LinkAnnotationElementClosure","LinkAnnotationElement_render","className","newWindow","_bindNamedAction","_bindLink","dest","destination","getDestinationHash","onclick","navigateTo","getAnchorUrl","executeNamedAction","TextAnnotationElementClosure","hasPopup","TextAnnotationElement_render","image","alt","dataset","l10nId","l10nArgs","JSON","stringify","WidgetAnnotationElementClosure","WidgetAnnotationElement_render","TextWidgetAnnotationElementClosure","TEXT_ALIGNMENT","hasAppearance","fieldValue","TextWidgetAnnotationElement_render","multiLine","disabled","readOnly","maxLen","maxLength","comb","fieldWidth","combWidth","classList","add","letterSpacing","verticalAlign","display","fontRefName","_setTextStyle","textAlignment","textAlign","TextWidgetAnnotationElement_setTextStyle","fontSize","direction","fontDirection","fontWeight","black","bold","fontStyle","italic","fontFamily","loadedName","fallbackName","CheckboxWidgetAnnotationElementClosure","CheckboxWidgetAnnotationElement_render","RadioButtonWidgetAnnotationElementClosure","RadioButtonWidgetAnnotationElement_render","fieldName","buttonValue","ChoiceWidgetAnnotationElementClosure","ChoiceWidgetAnnotationElement_render","selectElement","combo","options","multiSelect","multiple","option","optionElement","displayValue","exportValue","PopupAnnotationElementClosure","IGNORE_TYPES","PopupAnnotationElement_render","parentType","selector","parentId","parentElement","querySelector","parentLeft","parseFloat","parentWidth","PopupElementClosure","BACKGROUND_ENLIGHT","pinned","PopupElement_render","hideElement","backgroundColor","_formatContents","_toggle","_show","_hide","PopupElement_formatContents","lines","split","line","createTextNode","PopupElement_toggle","PopupElement_show","pin","hasAttribute","removeAttribute","zIndex","PopupElement_hide","unpin","LineAnnotationElementClosure","SVG_NS","LineAnnotationElement_render","svg","createElementNS","setAttributeNS","lineCoordinates","append","HighlightAnnotationElementClosure","HighlightAnnotationElement_render","UnderlineAnnotationElementClosure","UnderlineAnnotationElement_render","SquigglyAnnotationElementClosure","SquigglyAnnotationElement_render","StrikeOutAnnotationElementClosure","StrikeOutAnnotationElement_render","FileAttachmentAnnotationElementClosure","file","filename","content","onFileAttachmentAnnotation","FileAttachmentAnnotationElement_render","_download","FileAttachmentAnnotationElement_download","downloadData","AnnotationLayer","AnnotationLayerClosure","AnnotationLayer_render","annotationElementFactory","annotations","div","update","AnnotationLayer_update","SVGGraphics","SVG_DEFAULTS","fillColor","convertImgDataToPng","convertImgDataToPngClosure","PNG_HEADER","CHUNK_WRAPPER_SIZE","crcTable","Int32Array","h","crc32","crc","writePngChunk","body","len","adler32","deflateSync","literals","deflateSyncUncompressed","input","parseInt","versions","node","Buffer","output","maxBlockLength","deflateBlocks","ceil","idat","pi","adler","encode","imgData","kind","bitDepth","colorType","lineSize","offsetLiterals","offsetBytes","ihdr","pngLength","SVGExtraState","SVGExtraStateClosure","fontSizeScale","textMatrix","fontMatrix","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRise","strokeColor","fillAlpha","strokeAlpha","lineWidth","lineJoin","lineCap","miterLimit","dashArray","dashPhase","dependencies","activeClipUrl","clipGroup","maskId","SVGExtraState_clone","setCurrentPoint","SVGExtraState_setCurrentPoint","SVGGraphicsClosure","opListToTree","opList","opTree","tmp","opListLen","pop","pf","s","toFixed","substr","pm","acos","PI","current","transformMatrix","transformStack","extraStack","pendingClip","pendingEOFill","embedFonts","embeddedFonts","cssStyle","NS","XML_NS","XLINK_NS","LINE_CAP_STYLES","LINE_JOIN_STYLES","clipCount","maskCount","SVGGraphics_save","old","SVGGraphics_restore","tgrp","group","SVGGraphics_group","executeOpTree","loadDependencies","SVGGraphics_loadDependencies","fnArrayLen","deps","nn","common","SVGGraphics_transform","f","getSVG","SVGGraphics_getSVG","svgElement","convertOpList","SVGGraphics_convertOpList","REVOPS","op","fnId","SVGGraphics_executeOpTree","opTreeLen","SVGGraphics_setWordSpacing","SVGGraphics_setCharSpacing","SVGGraphics_nextLine","SVGGraphics_setTextMatrix","lineMatrix","xcoords","tspan","txtElement","SVGGraphics_beginText","txtgrp","SVGGraphics_moveText","SVGGraphics_showText","glyphs","glyphsLength","vertical","widthAdvanceScale","glyph","character","fontChar","spacing","charWidth","_ensureTransformGroup","SVGGraphics_setLeadingMoveText","addFontStyle","SVGGraphics_addFontStyle","fontObj","defs","mimetype","SVGGraphics_setFont","SVGGraphics_endText","SVGGraphics_setLineWidth","SVGGraphics_setLineCap","SVGGraphics_setLineJoin","SVGGraphics_setMiterLimit","limit","setStrokeAlpha","SVGGraphics_setStrokeAlpha","SVGGraphics_setStrokeRGBColor","setFillAlpha","SVGGraphics_setFillAlpha","SVGGraphics_setFillRGBColor","SVGGraphics_setDash","SVGGraphics_constructPath","ops","path","opLength","xw","yh","SVGGraphics_endPath","clipId","clipPath","clipElement","cloneNode","prev","SVGGraphics_clip","SVGGraphics_closePath","getAttributeNS","SVGGraphics_setLeading","SVGGraphics_setTextRise","SVGGraphics_setHScale","SVGGraphics_setGState","states","state","SVGGraphics_fill","SVGGraphics_stroke","SVGGraphics_eoFill","SVGGraphics_fillStroke","SVGGraphics_eoFillStroke","SVGGraphics_closeStroke","SVGGraphics_closeFillStroke","SVGGraphics_paintSolidColorImageMask","SVGGraphics_paintJpegXObject","w","imgObj","imgEl","SVGGraphics_paintImageXObject","SVGGraphics_paintInlineImageXObject","mask","imgSrc","cliprect","SVGGraphics_paintImageMaskXObject","SVGGraphics_paintFormXObjectBegin","matrix","bbox","SVGGraphics_paintFormXObjectEnd","SVGGraphics_initialize","definitions","rootGroup","_ensureClipGroup","SVGGraphics_ensureClipGroup","SVGGraphics_ensureTransformGroup","renderTextLayer","renderTextLayerClosure","MAX_TEXT_DIVS_TO_RENDER","NonWhitespaceRegexp","isAllWhitespace","test","styleBuf","appendText","geom","textDiv","textDivProperties","angle","canvasWidth","isWhitespace","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","_textDivs","_textDivProperties","tx","_viewport","atan2","fontName","fontHeight","fontAscent","ascent","descent","sin","cos","_textContentStream","_layoutText","_enhanceTextSelection","angleCos","angleSin","divWidth","divHeight","_bounds","right","bottom","_canceled","textDivs","textDivsLength","_renderingDone","expand","bounds","expanded","expandBounds","divProperties","points","ts","Float64Array","t","findPositiveMin","count","boxScale","boxes","box","x1","y1","x2","y2","index","x1New","x2New","expandBoundsLTR","fakeBoundary","Infinity","horizon","boundary","horizonPart","affectedBoundary","q","k","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","used","concat","TextLayerRenderTask","_ref","textContentStream","textContentItemsStr","enhanceTextSelection","_textContent","_container","_textContentItemsStr","_reader","_layoutTextLastFontSize","_layoutTextLastFontFamily","_layoutTextCtx","_renderTimer","TextLayer_cancel","clearTimeout","_processItems","styleCache","textLayerFrag","_lastFontSize","_lastFontFamily","measureText","_render","TextLayer_render","timeout","mozOpaque","alpha","textItems","textStyles","setTimeout","expandTextDivs","TextLayer_expandTextDivs","expandDivs","padding","renderParameters","fixMetadata","meta","codes","chars","Metadata","parser","DOMParser","parseFromString","Document","metaDocument","parse","Metadata_parse","doc","rdf","nodeName","firstChild","nextSibling","hasChildNodes","children","childNodes","entry","iLength","trim","Metadata_get","Metadata_has","WebGLUtils","WebGLUtilsClosure","loadShader","gl","shaderType","shader","createShader","shaderSource","compileShader","compiled","getShaderParameter","COMPILE_STATUS","errorMsg","getShaderInfoLog","createVertexShader","VERTEX_SHADER","createFragmentShader","FRAGMENT_SHADER","createProgram","shaders","program","attachShader","linkProgram","linked","getProgramParameter","LINK_STATUS","getProgramInfoLog","createTexture","textureId","activeTexture","texture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","currentGL","currentCanvas","generateGL","premultipliedalpha","smaskVertexShaderCode","smaskFragmentShaderCode","smaskCache","initSmaskGL","vertexShader","fragmentShader","useProgram","cache","resolutionLocation","getUniformLocation","positionLocation","getAttribLocation","backdropLocation","subtypeLocation","texCoordLocation","texLayerLocation","texMaskLocation","texCoordBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","composeSMask","properties","drawingBufferWidth","drawingBufferHeight","uniform2f","backdrop","uniform4f","TEXTURE0","maskTexture","TEXTURE1","clearColor","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","flush","deleteTexture","deleteBuffer","figuresVertexShaderCode","figuresFragmentShaderCode","figuresCache","initFiguresGL","scaleLocation","offsetLocation","colorLocation","drawFigures","figures","rows","coords","verticesPerRow","colors","coordsMap","colorsMap","pIndex","cIndex","figure","ps","cs","cols","row","col","jj","coordsBuffer","colorsBuffer","scaleX","scaleY","isEnabled","isWorker","PDFJS_createObjectURL","PDFJS_isLittleEndian","savedOpenExternalLinksInNewWindow","openExternalLinksInNewWindow","_api","hasCanvasTypedArrays","_annotation_layer","_text_layer","_metadata","_svg","UnsupportedManager","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","NetworkManager","isHttp","httpHeaders","withCredentials","getXhr","NetworkManager_getXhr","currXhrId","pendingRequests","loadedRequests","getArrayBuffer","xhr","array","supportsMozChunked","supportsMozChunkedClosure","requestRange","NetworkManager_requestRange","requestFull","NetworkManager_requestFull","NetworkManager_request","xhrId","pendingRequest","property","setRequestHeader","rangeStr","expectedStatus","useMozChunkedLoading","onProgressiveData","mozChunked","onError","onStateChange","onprogress","onHeadersReceived","onDone","NetworkManager_onProgress","NetworkManager_onStateChange","xhrStatus","ok_response_on_range_request","rangeHeader","getResponseHeader","matches","exec","hasPendingRequests","NetworkManager_hasPendingRequests","getRequestXhr","isStreamingRequest","NetworkManager_isStreamingRequest","isPendingRequest","NetworkManager_isPendingRequest","isLoadedRequest","NetworkManager_isLoadedRequest","abortAllRequests","NetworkManager_abortAllRequests","abortRequest","NetworkManager_abortRequest","_options","_manager","_rangeChunkSize","_fullRequestReader","_rangeRequestReaders","_onRangeRequestReaderClosed","PDFNetworkStream_onRangeRequestReaderClosed","PDFNetworkStream_getFullReader","PDFNetworkStreamFullRequestReader","PDFNetworkStream_getRangeReader","PDFNetworkStreamRangeRequestReader","onClosed","PDFNetworkStream_cancelAllRequests","readers","manager","_onHeadersReceived","_onProgressiveData","_onDone","_onError","_onProgress","_url","_fullRequestId","_headersReceivedCapability","_disableRange","_contentLength","_isStreamingSupported","_isRangeSupported","_cachedChunks","_requests","_done","_storedError","_validateRangeRequestCapabilities","PDFNetworkStreamFullRequestReader_validateRangeRequestCapabilities","networkManager","fullRequestXhrId","fullRequestXhr","contentEncoding","PDFNetworkStreamFullRequestReader_onHeadersReceived","PDFNetworkStreamFullRequestReader_onProgressiveData","requestCapability","shift","PDFNetworkStreamFullRequestReader_onDone","PDFNetworkStreamFullRequestReader_onError","PDFNetworkStreamFullRequestReader_onProgress","lengthComputable","PDFNetworkStreamFullRequestReader_read","PDFNetworkStreamFullRequestReader_cancel","_requestId","_queuedChunk","_close","PDFNetworkStreamRangeRequestReader_close","PDFNetworkStreamRangeRequestReader_onDone","PDFNetworkStreamRangeRequestReader_onProgress","PDFNetworkStreamRangeRequestReader_read","PDFNetworkStreamRangeRequestReader_cancel","installedModules","moduleId","getter","o","__esModule","getDefault","getModuleExports","object","hasOwnProperty","Symbol","_typeof2","iterator","_require","IsPropertyKey","argument","typeIsObject","createDataProperty","createArrayFromList","elements","ArrayBufferCopy","destOffset","srcOffset","CreateIterResultObject","IsFiniteNonNegativeNumber","Number","Call","F","V","TypeError","InvokeOrNoop","O","P","method","PromiseInvokeOrNoop","returnValueE","PromiseInvokeOrPerformFallback","argsF","methodE","TransferArrayBuffer","ValidateAndNormalizeHighWaterMark","RangeError","ValidateAndNormalizeQueuingStrategy","rethrowAssertionErrorRejection","AssertionError","stack","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","instance","_require2","_require3","DequeueValue","EnqueueValueWithSize","PeekQueueValue","ResetQueue","WritableStream","underlyingSink","_ref$highWaterMark","_state","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","WritableStreamDefaultController","__startSteps","IsWritableStream","streamBrandCheckException","IsWritableStreamLocked","WritableStreamAbort","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultControllerError","WritableStreamDefaultWriterCloseWithErrorPropagation","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamCloseQueuedOrInFlight","WritableStreamDefaultWriter","wasAlreadyErroring","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","WritableStreamAddWriteRequest","writeRequest","WritableStreamDealWithRejection","WritableStreamFinishErroring","writer","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","_started","__errorSteps","storedError","WritableStreamRejectCloseAndClosedPromiseIfNeeded","__abortSteps","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamFinishInFlightClose","defaultWriterClosedPromiseResolve","WritableStreamFinishInFlightCloseWithError","WritableStreamMarkCloseRequestInFlight","WritableStreamMarkFirstWriteRequestInFlight","defaultWriterClosedPromiseReject","_closedPromise","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseReset","defaultWriterReadyPromiseResolve","_ownerWritableStream","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","_readyPromise","defaultWriterClosedPromiseInitializeAsResolved","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","releaseLock","write","WritableStreamDefaultWriterGetDesiredSize","closeRequest","WritableStreamDefaultControllerClose","WritableStreamDefaultWriterEnsureClosedPromiseRejected","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","WritableStreamDefaultControllerGetDesiredSize","releasedError","chunkSize","WritableStreamDefaultControllerGetChunkSize","WritableStreamDefaultControllerWrite","_controlledWritableStream","_underlyingSink","_queue","_queueTotalSize","normalizedStrategy","_strategySize","_strategyHWM","WritableStreamDefaultControllerGetBackpressure","IsWritableStreamDefaultController","startResult","WritableStreamDefaultControllerAdvanceQueueIfNeeded","strategySize","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","writeRecord","enqueueE","WritableStreamDefaultControllerProcessClose","WritableStreamDefaultControllerProcessWrite","sinkClosePromise","sinkWritePromise","_closedPromise_resolve","_closedPromise_reject","_readyPromise_resolve","_readyPromise_reject","pair","_require4","_require5","underlyingSource","_disturbed","_readableStreamController","typeString","ReadableByteStreamController","ReadableStreamDefaultController","IsReadableStream","IsReadableStreamLocked","ReadableStreamCancel","_ref2","mode","AcquireReadableStreamDefaultReader","AcquireReadableStreamBYOBReader","pipeThrough","_ref3","readable","pipeTo","ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue","_ref4","preventClose","preventAbort","preventCancel","Boolean","shuttingDown","currentWrite","pipeLoop","_ref5","isOrBecomesErrored","shutdownWithAction","shutdown","isOrBecomesClosed","destClosed","err","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","newError","isError","ReadableStreamReaderGenericRelease","tee","branches","ReadableStreamTee","IsReadableStreamDisturbed","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamBYOBReader","ReadableStreamDefaultReader","cloneForBranch2","teeState","closedOrErrored","canceled1","canceled2","reason1","reason2","create_ReadableStreamTeePullFunction","_teeState","_cloneForBranch2","cancel1","create_ReadableStreamTeeBranch1CancelFunction","_stream","cancel2","create_ReadableStreamTeeBranch2CancelFunction","underlyingSource1","branch1Stream","underlyingSource2","branch2Stream","_branch1","_branch2","branch1","branch2","value1","value2","compositeReason","cancelResult","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","readIntoRequest","_readIntoRequests","ReadableStreamAddReadRequest","IsReadableStreamDefaultReader","readRequest","_readRequests","ReadableStreamClose","sourceCancelPromise","__cancelSteps","defaultReaderClosedPromiseResolve","ReadableStreamError","_i","defaultReaderClosedPromiseReject","ReadableStreamFulfillReadIntoRequest","ReadableStreamFulfillReadRequest","ReadableStreamGetNumReadIntoRequests","ReadableStreamGetNumReadRequests","ReadableStreamHasBYOBReader","ReadableStreamHasDefaultReader","ReadableStreamReaderGenericInitialize","defaultReaderBrandCheckException","_ownerReadableStream","readerLockException","ReadableStreamReaderGenericCancel","ReadableStreamDefaultReaderRead","IsReadableByteStreamController","byobReaderBrandCheckException","ArrayBuffer","isView","ReadableStreamBYOBReaderRead","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","defaultReaderClosedPromiseResetToRejected","ReadableByteStreamControllerPullInto","__pullSteps","_controlledReadableStream","_underlyingSource","_closeRequested","_pullAgain","_pulling","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerErrorIfNeeded","IsReadableStreamDefaultController","defaultControllerBrandCheckException","pendingPromise","shouldPull","ReadableStreamDefaultControllerShouldCallPull","pullPromise","ReadableStreamBYOBRequest","_associatedReadableByteStreamController","_view","respond","bytesWritten","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","ReadableByteStreamControllerRespond","respondWithNewView","ReadableByteStreamControllerRespondWithNewView","underlyingByteSource","_underlyingByteSource","ReadableByteStreamControllerClearPendingPullIntos","autoAllocateChunkSize","isInteger","_autoAllocateChunkSize","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","ReadableByteStreamControllerError","byteStreamControllerBrandCheckException","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","firstDescriptor","bytesFilled","ReadableByteStreamControllerHandleQueueDrain","viewE","bufferE","pullIntoDescriptor","elementSize","ctor","readerType","_byobRequest","ReadableByteStreamControllerGetDesiredSize","ReadableByteStreamControllerShouldCallPull","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","queue","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","DataView","BYTES_PER_ELEMENT","emptyView","ReadableByteStreamControllerRespondInClosedState","ReadableByteStreamControllerRespondInReadableState","remainderSize","remainder","ReadableByteStreamControllerRespondInternal","firstPendingPullInto","transferredBuffer","transferredView","transformStream","writableStream","TransformStream","TransformStreamCloseReadable","_errored","_readableClosed","TransformStreamCloseReadableInternal","TransformStreamEnqueueToReadable","_readableController","TransformStreamErrorIfNeeded","maybeBackpressure","TransformStreamSetBackpressure","TransformStreamError","TransformStreamErrorInternal","_writableDone","_writableController","TransformStreamReadableReadyPromise","_backpressureChangePromise","_backpressureChangePromise_resolve","resolution","TransformStreamDefaultTransform","transformStreamController","_controlledTransformStream","TransformStreamTransform","_transforming","transformer","_transformer","_transformStreamController","transformPromise","IsTransformStreamDefaultController","IsTransformStream","TransformStreamSink","startPromise","_transformStream","_startPromise","flushPromise","TransformStreamSource","TransformStreamDefaultController","readableController","readableStrategy","writableStrategy","startPromise_resolve","_readable","_writable","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","MIN_WIDTH_FACTOR","COMPILE_TYPE3_GLYPHS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","IsLittleEndianCached","addContextCurrentTransform","ctx","mozCurrentTransform","_originalSave","_originalRestore","_originalRotate","_originalScale","_originalTranslate","translate","_originalTransform","_originalSetTransform","setTransform","_transformMatrix","_transformStack","getCurrentTransform","getCurrentTransformInverse","ad_bc","bc_ad","ctxSave","ctxRestore","ctxTranslate","ctxScale","ctxTransform","ctxSetTransform","ctxRotate","cosValue","sinValue","CachedCanvases","CachedCanvasesClosure","getCanvas","CachedCanvases_getCanvas","trackTransform","canvasEntry","reset","compileType3Glyph","POINT_TO_PROCESS_LIMIT","j0","width1","POINT_TYPES","data0","elem","sum","steps","outlines","p0","pp","step","drawOutline","beginPath","CanvasExtraState","CanvasExtraStateClosure","alphaIsShape","textMatrixScale","textRenderingMode","patternFill","activeSMask","resumeSMaskCtx","CanvasExtraState_clone","CanvasExtraState_setCurrentPoint","CanvasGraphics","CanvasGraphicsClosure","EXECUTION_TIME","EXECUTION_STEPS","canvasCtx","stateStack","res","xobjs","groupStack","processingType3","baseTransform","baseTransformStack","groupLevel","smaskStack","smaskCounter","tempSMask","cachedCanvases","cachedGetSinglePixelWidth","putBinaryImageData","ImageData","putImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","createImageData","srcPos","destPos","thisChunkHeight","elemsInThisChunk","srcLength","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","strokeStyle","fillStyle","fillRule","globalAlpha","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","hasBackdrop","composeFn","PIXELS_TO_PROCESS","chunkHeight","_webgl","composed","NORMAL_CLIP","EO_CLIP","_ref$background","fillRect","transparentCanvas","compositeCtx","beginLayout","CanvasGraphics_executeOperatorList","executionStartIdx","argsArrayLen","chunkOperations","endTime","breakIt","depObjId","objsPool","CanvasGraphics_endDrawing","endSMaskGroup","endLayout","CanvasGraphics_setLineWidth","CanvasGraphics_setLineCap","CanvasGraphics_setLineJoin","CanvasGraphics_setMiterLimit","CanvasGraphics_setDash","CanvasGraphics_setRenderingIntent","CanvasGraphics_setFlatness","flatness","CanvasGraphics_setGState","suspendSMaskGroup","beginSMaskGroup","CanvasGraphics_beginSMaskGroup","drawnWidth","drawnHeight","cacheId","scratchCanvas","currentCtx","currentTransform","groupCtx","startTransformInverse","mozCurrentTransformInverse","CanvasGraphics_endSMaskGroup","deltaTransform","clearRect","resumeSMaskGroup","CanvasGraphics_save","CanvasGraphics_restore","CanvasGraphics_transform","CanvasGraphics_constructPath","getSinglePixelWidth","bezierCurveTo","CanvasGraphics_closePath","CanvasGraphics_stroke","consumePath","getPattern","CanvasGraphics_closeStroke","CanvasGraphics_fill","isPatternFill","needRestore","CanvasGraphics_eoFill","CanvasGraphics_fillStroke","CanvasGraphics_eoFillStroke","CanvasGraphics_closeFillStroke","CanvasGraphics_closeEOFillStroke","CanvasGraphics_endPath","CanvasGraphics_clip","CanvasGraphics_eoClip","CanvasGraphics_beginText","CanvasGraphics_endText","paths","pendingTextPaths","addToPath","CanvasGraphics_setCharSpacing","CanvasGraphics_setWordSpacing","CanvasGraphics_setHScale","CanvasGraphics_setLeading","CanvasGraphics_setFont","isType3Font","typeface","browserFontSize","rule","CanvasGraphics_setTextRenderingMode","CanvasGraphics_setTextRise","rise","CanvasGraphics_moveText","CanvasGraphics_setLeadingMoveText","CanvasGraphics_setTextMatrix","CanvasGraphics_nextLine","paintChar","CanvasGraphics_paintChar","fillStrokeMode","isAddToPathSet","getPathGenerator","fillText","strokeText","isFontSubpixelAAEnabled","CanvasGraphics_showText","showType3Text","spacingDir","defaultVMetrics","simpleFillText","restoreNeeded","accent","scaledX","scaledY","scaledAccentX","scaledAccentY","vmetric","vx","vy","remeasure","measuredWidth","characterScaleX","isInFont","missingFile","CanvasGraphics_showType3Text","isTextInvisible","spacingLength","charProcOperatorList","operatorListId","transformed","CanvasGraphics_setCharWidth","xWidth","yWidth","CanvasGraphics_setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","CanvasGraphics_getColorN_Pattern","IR","pattern","canvasGraphicsFactory","createCanvasGraphics","CanvasGraphics_setStrokeColorN","CanvasGraphics_setFillColorN","CanvasGraphics_setStrokeRGBColor","CanvasGraphics_setFillRGBColor","CanvasGraphics_shadingFill","patternIR","inv","bl","ul","ur","x0","y0","CanvasGraphics_beginInlineImage","CanvasGraphics_beginImageData","CanvasGraphics_paintFormXObjectBegin","CanvasGraphics_paintFormXObjectEnd","CanvasGraphics_beginGroup","isolated","knockout","canvasBounds","floor","CanvasGraphics_endGroup","imageSmoothingEnabled","mozImageSmoothingEnabled","CanvasGraphics_beginAnnotations","CanvasGraphics_endAnnotations","CanvasGraphics_beginAnnotation","CanvasGraphics_endAnnotation","CanvasGraphics_paintJpegXObject","domImage","position","getCanvasPosition","appendImage","CanvasGraphics_paintImageMaskXObject","maskCanvas","CanvasGraphics_paintImageMaskXObjectRepeat","positions","CanvasGraphics_paintImageMaskXObjectGroup","images","CanvasGraphics_paintImageXObject","CanvasGraphics_paintImageXObjectRepeat","CanvasGraphics_paintInlineImageXObject","widthScale","heightScale","imgToPaint","HTMLElement","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","CanvasGraphics_paintInlineImageXObjectGroup","CanvasGraphics_paintSolidColorImageMask","CanvasGraphics_paintXObject","CanvasGraphics_markPoint","tag","CanvasGraphics_markPointProps","CanvasGraphics_beginMarkedContent","CanvasGraphics_beginMarkedContentProps","CanvasGraphics_endMarkedContent","CanvasGraphics_beginCompat","CanvasGraphics_endCompat","CanvasGraphics_consumePath","CanvasGraphics_getSinglePixelWidth","inverse","CanvasGraphics_getCanvasPosition","FontLoader","styleElement","nativeFontFaces","loadTestFontId","loadingContext","requests","nextRequestId","insertRule","fontLoaderInsertRule","styleSheet","sheet","cssRules","fontLoaderClear","remove","nativeFontFace","fonts","getLoadTestFont","atob","addNativeFontFace","fontLoader_addNativeFontFace","fontLoaderBind","rules","fontsToLoad","fontLoadPromises","getNativeFontPromise","family","isFontLoadingAPISupported","isSyncFontLoadingSupported","attached","loading","createNativeFontFace","createFontFaceRule","queueLoadingCallback","prepareFontLoadEvent","FontLoader_queueLoadingCallback","LoadLoader_completeRequest","otherRequest","requestId","fontLoaderPrepareFontLoadEvent","int32","spliceString","insert","chunk1","chunk2","called","isFontReady","loadTestFont","COMMENT_OFFSET","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","btoa","names","removeChild","navigator","supported","userAgent","IsEvalSupportedCached","FontFaceObject","FontFaceObjectClosure","translatedData","compiledGlyphs","FontFaceObject_createNativeFontFace","FontFace","FontFaceObject_createFontFaceRule","FontFaceObject_getPathGenerator","cmds","js","cmd","ShadingIRs","RadialAxial","fromIR","RadialAxial_fromIR","raw","colorStops","r1","RadialAxial_getPattern","grad","createLinearGradient","createRadialGradient","addColorStop","createMeshCanvas","createMeshCanvasClosure","drawTriangle","c1","c2","c3","rowSize","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","round","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","drawFigure","combinesScale","EXPECTED_SCALE","MAX_PATTERN_SIZE","BORDER_SIZE","boundsWidth","boundsHeight","paddedWidth","paddedHeight","Mesh","Mesh_fromIR","Mesh_getPattern","owner","matrixScale","temporaryPatternCanvas","createPattern","Dummy","Dummy_fromIR","Dummy_fromIR_getPattern","getShadingPatternFromIR","shadingIR","TilingPattern","TilingPatternClosure","PaintType","COLORED","UNCOLORED","xstep","ystep","paintType","tilingType","createPatternCanvas","TilinPattern_createPatternCanvas","topLeft","botRight","curMatrixScale","combinedScale","graphics","setFillAndStrokeStyleToContext","setScale","transformToScale","tmpTranslate","clipBbox","TilingPattern_setScale","TilingPattern_transformToScale","tmpScale","scaleToContext","TilingPattern_scaleToContext","bboxWidth","bboxHeight","cssColor","TilingPattern_getPattern","PDFDataTransportStream","PDFDataTransportStreamClosure","_queuedChunks","_pdfDataRangeTransport","_rangeReaders","_onReceiveData","PDFDataTransportStream_onReceiveData","_enqueue","found","rangeReader","_begin","PDFDataTransportStream_onDataProgress","firstReader","_removeRangeReader","PDFDataTransportStream_removeRangeReader","PDFDataTransportStream_getFullReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStream_getRangeReader","PDFDataTransportStreamRangeReader","PDFDataTransportStream_cancelAllRequests","_headersReady","PDFDataTransportStreamReader_enqueue","PDFDataTransportStreamReader_read","PDFDataTransportStreamReader_cancel","_end","PDFDataTransportStreamRangeReader_enqueue","requestsCapability","PDFDataTransportStreamRangeReader_read","PDFDataTransportStreamRangeReader_cancel","pdfjsVersion","pdfjsBuild","pdfjsSharedUtil","pdfjsDisplayGlobal","pdfjsDisplayAPI","pdfjsDisplayTextLayer","pdfjsDisplayAnnotationLayer","pdfjsDisplayDOMUtils","pdfjsDisplaySVG","compatibilityChecked","isAndroid","isAndroidPre3","isAndroidPre5","isChrome","isChromeWithRangeBug","isIOSChrome","isIE","isIOS","isOpera","isSafari","hasDOM","checkTypedArrayCompatibility","TypedArray","setArrayOffset","Uint32ArrayView","ensureUint32ArrayViewProps","uint32ArrayViewSetters","createUint32ArrayProp","arg1","Int8Array","Uint16Array","canvasPixelArrayBuffer","CanvasPixelArray","cpaProto","normalizeURLObject","webkitURL","checkObjectDefinePropertyCompatibility","definePropertyPossible","Test","objectDefineProperty","def","__defineGetter__","__defineSetter__","objectDefinePropertySetter","objectDefinePropertyGetter","checkXMLHttpRequestResponseCompatibility","xhrPrototype","xmlHttpRequestOverrideMimeType","mimeType","xmlHttpRequestGetResponseType","_responseType","xmlHttpRequestSetResponseType","overrideMimeType","VBArray","xmlHttpRequestResponseGet","responseBody","toArray","text","checkWindowBtoaCompatibility","checkWindowAtobCompatibility","bc","bs","idx","checkFunctionPrototypeBindCompatibility","functionPrototypeBind","headArgs","bound","functionPrototypeBindBound","checkDatasetProperty","_dataset","attributes","attribute","checkClassListProperty","changeList","itemName","list","classListPrototype","contains","toggle","_classList","checkWorkerConsoleCompatibility","importScripts","consoleTimer","workerConsole","checkConsoleCompatibility","checkOnClickCompatibility","ignoreIfTargetDisabled","isDisabled","stopPropagation","parentNode","checkOnBlobSupport","checkNavigatorLanguage","locale","userLanguage","checkRangeRequests","checkHistoryManipulation","history","pushState","disableHistory","checkSetPresenceInImageData","polyfill","versionMatch","match","contextPrototype","CanvasRenderingContext2D","checkRequestAnimationFrame","installFakeAnimationFrameFunctions","cancelAnimationFrame","timeoutID","mozRequestAnimationFrame","webkitRequestAnimationFrame","checkCanvasSizeLimitation","maxCanvasPixels","checkFullscreenSupport","parent","disableFullscreen","checkCurrentScript","scripts","checkInputTypeNumberAssign","el","inputProto","typeProperty","checkDocumentReadyState","attachEvent","documentProto","readyStateProto","checkChildNodeRemove","Element","checkNumberIsNaN","checkNumberIsInteger","isFinite","checkPromise","iterable","resolve_","reject_","onReject","STATUS_PENDING","STATUS_RESOLVED","STATUS_REJECTED","REJECTION_TIMEOUT","HandlerManager","handlers","unhandledRejections","pendingRejectionCheck","scheduleHandlers","_status","_handlers","runHandlers","RUN_TIMEOUT","timeoutAt","nextStatus","thisPromise","nextValue","_value","onResolve","_unhandledRejection","removeUnhandeledRejection","nextPromise","_updateStatus","addUnhandledRejection","scheduleRejectionCheck","unhandled","_","resolver","Promise_all","promises","resolveAll","rejectAll","deferred","unresolved","isPromise","Promise_isPromise","Promise_resolve","Promise_reject","Promise__updateStatus","Promise_then","Promise_catch","checkWeakMap","checkURLConstructor","hasWorkingUrl","u","pathname","relative","relativePathDotMapping","isRelativeScheme","scheme","invalid","_isInvalid","IDNAToASCII","percentEscape","unicode","percentEscapeQuery","EOF","ALPHA","ALPHANUMERIC","stateOverride","cursor","seenAt","seenBracket","loop","_scheme","_isRelative","_query","_fragment","_schemeData","_host","_path","_username","_password","nextC","nextNextC","cp","tempC","temp","JURL","authority","host","hostname","search","hash","OriginalURL","revokeObjectURL","isReadableStreamSupported"],"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b5fe8ab6eb949fc98816","webpack:///src/shared/util.js","webpack:///src/display/dom_utils.js","webpack:///src/display/api.js","webpack:///src/display/annotation_layer.js","webpack:///src/display/svg.js","webpack:///src/display/text_layer.js","webpack:///src/display/metadata.js","webpack:///src/display/webgl.js","webpack:///src/display/global.js","webpack:///src/display/network.js","webpack:///external/streams/streams-lib.js","webpack:///src/display/canvas.js","webpack:///src/display/font_loader.js","webpack:///src/display/pattern_helper.js","webpack:///src/display/transport_stream.js","webpack:///src/pdf.js","webpack:///src/shared/compatibility.js","webpack:///src/shared/streams_polyfill.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__w_pdfjs_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b5fe8ab6eb949fc98816","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport './compatibility';\nimport { ReadableStream } from './streams_polyfill';\n\nvar globalScope =\n  (typeof window !== 'undefined' && window.Math === Math) ? window :\n  // eslint-disable-next-line no-undef\n  (typeof global !== 'undefined' && global.Math === Math) ? global :\n  (typeof self !== 'undefined' && self.Math === Math) ? self : this;\n\nvar FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\nconst NativeImageDecoding = {\n  NONE: 'none',\n  DECODE: 'decode',\n  DISPLAY: 'display',\n};\n\nvar TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nvar ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nvar AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nvar AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nvar AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nvar AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nvar StreamType = {\n  UNKNOWN: 0,\n  FLATE: 1,\n  LZW: 2,\n  DCT: 3,\n  JPX: 4,\n  JBIG: 5,\n  A85: 6,\n  AHX: 7,\n  CCF: 8,\n  RL: 9,\n};\n\nvar FontType = {\n  UNKNOWN: 0,\n  TYPE1: 1,\n  TYPE1C: 2,\n  CIDFONTTYPE0: 3,\n  CIDFONTTYPE0C: 4,\n  TRUETYPE: 5,\n  CIDFONTTYPE2: 6,\n  TYPE3: 7,\n  OPENTYPE: 8,\n  TYPE0: 9,\n  MMTYPE1: 10,\n};\n\nvar VERBOSITY_LEVELS = {\n  errors: 0,\n  warnings: 1,\n  infos: 5,\n};\n\nvar CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nvar OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nvar verbosity = VERBOSITY_LEVELS.warnings;\n\nfunction setVerbosityLevel(level) {\n  verbosity = level;\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VERBOSITY_LEVELS.infos) {\n    console.log('Info: ' + msg);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VERBOSITY_LEVELS.warnings) {\n    console.log('Warning: ' + msg);\n  }\n}\n\n// Deprecated API function -- display regardless of the PDFJS.verbosity setting.\nfunction deprecated(details) {\n  console.log('Deprecated API usage: ' + details);\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\nvar UNSUPPORTED_FEATURES = {\n  unknown: 'unknown',\n  forms: 'forms',\n  javaScript: 'javaScript',\n  smask: 'smask',\n  shadingPattern: 'shadingPattern',\n  font: 'font',\n};\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  try {\n    var base = new URL(baseUrl);\n    if (!base.origin || base.origin === 'null') {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  var other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the whitelisted protocols, e.g. to avoid XSS.\nfunction isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case 'http:':\n    case 'https:':\n    case 'ftp:':\n    case 'mailto:':\n    case 'tel:':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL (utilizing `isValidProtocol`).\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    var absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) { /* `new URL()` will throw on incorrect data. */ }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, { value,\n                                     enumerable: true,\n                                     configurable: true,\n                                     writable: false, });\n  return value;\n}\n\nfunction getLookupTableFactory(initializer) {\n  var lookup;\n  return function () {\n    if (initializer) {\n      lookup = Object.create(null);\n      initializer(lookup);\n      initializer = null;\n    }\n    return lookup;\n  };\n}\n\nvar PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nvar PasswordException = (function PasswordExceptionClosure() {\n  function PasswordException(msg, code) {\n    this.name = 'PasswordException';\n    this.message = msg;\n    this.code = code;\n  }\n\n  PasswordException.prototype = new Error();\n  PasswordException.constructor = PasswordException;\n\n  return PasswordException;\n})();\n\nvar UnknownErrorException = (function UnknownErrorExceptionClosure() {\n  function UnknownErrorException(msg, details) {\n    this.name = 'UnknownErrorException';\n    this.message = msg;\n    this.details = details;\n  }\n\n  UnknownErrorException.prototype = new Error();\n  UnknownErrorException.constructor = UnknownErrorException;\n\n  return UnknownErrorException;\n})();\n\nvar InvalidPDFException = (function InvalidPDFExceptionClosure() {\n  function InvalidPDFException(msg) {\n    this.name = 'InvalidPDFException';\n    this.message = msg;\n  }\n\n  InvalidPDFException.prototype = new Error();\n  InvalidPDFException.constructor = InvalidPDFException;\n\n  return InvalidPDFException;\n})();\n\nvar MissingPDFException = (function MissingPDFExceptionClosure() {\n  function MissingPDFException(msg) {\n    this.name = 'MissingPDFException';\n    this.message = msg;\n  }\n\n  MissingPDFException.prototype = new Error();\n  MissingPDFException.constructor = MissingPDFException;\n\n  return MissingPDFException;\n})();\n\nvar UnexpectedResponseException =\n    (function UnexpectedResponseExceptionClosure() {\n  function UnexpectedResponseException(msg, status) {\n    this.name = 'UnexpectedResponseException';\n    this.message = msg;\n    this.status = status;\n  }\n\n  UnexpectedResponseException.prototype = new Error();\n  UnexpectedResponseException.constructor = UnexpectedResponseException;\n\n  return UnexpectedResponseException;\n})();\n\nvar NotImplementedException = (function NotImplementedExceptionClosure() {\n  function NotImplementedException(msg) {\n    this.message = msg;\n  }\n\n  NotImplementedException.prototype = new Error();\n  NotImplementedException.prototype.name = 'NotImplementedException';\n  NotImplementedException.constructor = NotImplementedException;\n\n  return NotImplementedException;\n})();\n\nvar MissingDataException = (function MissingDataExceptionClosure() {\n  function MissingDataException(begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.message = 'Missing data [' + begin + ', ' + end + ')';\n  }\n\n  MissingDataException.prototype = new Error();\n  MissingDataException.prototype.name = 'MissingDataException';\n  MissingDataException.constructor = MissingDataException;\n\n  return MissingDataException;\n})();\n\nvar XRefParseException = (function XRefParseExceptionClosure() {\n  function XRefParseException(msg) {\n    this.message = msg;\n  }\n\n  XRefParseException.prototype = new Error();\n  XRefParseException.prototype.name = 'XRefParseException';\n  XRefParseException.constructor = XRefParseException;\n\n  return XRefParseException;\n})();\n\n/**\n * Error caused during parsing PDF data.\n */\nlet FormatError = (function FormatErrorClosure() {\n  function FormatError(msg) {\n    this.message = msg;\n  }\n\n  FormatError.prototype = new Error();\n  FormatError.prototype.name = 'FormatError';\n  FormatError.constructor = FormatError;\n\n  return FormatError;\n})();\n\n/**\n * Error used to indicate task cancellation.\n */\nlet AbortException = (function AbortExceptionClosure() {\n  function AbortException(msg) {\n    this.name = 'AbortException';\n    this.message = msg;\n  }\n\n  AbortException.prototype = new Error();\n  AbortException.constructor = AbortException;\n\n  return AbortException;\n})();\n\nvar NullCharactersRegExp = /\\x00/g;\n\nfunction removeNullCharacters(str) {\n  if (typeof str !== 'string') {\n    warn('The argument for removeNullCharacters must be a string.');\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, '');\n}\n\nfunction bytesToString(bytes) {\n  assert(bytes !== null && typeof bytes === 'object' &&\n         bytes.length !== undefined, 'Invalid argument for bytesToString');\n  var length = bytes.length;\n  var MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  var strBuf = [];\n  for (var i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    var chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    var chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join('');\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === 'string', 'Invalid argument for stringToBytes');\n  var length = str.length;\n  var bytes = new Uint8Array(length);\n  for (var i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xFF;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined);\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array} arr - the array of the arrays (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (arr.length === 1 && (arr[0] instanceof Uint8Array)) {\n    return arr[0];\n  }\n  var resultLength = 0;\n  var i, ii = arr.length;\n  var item, itemLength;\n  for (i = 0; i < ii; i++) {\n    item = arr[i];\n    itemLength = arrayByteLength(item);\n    resultLength += itemLength;\n  }\n  var pos = 0;\n  var data = new Uint8Array(resultLength);\n  for (i = 0; i < ii; i++) {\n    item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === 'string') {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode((value >> 24) & 0xff, (value >> 16) & 0xff,\n                             (value >> 8) & 0xff, value & 0xff);\n}\n\nfunction log2(x) {\n  var n = 1, i = 0;\n  while (x > n) {\n    n <<= 1;\n    i++;\n  }\n  return i;\n}\n\nfunction readInt8(data, start) {\n  return (data[start] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return ((data[offset] << 24) | (data[offset + 1] << 16) |\n         (data[offset + 2] << 8) | data[offset + 3]) >>> 0;\n}\n\n// Lazy test the endianness of the platform\n// NOTE: This will be 'true' for simulated TypedArrays\nfunction isLittleEndian() {\n  var buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  var view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return (view32[0] === 1);\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(''); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\n\nvar Util = (function UtilClosure() {\n  function Util() {}\n\n  var rgbBuf = ['rgb(', 0, ',', 0, ',', 0, ')'];\n\n  // makeCssRgb() can be called thousands of times. Using |rgbBuf| avoids\n  // creating many intermediate strings.\n  Util.makeCssRgb = function Util_makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join('');\n  };\n\n  // Concatenates two transformation matrices together and returns the result.\n  Util.transform = function Util_transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5]\n    ];\n  };\n\n  // For 2d affine transforms\n  Util.applyTransform = function Util_applyTransform(p, m) {\n    var xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    var yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  };\n\n  Util.applyInverseTransform = function Util_applyInverseTransform(p, m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    var xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    var yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  };\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  Util.getAxialAlignedBoundingBox =\n    function Util_getAxialAlignedBoundingBox(r, m) {\n\n    var p1 = Util.applyTransform(r, m);\n    var p2 = Util.applyTransform(r.slice(2, 4), m);\n    var p3 = Util.applyTransform([r[0], r[3]], m);\n    var p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1])\n    ];\n  };\n\n  Util.inverseTransform = function Util_inverseTransform(m) {\n    var d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  };\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  Util.apply3dTransform = function Util_apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2]\n    ];\n  };\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  Util.singularValueDecompose2dScale =\n    function Util_singularValueDecompose2dScale(m) {\n\n    var transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    var a = m[0] * transpose[0] + m[1] * transpose[2];\n    var b = m[0] * transpose[1] + m[1] * transpose[3];\n    var c = m[2] * transpose[0] + m[3] * transpose[2];\n    var d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    var first = (a + d) / 2;\n    var second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    var sx = first + second || 1;\n    var sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  };\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  Util.normalizeRect = function Util_normalizeRect(rect) {\n    var r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  };\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  Util.intersect = function Util_intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    var orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare),\n        orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare),\n        result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if ((orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n        (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return false;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if ((orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n        (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return false;\n    }\n\n    return result;\n  };\n\n  Util.sign = function Util_sign(num) {\n    return num < 0 ? -1 : 1;\n  };\n\n  var ROMAN_NUMBER_MAP = [\n    '', 'C', 'CC', 'CCC', 'CD', 'D', 'DC', 'DCC', 'DCCC', 'CM',\n    '', 'X', 'XX', 'XXX', 'XL', 'L', 'LX', 'LXX', 'LXXX', 'XC',\n    '', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX'\n  ];\n  /**\n   * Converts positive integers to (upper case) Roman numerals.\n   * @param {integer} number - The number that should be converted.\n   * @param {boolean} lowerCase - Indicates if the result should be converted\n   *   to lower case letters. The default is false.\n   * @return {string} The resulting Roman number.\n   */\n  Util.toRoman = function Util_toRoman(number, lowerCase) {\n    assert(isInt(number) && number > 0,\n           'The number should be a positive integer.');\n    var pos, romanBuf = [];\n    // Thousands\n    while (number >= 1000) {\n      number -= 1000;\n      romanBuf.push('M');\n    }\n    // Hundreds\n    pos = (number / 100) | 0;\n    number %= 100;\n    romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n    // Tens\n    pos = (number / 10) | 0;\n    number %= 10;\n    romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n    // Ones\n    romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n\n    var romanStr = romanBuf.join('');\n    return (lowerCase ? romanStr.toLowerCase() : romanStr);\n  };\n\n  Util.appendToArray = function Util_appendToArray(arr1, arr2) {\n    Array.prototype.push.apply(arr1, arr2);\n  };\n\n  Util.prependToArray = function Util_prependToArray(arr1, arr2) {\n    Array.prototype.unshift.apply(arr1, arr2);\n  };\n\n  Util.extendObj = function extendObj(obj1, obj2) {\n    for (var key in obj2) {\n      obj1[key] = obj2[key];\n    }\n  };\n\n  Util.getInheritableProperty =\n      function Util_getInheritableProperty(dict, name, getArray) {\n    while (dict && !dict.has(name)) {\n      dict = dict.get('Parent');\n    }\n    if (!dict) {\n      return null;\n    }\n    return getArray ? dict.getArray(name) : dict.get(name);\n  };\n\n  Util.inherit = function Util_inherit(sub, base, prototype) {\n    sub.prototype = Object.create(base.prototype);\n    sub.prototype.constructor = sub;\n    for (var prop in prototype) {\n      sub.prototype[prop] = prototype[prop];\n    }\n  };\n\n  Util.loadScript = function Util_loadScript(src, callback) {\n    var script = document.createElement('script');\n    var loaded = false;\n    script.setAttribute('src', src);\n    if (callback) {\n      script.onload = function() {\n        if (!loaded) {\n          callback();\n        }\n        loaded = true;\n      };\n    }\n    document.getElementsByTagName('head')[0].appendChild(script);\n  };\n\n  return Util;\n})();\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n * @class\n * @alias PageViewport\n */\nvar PageViewport = (function PageViewportClosure() {\n  /**\n   * @constructor\n   * @private\n   * @param viewBox {Array} xMin, yMin, xMax and yMax coordinates.\n   * @param scale {number} scale of the viewport.\n   * @param rotation {number} rotations of the viewport in degrees.\n   * @param offsetX {number} offset X\n   * @param offsetY {number} offset Y\n   * @param dontFlip {boolean} if true, axis Y will not be flipped.\n   */\n  function PageViewport(viewBox, scale, rotation, offsetX, offsetY, dontFlip) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    var centerX = (viewBox[2] + viewBox[0]) / 2;\n    var centerY = (viewBox[3] + viewBox[1]) / 2;\n    var rotateA, rotateB, rotateC, rotateD;\n    rotation = rotation % 360;\n    rotation = rotation < 0 ? rotation + 360 : rotation;\n    switch (rotation) {\n      case 180:\n        rotateA = -1; rotateB = 0; rotateC = 0; rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0; rotateB = 1; rotateC = 1; rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0; rotateB = -1; rotateC = -1; rotateD = 0;\n        break;\n      // case 0:\n      default:\n        rotateA = 1; rotateB = 0; rotateC = 0; rotateD = -1;\n        break;\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC; rotateD = -rotateD;\n    }\n\n    var offsetCanvasX, offsetCanvasY;\n    var width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY\n    ];\n\n    this.width = width;\n    this.height = height;\n    this.fontScale = scale;\n  }\n  PageViewport.prototype = /** @lends PageViewport.prototype */ {\n    /**\n     * Clones viewport with additional properties.\n     * @param args {Object} (optional) If specified, may contain the 'scale' or\n     * 'rotation' properties to override the corresponding properties in\n     * the cloned viewport.\n     * @returns {PageViewport} Cloned viewport.\n     */\n    clone: function PageViewPort_clone(args) {\n      args = args || {};\n      var scale = 'scale' in args ? args.scale : this.scale;\n      var rotation = 'rotation' in args ? args.rotation : this.rotation;\n      return new PageViewport(this.viewBox.slice(), scale, rotation,\n                              this.offsetX, this.offsetY, args.dontFlip);\n    },\n    /**\n     * Converts PDF point to the viewport coordinates. For examples, useful for\n     * converting PDF location into canvas pixel coordinates.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the viewport coordinate space.\n     * @see {@link convertToPdfPoint}\n     * @see {@link convertToViewportRectangle}\n     */\n    convertToViewportPoint: function PageViewport_convertToViewportPoint(x, y) {\n      return Util.applyTransform([x, y], this.transform);\n    },\n    /**\n     * Converts PDF rectangle to the viewport coordinates.\n     * @param rect {Array} xMin, yMin, xMax and yMax coordinates.\n     * @returns {Array} Contains corresponding coordinates of the rectangle\n     * in the viewport coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToViewportRectangle:\n      function PageViewport_convertToViewportRectangle(rect) {\n      var tl = Util.applyTransform([rect[0], rect[1]], this.transform);\n      var br = Util.applyTransform([rect[2], rect[3]], this.transform);\n      return [tl[0], tl[1], br[0], br[1]];\n    },\n    /**\n     * Converts viewport coordinates to the PDF location. For examples, useful\n     * for converting canvas pixel location into PDF one.\n     * @param x {number} X coordinate.\n     * @param y {number} Y coordinate.\n     * @returns {Object} Object that contains 'x' and 'y' properties of the\n     * point in the PDF coordinate space.\n     * @see {@link convertToViewportPoint}\n     */\n    convertToPdfPoint: function PageViewport_convertToPdfPoint(x, y) {\n      return Util.applyInverseTransform([x, y], this.transform);\n    },\n  };\n  return PageViewport;\n})();\n\nvar PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  var i, n = str.length, strBuf = [];\n  if (str[0] === '\\xFE' && str[1] === '\\xFF') {\n    // UTF16BE BOM\n    for (i = 2; i < n; i += 2) {\n      strBuf.push(String.fromCharCode(\n        (str.charCodeAt(i) << 8) | str.charCodeAt(i + 1)));\n    }\n  } else {\n    for (i = 0; i < n; ++i) {\n      var code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join('');\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === 'boolean';\n}\n\nfunction isInt(v) {\n  return typeof v === 'number' && ((v | 0) === v);\n}\n\nfunction isNum(v) {\n  return typeof v === 'number';\n}\n\nfunction isString(v) {\n  return typeof v === 'string';\n}\n\nfunction isArray(v) {\n  return v instanceof Array;\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === 'object' && v !== null && v.byteLength !== undefined;\n}\n\n// Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\nfunction isSpace(ch) {\n  return (ch === 0x20 || ch === 0x09 || ch === 0x0D || ch === 0x0A);\n}\n\nfunction isNodeJS() {\n  // eslint-disable-next-line no-undef\n  return typeof process === 'object' && process + '' === '[object process]';\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A promise object.\n * @property {function} resolve - Fulfills the promise.\n * @property {function} reject - Rejects the promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @return {PromiseCapability} A capability object contains:\n * - a Promise, resolve and reject methods.\n */\nfunction createPromiseCapability() {\n  var capability = {};\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = resolve;\n    capability.reject = reject;\n  });\n  return capability;\n}\n\nvar StatTimer = (function StatTimerClosure() {\n  function rpad(str, pad, length) {\n    while (str.length < length) {\n      str += pad;\n    }\n    return str;\n  }\n  function StatTimer() {\n    this.started = Object.create(null);\n    this.times = [];\n    this.enabled = true;\n  }\n  StatTimer.prototype = {\n    time: function StatTimer_time(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (name in this.started) {\n        warn('Timer is already running for ' + name);\n      }\n      this.started[name] = Date.now();\n    },\n    timeEnd: function StatTimer_timeEnd(name) {\n      if (!this.enabled) {\n        return;\n      }\n      if (!(name in this.started)) {\n        warn('Timer has not been started for ' + name);\n      }\n      this.times.push({\n        'name': name,\n        'start': this.started[name],\n        'end': Date.now(),\n      });\n      // Remove timer from started so it can be called again.\n      delete this.started[name];\n    },\n    toString: function StatTimer_toString() {\n      var i, ii;\n      var times = this.times;\n      var out = '';\n      // Find the longest name for padding purposes.\n      var longest = 0;\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var name = times[i]['name'];\n        if (name.length > longest) {\n          longest = name.length;\n        }\n      }\n      for (i = 0, ii = times.length; i < ii; ++i) {\n        var span = times[i];\n        var duration = span.end - span.start;\n        out += rpad(span['name'], ' ', longest) + ' ' + duration + 'ms\\n';\n      }\n      return out;\n    },\n  };\n  return StatTimer;\n})();\n\nvar createBlob = function createBlob(data, contentType) {\n  if (typeof Blob !== 'undefined') {\n    return new Blob([data], { type: contentType, });\n  }\n  throw new Error('The \"Blob\" constructor is not supported.');\n};\n\nvar createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      var blob = createBlob(data, contentType);\n      return URL.createObjectURL(blob);\n    }\n\n    var buffer = 'data:' + contentType + ';base64,';\n    for (var i = 0, ii = data.length; i < ii; i += 3) {\n      var b1 = data[i] & 0xFF;\n      var b2 = data[i + 1] & 0xFF;\n      var b3 = data[i + 2] & 0xFF;\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      var d3 = i + 1 < ii ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n      var d4 = i + 2 < ii ? (b3 & 0x3F) : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nfunction resolveCall(fn, args, thisArg = null) {\n  if (!fn) {\n    return Promise.resolve(undefined);\n  }\n  return new Promise((resolve, reject) => {\n    resolve(fn.apply(thisArg, args));\n  });\n}\n\nfunction wrapReason(reason) {\n  if (typeof reason !== 'object') {\n    return reason;\n  }\n  switch (reason.name) {\n    case 'AbortException':\n      return new AbortException(reason.message);\n    case 'MissingPDFException':\n      return new MissingPDFException(reason.message);\n    case 'UnexpectedResponseException':\n      return new UnexpectedResponseException(reason.message, reason.status);\n    default:\n      return new UnknownErrorException(reason.message, reason.details);\n  }\n}\n\nfunction resolveOrReject(capability, success, reason) {\n  if (success) {\n    capability.resolve();\n  } else {\n    capability.reject(reason);\n  }\n}\n\nfunction finalize(promise) {\n  return Promise.resolve(promise).catch(() => {});\n}\n\nfunction MessageHandler(sourceName, targetName, comObj) {\n  this.sourceName = sourceName;\n  this.targetName = targetName;\n  this.comObj = comObj;\n  this.callbackId = 1;\n  this.streamId = 1;\n  this.postMessageTransfers = true;\n  this.streamSinks = Object.create(null);\n  this.streamControllers = Object.create(null);\n  let callbacksCapabilities = this.callbacksCapabilities = Object.create(null);\n  let ah = this.actionHandler = Object.create(null);\n\n  this._onComObjOnMessage = (event) => {\n    let data = event.data;\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this._processStreamMessage(data);\n    } else if (data.isReply) {\n      let callbackId = data.callbackId;\n      if (data.callbackId in callbacksCapabilities) {\n        let callback = callbacksCapabilities[callbackId];\n        delete callbacksCapabilities[callbackId];\n        if ('error' in data) {\n          callback.reject(wrapReason(data.error));\n        } else {\n          callback.resolve(data.data);\n        }\n      } else {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n    } else if (data.action in ah) {\n      let action = ah[data.action];\n      if (data.callbackId) {\n        let sourceName = this.sourceName;\n        let targetName = data.sourceName;\n        Promise.resolve().then(function () {\n          return action[0].call(action[1], data.data);\n        }).then((result) => {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            isReply: true,\n            callbackId: data.callbackId,\n            data: result,\n          });\n        }, (reason) => {\n          if (reason instanceof Error) {\n            // Serialize error to avoid \"DataCloneError\"\n            reason = reason + '';\n          }\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            isReply: true,\n            callbackId: data.callbackId,\n            error: reason,\n          });\n        });\n      } else if (data.streamId) {\n        this._createStreamSink(data);\n      } else {\n        action[0].call(action[1], data.data);\n      }\n    } else {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n  };\n  comObj.addEventListener('message', this._onComObjOnMessage);\n}\n\nMessageHandler.prototype = {\n  on(actionName, handler, scope) {\n    var ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = [handler, scope];\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers\n   */\n  send(actionName, data, transfers) {\n    var message = {\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data,\n    };\n    this.postMessage(message, transfers);\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    var callbackId = this.callbackId++;\n    var message = {\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data,\n      callbackId,\n    };\n    var capability = createPromiseCapability();\n    this.callbacksCapabilities[callbackId] = capability;\n    try {\n      this.postMessage(message, transfers);\n    } catch (e) {\n      capability.reject(e);\n    }\n    return capability.promise;\n  },\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {String} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - Optional list of transfers/ArrayBuffers.\n   * @return {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    let streamId = this.streamId++;\n    let sourceName = this.sourceName;\n    let targetName = this.targetName;\n\n    return new ReadableStream({\n      start: (controller) => {\n        let startCapability = createPromiseCapability();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          isClosed: false,\n        };\n        this.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize,\n        });\n        // Return Promise for Async process, to signal success/failure.\n        return startCapability.promise;\n      },\n\n      pull: (controller) => {\n        let pullCapability = createPromiseCapability();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        this.postMessage({\n          sourceName,\n          targetName,\n          stream: 'pull',\n          streamId,\n          desiredSize: controller.desiredSize,\n        });\n        // Returning Promise will not call \"pull\"\n        // again until current pull is resolved.\n        return pullCapability.promise;\n      },\n\n      cancel: (reason) => {\n        let cancelCapability = createPromiseCapability();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        this.postMessage({\n          sourceName,\n          targetName,\n          stream: 'cancel',\n          reason,\n          streamId,\n        });\n        // Return Promise to signal success or failure.\n        return cancelCapability.promise;\n      },\n    }, queueingStrategy);\n  },\n\n  _createStreamSink(data) {\n    let self = this;\n    let action = this.actionHandler[data.action];\n    let streamId = data.streamId;\n    let desiredSize = data.desiredSize;\n    let sourceName = this.sourceName;\n    let targetName = data.sourceName;\n    let capability = createPromiseCapability();\n\n    let sendStreamRequest = ({ stream, chunk, transfers,\n                               success, reason, }) => {\n      this.postMessage({ sourceName, targetName, stream, streamId,\n                         chunk, success, reason, }, transfers);\n    };\n\n    let streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        let lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        sendStreamRequest({ stream: 'enqueue', chunk, transfers, });\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        sendStreamRequest({ stream: 'close', });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        sendStreamRequest({ stream: 'error', reason, });\n      },\n\n      sinkCapability: capability,\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    resolveCall(action[0], [data.data, streamSink], action[1]).then(() => {\n      sendStreamRequest({ stream: 'start_complete', success: true, });\n    }, (reason) => {\n      sendStreamRequest({ stream: 'start_complete', success: false, reason, });\n    });\n  },\n\n  _processStreamMessage(data) {\n    let sourceName = this.sourceName;\n    let targetName = data.sourceName;\n    let streamId = data.streamId;\n\n    let sendStreamResponse = ({ stream, success, reason, }) => {\n      this.comObj.postMessage({ sourceName, targetName, stream,\n                                success, streamId, reason, });\n    };\n\n    let deleteStreamController = () => {\n      // Delete streamController only when start, pull and\n      // cancel callbacks are resolved, to avoid \"TypeError\".\n      Promise.all([\n        this.streamControllers[data.streamId].startCall,\n        this.streamControllers[data.streamId].pullCall,\n        this.streamControllers[data.streamId].cancelCall\n      ].map(function(capability) {\n        return capability && finalize(capability.promise);\n      })).then(() => {\n        delete this.streamControllers[data.streamId];\n      });\n    };\n\n    switch (data.stream) {\n      case 'start_complete':\n        resolveOrReject(this.streamControllers[data.streamId].startCall,\n                        data.success, wrapReason(data.reason));\n        break;\n      case 'pull_complete':\n        resolveOrReject(this.streamControllers[data.streamId].pullCall,\n                        data.success, wrapReason(data.reason));\n        break;\n      case 'pull':\n        // Ignore any pull after close is called.\n        if (!this.streamSinks[data.streamId]) {\n          sendStreamResponse({ stream: 'pull_complete', success: true, });\n          break;\n        }\n        // Pull increases the desiredSize property of sink,\n        // so when it changes from negative to positive,\n        // set ready property as resolved promise.\n        if (this.streamSinks[data.streamId].desiredSize <= 0 &&\n            data.desiredSize > 0) {\n          this.streamSinks[data.streamId].sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        this.streamSinks[data.streamId].desiredSize = data.desiredSize;\n        resolveCall(this.streamSinks[data.streamId].onPull).then(() => {\n          sendStreamResponse({ stream: 'pull_complete', success: true, });\n        }, (reason) => {\n          sendStreamResponse({ stream: 'pull_complete',\n                               success: false, reason, });\n        });\n        break;\n      case 'enqueue':\n        assert(this.streamControllers[data.streamId],\n               'enqueue should have stream controller');\n        if (!this.streamControllers[data.streamId].isClosed) {\n          this.streamControllers[data.streamId].controller.enqueue(data.chunk);\n        }\n        break;\n      case 'close':\n        assert(this.streamControllers[data.streamId],\n               'close should have stream controller');\n        if (this.streamControllers[data.streamId].isClosed) {\n          break;\n        }\n        this.streamControllers[data.streamId].isClosed = true;\n        this.streamControllers[data.streamId].controller.close();\n        deleteStreamController();\n        break;\n      case 'error':\n        assert(this.streamControllers[data.streamId],\n               'error should have stream controller');\n        this.streamControllers[data.streamId].controller.\n          error(wrapReason(data.reason));\n        deleteStreamController();\n        break;\n      case 'cancel_complete':\n        resolveOrReject(this.streamControllers[data.streamId].cancelCall,\n                        data.success, wrapReason(data.reason));\n        deleteStreamController();\n        break;\n      case 'cancel':\n        if (!this.streamSinks[data.streamId]) {\n          break;\n        }\n        resolveCall(this.streamSinks[data.streamId].onCancel,\n                    [wrapReason(data.reason)]).then(() => {\n          sendStreamResponse({ stream: 'cancel_complete', success: true, });\n        }, (reason) => {\n          sendStreamResponse({ stream: 'cancel_complete',\n                               success: false, reason, });\n        });\n        this.streamSinks[data.streamId].sinkCapability.\n          reject(wrapReason(data.reason));\n        this.streamSinks[data.streamId].isCancelled = true;\n        delete this.streamSinks[data.streamId];\n        break;\n      default:\n        throw new Error('Unexpected stream case');\n    }\n  },\n\n  /**\n   * Sends raw message to the comObj.\n   * @private\n   * @param {Object} message - Raw message.\n   * @param transfers List of transfers/ArrayBuffers, or undefined.\n   */\n  postMessage(message, transfers) {\n    if (transfers && this.postMessageTransfers) {\n      this.comObj.postMessage(message, transfers);\n    } else {\n      this.comObj.postMessage(message);\n    }\n  },\n\n  destroy() {\n    this.comObj.removeEventListener('message', this._onComObjOnMessage);\n  },\n};\n\nfunction loadJpegStream(id, imageUrl, objs) {\n  var img = new Image();\n  img.onload = (function loadJpegStream_onloadClosure() {\n    objs.resolve(id, img);\n  });\n  img.onerror = (function loadJpegStream_onerrorClosure() {\n    objs.resolve(id, null);\n    warn('Error during JPEG image loading');\n  });\n  img.src = imageUrl;\n}\n\nexport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VERBOSITY_LEVELS,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MessageHandler,\n  MissingDataException,\n  MissingPDFException,\n  NativeImageDecoding,\n  NotImplementedException,\n  PageViewport,\n  PasswordException,\n  PasswordResponses,\n  StatTimer,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  XRefParseException,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createBlob,\n  createPromiseCapability,\n  createObjectURL,\n  deprecated,\n  getLookupTableFactory,\n  getVerbosityLevel,\n  globalScope,\n  info,\n  isArray,\n  isArrayBuffer,\n  isBool,\n  isEmptyObj,\n  isInt,\n  isNum,\n  isString,\n  isSpace,\n  isNodeJS,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  isLittleEndian,\n  isEvalSupported,\n  loadJpegStream,\n  log2,\n  readInt8,\n  readUint16,\n  readUint32,\n  removeNullCharacters,\n  ReadableStream,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/shared/util.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CMapCompressionType, createValidAbsoluteUrl, deprecated, globalScope,\n  removeNullCharacters, stringToBytes, warn\n} from '../shared/util';\n\nvar DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\n\nclass DOMCanvasFactory {\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error('invalid canvas size');\n    }\n    let canvas = document.createElement('canvas');\n    let context = canvas.getContext('2d');\n    canvas.width = width;\n    canvas.height = height;\n    return {\n      canvas,\n      context,\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error('canvas is not specified');\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error('invalid canvas size');\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error('canvas is not specified');\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n}\n\nclass DOMCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false, }) {\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  fetch({ name, }) {\n    if (!name) {\n      return Promise.reject(new Error('CMap name must be specified.'));\n    }\n    return new Promise((resolve, reject) => {\n      let url = this.baseUrl + name + (this.isCompressed ? '.bcmap' : '');\n\n      let request = new XMLHttpRequest();\n      request.open('GET', url, true);\n\n      if (this.isCompressed) {\n        request.responseType = 'arraybuffer';\n      }\n      request.onreadystatechange = () => {\n        if (request.readyState !== XMLHttpRequest.DONE) {\n          return;\n        }\n        if (request.status === 200 || request.status === 0) {\n          let data;\n          if (this.isCompressed && request.response) {\n            data = new Uint8Array(request.response);\n          } else if (!this.isCompressed && request.responseText) {\n            data = stringToBytes(request.responseText);\n          }\n          if (data) {\n            resolve({\n              cMapData: data,\n              compressionType: this.isCompressed ?\n                CMapCompressionType.BINARY : CMapCompressionType.NONE,\n            });\n            return;\n          }\n        }\n        reject(new Error('Unable to load ' +\n                         (this.isCompressed ? 'binary ' : '') +\n                         'CMap at: ' + url));\n      };\n\n      request.send(null);\n    });\n  }\n}\n\n/**\n * Optimised CSS custom property getter/setter.\n * @class\n */\nvar CustomStyle = (function CustomStyleClosure() {\n\n  // As noted on: http://www.zachstronaut.com/posts/2009/02/17/\n  //              animate-css-transforms-firefox-webkit.html\n  // in some versions of IE9 it is critical that ms appear in this list\n  // before Moz\n  var prefixes = ['ms', 'Moz', 'Webkit', 'O'];\n  var _cache = Object.create(null);\n\n  function CustomStyle() {}\n\n  CustomStyle.getProp = function get(propName, element) {\n    // check cache only when no element is given\n    if (arguments.length === 1 && typeof _cache[propName] === 'string') {\n      return _cache[propName];\n    }\n\n    element = element || document.documentElement;\n    var style = element.style, prefixed, uPropName;\n\n    // test standard property first\n    if (typeof style[propName] === 'string') {\n      return (_cache[propName] = propName);\n    }\n\n    // capitalize\n    uPropName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n    // test vendor specific properties\n    for (var i = 0, l = prefixes.length; i < l; i++) {\n      prefixed = prefixes[i] + uPropName;\n      if (typeof style[prefixed] === 'string') {\n        return (_cache[propName] = prefixed);\n      }\n    }\n\n    // If all fails then set to undefined.\n    return (_cache[propName] = 'undefined');\n  };\n\n  CustomStyle.setProp = function set(propName, element, str) {\n    var prop = this.getProp(propName);\n    if (prop !== 'undefined') {\n      element.style[prop] = str;\n    }\n  };\n\n  return CustomStyle;\n})();\n\nvar RenderingCancelledException = (function RenderingCancelledException() {\n  function RenderingCancelledException(msg, type) {\n    this.message = msg;\n    this.type = type;\n  }\n\n  RenderingCancelledException.prototype = new Error();\n  RenderingCancelledException.prototype.name = 'RenderingCancelledException';\n  RenderingCancelledException.constructor = RenderingCancelledException;\n\n  return RenderingCancelledException;\n})();\n\nvar LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\nvar LinkTargetStringMap = [\n  '',\n  '_self',\n  '_blank',\n  '_parent',\n  '_top'\n];\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} target - The link target.\n * @property {string} rel - The link relationship.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLLinkElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, params) {\n  var url = params && params.url;\n  link.href = link.title = (url ? removeNullCharacters(url) : '');\n\n  if (url) {\n    var target = params.target;\n    if (typeof target === 'undefined') {\n      target = getDefaultSetting('externalLinkTarget');\n    }\n    link.target = LinkTargetStringMap[target];\n\n    var rel = params.rel;\n    if (typeof rel === 'undefined') {\n      rel = getDefaultSetting('externalLinkRel');\n    }\n    link.rel = rel;\n  }\n}\n\n// Gets the file name from a given URL.\nfunction getFilenameFromUrl(url) {\n  var anchor = url.indexOf('#');\n  var query = url.indexOf('?');\n  var end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length);\n  return url.substring(url.lastIndexOf('/', end) + 1, end);\n}\n\nfunction getDefaultSetting(id) {\n  // The list of the settings and their default is maintained for backward\n  // compatibility and shall not be extended or modified. See also global.js.\n  var globalSettings = globalScope.PDFJS;\n  switch (id) {\n    case 'pdfBug':\n      return globalSettings ? globalSettings.pdfBug : false;\n    case 'disableAutoFetch':\n      return globalSettings ? globalSettings.disableAutoFetch : false;\n    case 'disableStream':\n      return globalSettings ? globalSettings.disableStream : false;\n    case 'disableRange':\n      return globalSettings ? globalSettings.disableRange : false;\n    case 'disableFontFace':\n      return globalSettings ? globalSettings.disableFontFace : false;\n    case 'disableCreateObjectURL':\n      return globalSettings ? globalSettings.disableCreateObjectURL : false;\n    case 'disableWebGL':\n      return globalSettings ? globalSettings.disableWebGL : true;\n    case 'cMapUrl':\n      return globalSettings ? globalSettings.cMapUrl : null;\n    case 'cMapPacked':\n      return globalSettings ? globalSettings.cMapPacked : false;\n    case 'postMessageTransfers':\n      return globalSettings ? globalSettings.postMessageTransfers : true;\n    case 'workerPort':\n      return globalSettings ? globalSettings.workerPort : null;\n    case 'workerSrc':\n      return globalSettings ? globalSettings.workerSrc : null;\n    case 'disableWorker':\n      return globalSettings ? globalSettings.disableWorker : false;\n    case 'maxImageSize':\n      return globalSettings ? globalSettings.maxImageSize : -1;\n    case 'imageResourcesPath':\n      return globalSettings ? globalSettings.imageResourcesPath : '';\n    case 'isEvalSupported':\n      return globalSettings ? globalSettings.isEvalSupported : true;\n    case 'externalLinkTarget':\n      if (!globalSettings) {\n        return LinkTarget.NONE;\n      }\n      switch (globalSettings.externalLinkTarget) {\n        case LinkTarget.NONE:\n        case LinkTarget.SELF:\n        case LinkTarget.BLANK:\n        case LinkTarget.PARENT:\n        case LinkTarget.TOP:\n          return globalSettings.externalLinkTarget;\n      }\n      warn('PDFJS.externalLinkTarget is invalid: ' +\n           globalSettings.externalLinkTarget);\n      // Reset the external link target, to suppress further warnings.\n      globalSettings.externalLinkTarget = LinkTarget.NONE;\n      return LinkTarget.NONE;\n    case 'externalLinkRel':\n      return globalSettings ? globalSettings.externalLinkRel : DEFAULT_LINK_REL;\n    case 'enableStats':\n      return !!(globalSettings && globalSettings.enableStats);\n    case 'pdfjsNext':\n      return !!(globalSettings && globalSettings.pdfjsNext);\n    default:\n      throw new Error('Unknown default setting: ' + id);\n  }\n}\n\nfunction isExternalLinkTargetSet() {\n  var externalLinkTarget = getDefaultSetting('externalLinkTarget');\n  switch (externalLinkTarget) {\n    case LinkTarget.NONE:\n      return false;\n    case LinkTarget.SELF:\n    case LinkTarget.BLANK:\n    case LinkTarget.PARENT:\n    case LinkTarget.TOP:\n      return true;\n  }\n}\n\nfunction isValidUrl(url, allowRelative) {\n  deprecated('isValidUrl(), please use createValidAbsoluteUrl() instead.');\n  var baseUrl = allowRelative ? 'http://example.com' : null;\n  return createValidAbsoluteUrl(url, baseUrl) !== null;\n}\n\nexport {\n  CustomStyle,\n  RenderingCancelledException,\n  addLinkAttributes,\n  isExternalLinkTargetSet,\n  isValidUrl,\n  getFilenameFromUrl,\n  LinkTarget,\n  getDefaultSetting,\n  DEFAULT_LINK_REL,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/dom_utils.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals requirejs, __non_webpack_require__ */\n\nimport {\n  assert, createPromiseCapability, deprecated, getVerbosityLevel, globalScope,\n  info, InvalidPDFException, isArray, isArrayBuffer, isInt, isSameOrigin,\n  loadJpegStream, MessageHandler, MissingPDFException, NativeImageDecoding,\n  PageViewport, PasswordException, StatTimer, stringToBytes,\n  UnexpectedResponseException, UnknownErrorException, Util, warn\n} from '../shared/util';\nimport {\n  DOMCanvasFactory, DOMCMapReaderFactory, getDefaultSetting,\n  RenderingCancelledException\n} from './dom_utils';\nimport { FontFaceObject, FontLoader } from './font_loader';\nimport { CanvasGraphics } from './canvas';\nimport { Metadata } from './metadata';\nimport { PDFDataTransportStream } from './transport_stream';\n\nvar DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\n\nvar isWorkerDisabled = false;\nvar workerSrc;\nvar isPostMessageTransfersDisabled = false;\n\nvar pdfjsFilePath =\n  typeof PDFJSDev !== 'undefined' &&\n  PDFJSDev.test('PRODUCTION && !(MOZCENTRAL || FIREFOX)') &&\n  typeof document !== 'undefined' && document.currentScript ?\n    document.currentScript.src : null;\n\nvar fakeWorkerFilesLoader = null;\nvar useRequireEnsure = false;\nif (typeof PDFJSDev !== 'undefined' &&\n    PDFJSDev.test('GENERIC && !SINGLE_FILE')) {\n  // For GENERIC build we need add support of different fake file loaders\n  // for different  frameworks.\n  if (typeof window === 'undefined') {\n    // node.js - disable worker and set require.ensure.\n    isWorkerDisabled = true;\n    if (typeof __non_webpack_require__.ensure === 'undefined') {\n      __non_webpack_require__.ensure = __non_webpack_require__('node-ensure');\n    }\n    useRequireEnsure = true;\n  } else if (typeof __non_webpack_require__ !== 'undefined' &&\n             typeof __non_webpack_require__.ensure === 'function') {\n    useRequireEnsure = true;\n  }\n  if (typeof requirejs !== 'undefined' && requirejs.toUrl) {\n    workerSrc = requirejs.toUrl('pdfjs-dist/build/pdf.worker.js');\n  }\n  var dynamicLoaderSupported =\n    typeof requirejs !== 'undefined' && requirejs.load;\n  fakeWorkerFilesLoader = useRequireEnsure ? (function (callback) {\n    __non_webpack_require__.ensure([], function () {\n      var worker;\n      if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('LIB')) {\n        worker = __non_webpack_require__('../pdf.worker.js');\n      } else {\n        worker = __non_webpack_require__('./pdf.worker.js');\n      }\n      callback(worker.WorkerMessageHandler);\n    });\n  }) : dynamicLoaderSupported ? (function (callback) {\n    requirejs(['pdfjs-dist/build/pdf.worker'], function (worker) {\n      callback(worker.WorkerMessageHandler);\n    });\n  }) : null;\n}\n\n/** @type IPDFStream */\nvar PDFNetworkStream;\n\n/**\n * Sets PDFNetworkStream class to be used as alternative PDF data transport.\n * @param {IPDFStream} cls - the PDF data transport.\n */\nfunction setPDFNetworkStreamClass(cls) {\n  PDFNetworkStream = cls;\n}\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string}     url   - The URL of the PDF.\n * @property {TypedArray|Array|string} data - Binary PDF data. Use typed arrays\n *   (Uint8Array) to improve the memory usage. If PDF data is BASE64-encoded,\n *   use atob() to convert it to a binary string first.\n * @property {Object}     httpHeaders - Basic authentication headers.\n * @property {boolean}    withCredentials - Indicates whether or not cross-site\n *   Access-Control requests should be made using credentials such as cookies\n *   or authorization headers. The default is false.\n * @property {string}     password - For decrypting password-protected PDFs.\n * @property {TypedArray} initialData - A typed array with the first portion or\n *   all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number}     length - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} range\n * @property {number}     rangeChunkSize - Optional parameter to specify\n *   maximum number of bytes fetched per range request. The default value is\n *   2^16 = 65536.\n * @property {PDFWorker}  worker - The worker that will be used for the loading\n *   and parsing of the PDF data.\n * @property {string} docBaseUrl - (optional) The base URL of the document,\n *   used when attempting to recover valid absolute URLs for annotations, and\n *   outline items, that (incorrectly) only specify relative URLs.\n * @property {boolean} disableNativeImageDecoder - (deprecated) Disable decoding\n *   of certain (simple) JPEG images in the browser. This is useful for\n *   environments without DOM image support, such as e.g. Node.js.\n *   The default value is `false`.\n * @property {string} nativeImageDecoderSupport - (optional) Strategy for\n *   decoding certain (simple) JPEG images in the browser. This is useful for\n *   environments without DOM image and canvas support, such as e.g. Node.js.\n *   Valid values are 'decode', 'display' or 'none'; where 'decode' is intended\n *   for browsers with full image/canvas support, 'display' for environments\n *   with limited image support through stubs (useful for SVG conversion),\n *   and 'none' where JPEG images will be decoded entirely by PDF.js.\n *   The default value is 'decode'.\n * @property {Object} CMapReaderFactory - (optional) The factory that will be\n *   used when reading built-in CMap files. Providing a custom factory is useful\n *   for environments without `XMLHttpRequest` support, such as e.g. Node.js.\n *   The default value is {DOMCMapReaderFactory}.\n * @property {boolean} stopAtErrors - (optional) Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n */\n\n/**\n * @typedef {Object} PDFDocumentStats\n * @property {Array} streamTypes - Used stream types in the document (an item\n *   is set to true if specific stream ID was used in the document).\n * @property {Array} fontTypes - Used font type in the document (an item is set\n *   to true if specific font ID was used in the document).\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n * NOTE: If a URL is used to fetch the PDF data a standard XMLHttpRequest(XHR)\n * is used, which means it must follow the same origin rules that any XHR does\n * e.g. No cross domain requests without CORS.\n *\n * @param {string|TypedArray|DocumentInitParameters|PDFDataRangeTransport} src\n * Can be a url to where a PDF is located, a typed array (Uint8Array)\n * already populated with data or parameter object.\n *\n * @param {PDFDataRangeTransport} pdfDataRangeTransport (deprecated) It is used\n * if you want to manually serve range requests for data in the PDF.\n *\n * @param {function} passwordCallback (deprecated) It is used to request a\n * password if wrong or no password was provided. The callback receives two\n * parameters: function that needs to be called with new password and reason\n * (see {PasswordResponses}).\n *\n * @param {function} progressCallback (deprecated) It is used to be able to\n * monitor the loading progress of the PDF file (necessary to implement e.g.\n * a loading bar). The callback receives an {Object} with the properties:\n * {number} loaded and {number} total.\n *\n * @return {PDFDocumentLoadingTask}\n */\nfunction getDocument(src, pdfDataRangeTransport,\n                     passwordCallback, progressCallback) {\n  var task = new PDFDocumentLoadingTask();\n\n  // Support of the obsolete arguments (for compatibility with API v1.0)\n  if (arguments.length > 1) {\n    deprecated('getDocument is called with pdfDataRangeTransport, ' +\n               'passwordCallback or progressCallback argument');\n  }\n  if (pdfDataRangeTransport) {\n    if (!(pdfDataRangeTransport instanceof PDFDataRangeTransport)) {\n      // Not a PDFDataRangeTransport instance, trying to add missing properties.\n      pdfDataRangeTransport = Object.create(pdfDataRangeTransport);\n      pdfDataRangeTransport.length = src.length;\n      pdfDataRangeTransport.initialData = src.initialData;\n      if (!pdfDataRangeTransport.abort) {\n        pdfDataRangeTransport.abort = function () {};\n      }\n    }\n    src = Object.create(src);\n    src.range = pdfDataRangeTransport;\n  }\n  task.onPassword = passwordCallback || null;\n  task.onProgress = progressCallback || null;\n\n  var source;\n  if (typeof src === 'string') {\n    source = { url: src, };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src, };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src, };\n  } else {\n    if (typeof src !== 'object') {\n      throw new Error('Invalid parameter in getDocument, ' +\n                      'need either Uint8Array, string or a parameter object');\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        'Invalid parameter object: need either .data, .range or .url');\n    }\n\n    source = src;\n  }\n\n  var params = {};\n  var rangeTransport = null;\n  var worker = null;\n  var CMapReaderFactory = DOMCMapReaderFactory;\n\n  for (var key in source) {\n    if (key === 'url' && typeof window !== 'undefined') {\n      // The full path is required in the 'url' field.\n      params[key] = new URL(source[key], window.location).href;\n      continue;\n    } else if (key === 'range') {\n      rangeTransport = source[key];\n      continue;\n    } else if (key === 'worker') {\n      worker = source[key];\n      continue;\n    } else if (key === 'data' && !(source[key] instanceof Uint8Array)) {\n      // Converting string or array-like data to Uint8Array.\n      var pdfBytes = source[key];\n      if (typeof pdfBytes === 'string') {\n        params[key] = stringToBytes(pdfBytes);\n      } else if (typeof pdfBytes === 'object' && pdfBytes !== null &&\n                 !isNaN(pdfBytes.length)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else if (isArrayBuffer(pdfBytes)) {\n        params[key] = new Uint8Array(pdfBytes);\n      } else {\n        throw new Error('Invalid PDF binary data: either typed array, ' +\n                        'string or array-like object is expected in the ' +\n                        'data property.');\n      }\n      continue;\n    } else if (key === 'CMapReaderFactory') {\n      CMapReaderFactory = source[key];\n      continue;\n    }\n    params[key] = source[key];\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.ignoreErrors = params.stopAtErrors !== true;\n\n  if (params.disableNativeImageDecoder !== undefined) {\n    deprecated('parameter disableNativeImageDecoder, ' +\n      'use nativeImageDecoderSupport instead');\n  }\n  params.nativeImageDecoderSupport = params.nativeImageDecoderSupport ||\n    (params.disableNativeImageDecoder === true ? NativeImageDecoding.NONE :\n      NativeImageDecoding.DECODE);\n  if (params.nativeImageDecoderSupport !== NativeImageDecoding.DECODE &&\n      params.nativeImageDecoderSupport !== NativeImageDecoding.NONE &&\n      params.nativeImageDecoderSupport !== NativeImageDecoding.DISPLAY) {\n    warn('Invalid parameter nativeImageDecoderSupport: ' +\n      'need a state of enum {NativeImageDecoding}');\n    params.nativeImageDecoderSupport = NativeImageDecoding.DECODE;\n  }\n\n  if (!worker) {\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global settings, using it.\n    var workerPort = getDefaultSetting('workerPort');\n    worker = workerPort ? PDFWorker.fromPort(workerPort) : new PDFWorker();\n    task._worker = worker;\n  }\n  var docId = task.docId;\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error('Loading aborted');\n    }\n    return _fetchDocument(worker, params, rangeTransport, docId).then(\n        function (workerId) {\n      if (task.destroyed) {\n        throw new Error('Loading aborted');\n      }\n\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new PDFDataTransportStream(params, rangeTransport);\n      } else if (!params.data) {\n        networkStream = new PDFNetworkStream({\n          source: params,\n          disableRange: getDefaultSetting('disableRange'),\n        });\n      }\n\n      var messageHandler = new MessageHandler(docId, workerId, worker.port);\n      messageHandler.postMessageTransfers = worker.postMessageTransfers;\n      var transport = new WorkerTransport(messageHandler, task, networkStream,\n                                          CMapReaderFactory);\n      task._transport = transport;\n      messageHandler.send('Ready', null);\n    });\n  }).catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId Unique document id, used as MessageHandler id.\n * @returns {Promise} The promise, which is resolved when worker id of\n *                    MessageHandler is known.\n * @private\n */\nfunction _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    return Promise.reject(new Error('Worker was destroyed'));\n  }\n\n  source.disableAutoFetch = getDefaultSetting('disableAutoFetch');\n  source.disableStream = getDefaultSetting('disableStream');\n  source.chunkedViewerLoading = !!pdfDataRangeTransport;\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n  }\n  return worker.messageHandler.sendWithPromise('GetDocRequest', {\n    docId,\n    source: {\n      data: source.data,\n      url: source.url,\n      password: source.password,\n      disableAutoFetch: source.disableAutoFetch,\n      rangeChunkSize: source.rangeChunkSize,\n      length: source.length,\n    },\n    maxImageSize: getDefaultSetting('maxImageSize'),\n    disableFontFace: getDefaultSetting('disableFontFace'),\n    disableCreateObjectURL: getDefaultSetting('disableCreateObjectURL'),\n    postMessageTransfers: getDefaultSetting('postMessageTransfers') &&\n                          !isPostMessageTransfersDisabled,\n    docBaseUrl: source.docBaseUrl,\n    nativeImageDecoderSupport: source.nativeImageDecoderSupport,\n    ignoreErrors: source.ignoreErrors,\n  }).then(function (workerId) {\n    if (worker.destroyed) {\n      throw new Error('Worker was destroyed');\n    }\n    return workerId;\n  });\n}\n\n/**\n * PDF document loading operation.\n * @class\n * @alias PDFDocumentLoadingTask\n */\nvar PDFDocumentLoadingTask = (function PDFDocumentLoadingTaskClosure() {\n  var nextDocumentId = 0;\n\n  /** @constructs PDFDocumentLoadingTask */\n  function PDFDocumentLoadingTask() {\n    this._capability = createPromiseCapability();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique document loading task id -- used in MessageHandlers.\n     * @type {string}\n     */\n    this.docId = 'd' + (nextDocumentId++);\n\n    /**\n     * Shows if loading task is destroyed.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if wrong or no password was provided.\n     * The callback receives two parameters: function that needs to be called\n     * with new password and reason (see {PasswordResponses}).\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar). The callback receives\n     * an {Object} with the properties: {number} loaded and {number} total.\n     */\n    this.onProgress = null;\n\n    /**\n     * Callback to when unsupported feature is used. The callback receives\n     * an {UNSUPPORTED_FEATURES} argument.\n     */\n    this.onUnsupportedFeature = null;\n  }\n\n  PDFDocumentLoadingTask.prototype =\n      /** @lends PDFDocumentLoadingTask.prototype */ {\n    /**\n     * @return {Promise}\n     */\n    get promise() {\n      return this._capability.promise;\n    },\n\n    /**\n     * Aborts all network requests and destroys worker.\n     * @return {Promise} A promise that is resolved after destruction activity\n     *                   is completed.\n     */\n    destroy() {\n      this.destroyed = true;\n\n      var transportDestroyed = !this._transport ? Promise.resolve() :\n        this._transport.destroy();\n      return transportDestroyed.then(() => {\n        this._transport = null;\n        if (this._worker) {\n          this._worker.destroy();\n          this._worker = null;\n        }\n      });\n    },\n\n    /**\n     * Registers callbacks to indicate the document loading completion.\n     *\n     * @param {function} onFulfilled The callback for the loading completion.\n     * @param {function} onRejected The callback for the loading failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function PDFDocumentLoadingTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    },\n  };\n\n  return PDFDocumentLoadingTask;\n})();\n\n/**\n * Abstract class to support range requests file loading.\n * @class\n * @alias PDFDataRangeTransport\n * @param {number} length\n * @param {Uint8Array} initialData\n */\nvar PDFDataRangeTransport = (function pdfDataRangeTransportClosure() {\n  function PDFDataRangeTransport(length, initialData) {\n    this.length = length;\n    this.initialData = initialData;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n  PDFDataRangeTransport.prototype =\n      /** @lends PDFDataRangeTransport.prototype */ {\n    addRangeListener:\n        function PDFDataRangeTransport_addRangeListener(listener) {\n      this._rangeListeners.push(listener);\n    },\n\n    addProgressListener:\n        function PDFDataRangeTransport_addProgressListener(listener) {\n      this._progressListeners.push(listener);\n    },\n\n    addProgressiveReadListener:\n        function PDFDataRangeTransport_addProgressiveReadListener(listener) {\n      this._progressiveReadListeners.push(listener);\n    },\n\n    onDataRange: function PDFDataRangeTransport_onDataRange(begin, chunk) {\n      var listeners = this._rangeListeners;\n      for (var i = 0, n = listeners.length; i < n; ++i) {\n        listeners[i](begin, chunk);\n      }\n    },\n\n    onDataProgress: function PDFDataRangeTransport_onDataProgress(loaded) {\n      this._readyCapability.promise.then(() => {\n        var listeners = this._progressListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](loaded);\n        }\n      });\n    },\n\n    onDataProgressiveRead:\n        function PDFDataRangeTransport_onDataProgress(chunk) {\n      this._readyCapability.promise.then(() => {\n        var listeners = this._progressiveReadListeners;\n        for (var i = 0, n = listeners.length; i < n; ++i) {\n          listeners[i](chunk);\n        }\n      });\n    },\n\n    transportReady: function PDFDataRangeTransport_transportReady() {\n      this._readyCapability.resolve();\n    },\n\n    requestDataRange:\n        function PDFDataRangeTransport_requestDataRange(begin, end) {\n      throw new Error('Abstract method PDFDataRangeTransport.requestDataRange');\n    },\n\n    abort: function PDFDataRangeTransport_abort() {\n    },\n  };\n  return PDFDataRangeTransport;\n})();\n\n/**\n * Proxy to a PDFDocument in the worker thread. Also, contains commonly used\n * properties that can be read synchronously.\n * @class\n * @alias PDFDocumentProxy\n */\nvar PDFDocumentProxy = (function PDFDocumentProxyClosure() {\n  function PDFDocumentProxy(pdfInfo, transport, loadingTask) {\n    this.pdfInfo = pdfInfo;\n    this.transport = transport;\n    this.loadingTask = loadingTask;\n  }\n  PDFDocumentProxy.prototype = /** @lends PDFDocumentProxy.prototype */ {\n    /**\n     * @return {number} Total number of pages the PDF contains.\n     */\n    get numPages() {\n      return this.pdfInfo.numPages;\n    },\n    /**\n     * @return {string} A unique ID to identify a PDF. Not guaranteed to be\n     * unique.\n     */\n    get fingerprint() {\n      return this.pdfInfo.fingerprint;\n    },\n    /**\n     * @param {number} pageNumber The page number to get. The first page is 1.\n     * @return {Promise} A promise that is resolved with a {@link PDFPageProxy}\n     * object.\n     */\n    getPage: function PDFDocumentProxy_getPage(pageNumber) {\n      return this.transport.getPage(pageNumber);\n    },\n    /**\n     * @param {{num: number, gen: number}} ref The page reference. Must have\n     *   the 'num' and 'gen' properties.\n     * @return {Promise} A promise that is resolved with the page index that is\n     * associated with the reference.\n     */\n    getPageIndex: function PDFDocumentProxy_getPageIndex(ref) {\n      return this.transport.getPageIndex(ref);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named destinations to reference numbers.\n     *\n     * This can be slow for large documents: use getDestination instead\n     */\n    getDestinations: function PDFDocumentProxy_getDestinations() {\n      return this.transport.getDestinations();\n    },\n    /**\n     * @param {string} id The named destination to get.\n     * @return {Promise} A promise that is resolved with all information\n     * of the given named destination.\n     */\n    getDestination: function PDFDocumentProxy_getDestination(id) {\n      return this.transport.getDestination(id);\n    },\n    /**\n     * @return {Promise} A promise that is resolved with:\n     *   an Array containing the pageLabels that correspond to the pageIndexes,\n     *   or `null` when no pageLabels are present in the PDF file.\n     */\n    getPageLabels: function PDFDocumentProxy_getPageLabels() {\n      return this.transport.getPageLabels();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a {string} containing\n     *   the PageMode name.\n     */\n    getPageMode() {\n      return this.transport.getPageMode();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a lookup table for\n     * mapping named attachments to their content.\n     */\n    getAttachments: function PDFDocumentProxy_getAttachments() {\n      return this.transport.getAttachments();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an array of all the\n     * JavaScript strings in the name tree.\n     */\n    getJavaScript: function PDFDocumentProxy_getJavaScript() {\n      return this.transport.getJavaScript();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Array} that is a\n     * tree outline (if it has one) of the PDF. The tree is in the format of:\n     * [\n     *  {\n     *   title: string,\n     *   bold: boolean,\n     *   italic: boolean,\n     *   color: rgb Uint8Array,\n     *   dest: dest obj,\n     *   url: string,\n     *   items: array of more items like this\n     *  },\n     *  ...\n     * ].\n     */\n    getOutline: function PDFDocumentProxy_getOutline() {\n      return this.transport.getOutline();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with an {Object} that has\n     * info and metadata properties.  Info is an {Object} filled with anything\n     * available in the information dictionary and similarly metadata is a\n     * {Metadata} object with information from the metadata section of the PDF.\n     */\n    getMetadata: function PDFDocumentProxy_getMetadata() {\n      return this.transport.getMetadata();\n    },\n    /**\n     * @return {Promise} A promise that is resolved with a TypedArray that has\n     * the raw data from the PDF.\n     */\n    getData: function PDFDocumentProxy_getData() {\n      return this.transport.getData();\n    },\n    /**\n     * @return {Promise} A promise that is resolved when the document's data\n     * is loaded. It is resolved with an {Object} that contains the length\n     * property that indicates size of the PDF data in bytes.\n     */\n    getDownloadInfo: function PDFDocumentProxy_getDownloadInfo() {\n      return this.transport.downloadInfoCapability.promise;\n    },\n    /**\n     * @return {Promise} A promise this is resolved with current stats about\n     * document structures (see {@link PDFDocumentStats}).\n     */\n    getStats: function PDFDocumentProxy_getStats() {\n      return this.transport.getStats();\n    },\n    /**\n     * Cleans up resources allocated by the document, e.g. created @font-face.\n     */\n    cleanup: function PDFDocumentProxy_cleanup() {\n      this.transport.startCleanup();\n    },\n    /**\n     * Destroys current document instance and terminates worker.\n     */\n    destroy: function PDFDocumentProxy_destroy() {\n      return this.loadingTask.destroy();\n    },\n  };\n  return PDFDocumentProxy;\n})();\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {array} items - array of {@link TextItem}\n * @property {Object} styles - {@link TextStyles} objects, indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - text content.\n * @property {string} dir - text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {array} transform - transformation matrix.\n * @property {number} width - width in device space.\n * @property {number} height - height in device space.\n * @property {string} fontName - font name used by pdf.js for converted font.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - font ascent.\n * @property {number} descent - font descent.\n * @property {boolean} vertical - text is in vertical mode.\n * @property {string} fontFamily - possible font family\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} intent - Determines the annotations that will be fetched,\n *                    can be either 'display' (viewable annotations) or 'print'\n *                    (printable annotations).\n *                    If the parameter is omitted, all annotations are fetched.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by\n *                                calling of PDFPage.getViewport method.\n * @property {string} intent - Rendering intent, can be 'display' or 'print'\n *                    (default value is 'display').\n * @property {boolean} renderInteractiveForms - (optional) Whether or not\n *                     interactive form elements are rendered in the display\n *                     layer. If so, we do not render them on canvas as well.\n * @property {Array}  transform - (optional) Additional transform, applied\n *                    just before viewport transform.\n * @property {Object} imageLayer - (optional) An object that has beginLayout,\n *                    endLayout and appendImage functions.\n * @property {function} continueCallback - (deprecated) A function that will be\n *                      called each time the rendering is paused.  To continue\n *                      rendering call the function that is the first argument\n *                      to the callback.\n * @property {Object} canvasFactory - (optional) The factory that will be used\n *                    when creating canvases. The default value is\n *                    {DOMCanvasFactory}.\n * @property {Object} background - (optional) Background to use for the canvas.\n *                    Can use any valid canvas.fillStyle: A DOMString parsed as\n *                    CSS <color> value, a CanvasGradient object (a linear or\n *                    radial gradient) or a CanvasPattern object (a repetitive\n *                    image). The default value is 'rgb(255,255,255)'.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array} fnArray - Array containing the operator functions.\n * @property {Array} argsArray - Array containing the arguments of the\n *                               functions.\n */\n\n/**\n * Proxy to a PDFPage in the worker thread.\n * @class\n * @alias PDFPageProxy\n */\nvar PDFPageProxy = (function PDFPageProxyClosure() {\n  function PDFPageProxy(pageIndex, pageInfo, transport) {\n    this.pageIndex = pageIndex;\n    this.pageInfo = pageInfo;\n    this.transport = transport;\n    this.stats = new StatTimer();\n    this.stats.enabled = getDefaultSetting('enableStats');\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this.intentStates = Object.create(null);\n    this.destroyed = false;\n  }\n  PDFPageProxy.prototype = /** @lends PDFPageProxy.prototype */ {\n    /**\n     * @return {number} Page number of the page. First page is 1.\n     */\n    get pageNumber() {\n      return this.pageIndex + 1;\n    },\n    /**\n     * @return {number} The number of degrees the page is rotated clockwise.\n     */\n    get rotate() {\n      return this.pageInfo.rotate;\n    },\n    /**\n     * @return {Object} The reference that points to this page. It has 'num' and\n     * 'gen' properties.\n     */\n    get ref() {\n      return this.pageInfo.ref;\n    },\n    /**\n     * @return {number} The default size of units in 1/72nds of an inch.\n     */\n    get userUnit() {\n      return this.pageInfo.userUnit;\n    },\n    /**\n     * @return {Array} An array of the visible portion of the PDF page in the\n     * user space units - [x1, y1, x2, y2].\n     */\n    get view() {\n      return this.pageInfo.view;\n    },\n    /**\n     * @param {number} scale The desired scale of the viewport.\n     * @param {number} rotate Degrees to rotate the viewport. If omitted this\n     * defaults to the page rotation.\n     * @return {PageViewport} Contains 'width' and 'height' properties\n     * along with transforms required for rendering.\n     */\n    getViewport: function PDFPageProxy_getViewport(scale, rotate) {\n      if (arguments.length < 2) {\n        rotate = this.rotate;\n      }\n      return new PageViewport(this.view, scale, rotate, 0, 0);\n    },\n    /**\n     * @param {GetAnnotationsParameters} params - Annotation parameters.\n     * @return {Promise} A promise that is resolved with an {Array} of the\n     * annotation objects.\n     */\n    getAnnotations: function PDFPageProxy_getAnnotations(params) {\n      var intent = (params && params.intent) || null;\n\n      if (!this.annotationsPromise || this.annotationsIntent !== intent) {\n        this.annotationsPromise = this.transport.getAnnotations(this.pageIndex,\n                                                                intent);\n        this.annotationsIntent = intent;\n      }\n      return this.annotationsPromise;\n    },\n    /**\n     * Begins the process of rendering a page to the desired context.\n     * @param {RenderParameters} params Page render parameters.\n     * @return {RenderTask} An object that contains the promise, which\n     *                      is resolved when the page finishes rendering.\n     */\n    render: function PDFPageProxy_render(params) {\n      var stats = this.stats;\n      stats.time('Overall');\n\n      // If there was a pending destroy cancel it so no cleanup happens during\n      // this call to render.\n      this.pendingCleanup = false;\n\n      var renderingIntent = (params.intent === 'print' ? 'print' : 'display');\n      var canvasFactory = params.canvasFactory || new DOMCanvasFactory();\n\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = Object.create(null);\n      }\n      var intentState = this.intentStates[renderingIntent];\n\n      // If there's no displayReadyCapability yet, then the operatorList\n      // was never requested before. Make the request and create the promise.\n      if (!intentState.displayReadyCapability) {\n        intentState.receivingOperatorList = true;\n        intentState.displayReadyCapability = createPromiseCapability();\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false,\n        };\n\n        this.stats.time('Page Request');\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageNumber - 1,\n          intent: renderingIntent,\n          renderInteractiveForms: (params.renderInteractiveForms === true),\n        });\n      }\n\n      var complete = (error) => {\n        var i = intentState.renderTasks.indexOf(internalRenderTask);\n        if (i >= 0) {\n          intentState.renderTasks.splice(i, 1);\n        }\n\n        if (this.cleanupAfterRender) {\n          this.pendingCleanup = true;\n        }\n        this._tryCleanup();\n\n        if (error) {\n          internalRenderTask.capability.reject(error);\n        } else {\n          internalRenderTask.capability.resolve();\n        }\n        stats.timeEnd('Rendering');\n        stats.timeEnd('Overall');\n      };\n\n      var internalRenderTask = new InternalRenderTask(complete, params,\n                                                      this.objs,\n                                                      this.commonObjs,\n                                                      intentState.operatorList,\n                                                      this.pageNumber,\n                                                      canvasFactory);\n      internalRenderTask.useRequestAnimationFrame = renderingIntent !== 'print';\n      if (!intentState.renderTasks) {\n        intentState.renderTasks = [];\n      }\n      intentState.renderTasks.push(internalRenderTask);\n      var renderTask = internalRenderTask.task;\n\n      // Obsolete parameter support\n      if (params.continueCallback) {\n        deprecated('render is used with continueCallback parameter');\n        renderTask.onContinue = params.continueCallback;\n      }\n\n      intentState.displayReadyCapability.promise.then((transparency) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        stats.time('Rendering');\n        internalRenderTask.initializeGraphics(transparency);\n        internalRenderTask.operatorListChanged();\n      }).catch(complete);\n\n      return renderTask;\n    },\n\n    /**\n     * @return {Promise} A promise resolved with an {@link PDFOperatorList}\n     *   object that represents page's operator list.\n     */\n    getOperatorList: function PDFPageProxy_getOperatorList() {\n      function operatorListChanged() {\n        if (intentState.operatorList.lastChunk) {\n          intentState.opListReadCapability.resolve(intentState.operatorList);\n\n          var i = intentState.renderTasks.indexOf(opListTask);\n          if (i >= 0) {\n            intentState.renderTasks.splice(i, 1);\n          }\n        }\n      }\n\n      var renderingIntent = 'oplist';\n      if (!this.intentStates[renderingIntent]) {\n        this.intentStates[renderingIntent] = Object.create(null);\n      }\n      var intentState = this.intentStates[renderingIntent];\n      var opListTask;\n\n      if (!intentState.opListReadCapability) {\n        opListTask = {};\n        opListTask.operatorListChanged = operatorListChanged;\n        intentState.receivingOperatorList = true;\n        intentState.opListReadCapability = createPromiseCapability();\n        intentState.renderTasks = [];\n        intentState.renderTasks.push(opListTask);\n        intentState.operatorList = {\n          fnArray: [],\n          argsArray: [],\n          lastChunk: false,\n        };\n\n        this.transport.messageHandler.send('RenderPageRequest', {\n          pageIndex: this.pageIndex,\n          intent: renderingIntent,\n        });\n      }\n      return intentState.opListReadCapability.promise;\n    },\n\n    /**\n     * @param {getTextContentParameters} params - getTextContent parameters.\n     * @return {ReadableStream} ReadableStream to read textContent chunks.\n     */\n    streamTextContent(params = {}) {\n      const TEXT_CONTENT_CHUNK_SIZE = 100;\n      return this.transport.messageHandler.sendWithStream('GetTextContent', {\n        pageIndex: this.pageNumber - 1,\n        normalizeWhitespace: (params.normalizeWhitespace === true),\n        combineTextItems: (params.disableCombineTextItems !== true),\n      }, {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      });\n    },\n\n    /**\n     * @param {getTextContentParameters} params - getTextContent parameters.\n     * @return {Promise} That is resolved a {@link TextContent}\n     * object that represent the page text content.\n     */\n    getTextContent: function PDFPageProxy_getTextContent(params) {\n      params = params || {};\n      let readableStream = this.streamTextContent(params);\n\n      return new Promise(function(resolve, reject) {\n        function pump() {\n          reader.read().then(function({ value, done, }) {\n            if (done) {\n              resolve(textContent);\n              return;\n            }\n            Util.extendObj(textContent.styles, value.styles);\n            Util.appendToArray(textContent.items, value.items);\n            pump();\n          }, reject);\n        }\n\n        let reader = readableStream.getReader();\n        let textContent = {\n          items: [],\n          styles: Object.create(null),\n        };\n\n        pump();\n      });\n    },\n\n    /**\n     * Destroys page object.\n     */\n    _destroy: function PDFPageProxy_destroy() {\n      this.destroyed = true;\n      this.transport.pageCache[this.pageIndex] = null;\n\n      var waitOn = [];\n      Object.keys(this.intentStates).forEach(function(intent) {\n        if (intent === 'oplist') {\n          // Avoid errors below, since the renderTasks are just stubs.\n          return;\n        }\n        var intentState = this.intentStates[intent];\n        intentState.renderTasks.forEach(function(renderTask) {\n          var renderCompleted = renderTask.capability.promise.\n            catch(function () {}); // ignoring failures\n          waitOn.push(renderCompleted);\n          renderTask.cancel();\n        });\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingCleanup = false;\n      return Promise.all(waitOn);\n    },\n\n    /**\n     * Cleans up resources allocated by the page. (deprecated)\n     */\n    destroy() {\n      deprecated('page destroy method, use cleanup() instead');\n      this.cleanup();\n    },\n\n    /**\n     * Cleans up resources allocated by the page.\n     */\n    cleanup: function PDFPageProxy_cleanup() {\n      this.pendingCleanup = true;\n      this._tryCleanup();\n    },\n    /**\n     * For internal use only. Attempts to clean up if rendering is in a state\n     * where that's possible.\n     * @ignore\n     */\n    _tryCleanup: function PDFPageProxy_tryCleanup() {\n      if (!this.pendingCleanup ||\n          Object.keys(this.intentStates).some(function(intent) {\n            var intentState = this.intentStates[intent];\n            return (intentState.renderTasks.length !== 0 ||\n                    intentState.receivingOperatorList);\n          }, this)) {\n        return;\n      }\n\n      Object.keys(this.intentStates).forEach(function(intent) {\n        delete this.intentStates[intent];\n      }, this);\n      this.objs.clear();\n      this.annotationsPromise = null;\n      this.pendingCleanup = false;\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _startRenderPage: function PDFPageProxy_startRenderPage(transparency,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      // TODO Refactor RenderPageRequest to separate rendering\n      // and operator list logic\n      if (intentState.displayReadyCapability) {\n        intentState.displayReadyCapability.resolve(transparency);\n      }\n    },\n    /**\n     * For internal use only.\n     * @ignore\n     */\n    _renderPageChunk: function PDFPageProxy_renderPageChunk(operatorListChunk,\n                                                            intent) {\n      var intentState = this.intentStates[intent];\n      var i, ii;\n      // Add the new chunk to the current operator list.\n      for (i = 0, ii = operatorListChunk.length; i < ii; i++) {\n        intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n        intentState.operatorList.argsArray.push(\n          operatorListChunk.argsArray[i]);\n      }\n      intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n      // Notify all the rendering tasks there are more operators to be consumed.\n      for (i = 0; i < intentState.renderTasks.length; i++) {\n        intentState.renderTasks[i].operatorListChanged();\n      }\n\n      if (operatorListChunk.lastChunk) {\n        intentState.receivingOperatorList = false;\n        this._tryCleanup();\n      }\n    },\n  };\n  return PDFPageProxy;\n})();\n\nclass LoopbackPort {\n  constructor(defer) {\n    this._listeners = [];\n    this._defer = defer;\n    this._deferred = Promise.resolve(undefined);\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(value) {\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      if (typeof value !== 'object' || value === null) {\n        return value;\n      }\n      if (cloned.has(value)) { // already cloned the object\n        return cloned.get(value);\n      }\n      var result;\n      var buffer;\n      if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n        // We found object with ArrayBuffer (typed array).\n        var transferable = transfers && transfers.indexOf(buffer) >= 0;\n        if (value === buffer) {\n          // Special case when we are faking typed arrays in compatibility.js.\n          result = value;\n        } else if (transferable) {\n          result = new value.constructor(buffer, value.byteOffset,\n                                         value.byteLength);\n        } else {\n          result = new value.constructor(value);\n        }\n        cloned.set(value, result);\n        return result;\n      }\n      result = isArray(value) ? [] : {};\n      cloned.set(value, result); // adding to cache now for cyclic references\n      // Cloning all value and object properties, however ignoring properties\n      // defined via getter.\n      for (var i in value) {\n        var desc, p = value;\n        while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n          p = Object.getPrototypeOf(p);\n        }\n        if (typeof desc.value === 'undefined' ||\n            typeof desc.value === 'function') {\n          continue;\n        }\n        result[i] = cloneValue(desc.value);\n      }\n      return result;\n    }\n\n    if (!this._defer) {\n      this._listeners.forEach(function (listener) {\n        listener.call(this, { data: obj, });\n      }, this);\n      return;\n    }\n\n    var cloned = new WeakMap();\n    var e = { data: cloneValue(obj), };\n    this._deferred.then(() => {\n      this._listeners.forEach(function (listener) {\n        listener.call(this, e);\n      }, this);\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    var i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners = [];\n  }\n}\n\n/**\n * PDF.js web worker abstraction, it controls instantiation of PDF documents and\n * WorkerTransport for them.  If creation of a web worker is not possible,\n * a \"fake\" worker will be used instead.\n * @class\n */\nvar PDFWorker = (function PDFWorkerClosure() {\n  let nextFakeWorkerId = 0;\n\n  function getWorkerSrc() {\n    if (typeof workerSrc !== 'undefined') {\n      return workerSrc;\n    }\n    if (getDefaultSetting('workerSrc')) {\n      return getDefaultSetting('workerSrc');\n    }\n    if (typeof PDFJSDev !== 'undefined' &&\n        PDFJSDev.test('PRODUCTION && !(MOZCENTRAL || FIREFOX)') &&\n        pdfjsFilePath) {\n      return pdfjsFilePath.replace(/(\\.(?:min\\.)?js)(\\?.*)?$/i, '.worker$1$2');\n    }\n    throw new Error('No PDFJS.workerSrc specified');\n  }\n\n  let fakeWorkerFilesLoadedCapability;\n\n  // Loads worker code into main thread.\n  function setupFakeWorkerGlobal() {\n    var WorkerMessageHandler;\n    if (fakeWorkerFilesLoadedCapability) {\n      return fakeWorkerFilesLoadedCapability.promise;\n    }\n    fakeWorkerFilesLoadedCapability = createPromiseCapability();\n    // In the developer build load worker_loader which in turn loads all the\n    // other files and resolves the promise. In production only the\n    // pdf.worker.js file is needed.\n    if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('PRODUCTION')) {\n      if (typeof SystemJS === 'object') {\n        SystemJS.import('pdfjs/core/worker').then((worker) => {\n          WorkerMessageHandler = worker.WorkerMessageHandler;\n          fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n        });\n      } else if (typeof require === 'function') {\n        var worker = require('../core/worker.js');\n        WorkerMessageHandler = worker.WorkerMessageHandler;\n        fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n      } else {\n        throw new Error(\n          'SystemJS or CommonJS must be used to load fake worker.');\n      }\n    } else if (PDFJSDev.test('SINGLE_FILE')) {\n      var pdfjsCoreWorker = require('../core/worker.js');\n      WorkerMessageHandler = pdfjsCoreWorker.WorkerMessageHandler;\n      fakeWorkerFilesLoadedCapability.resolve(WorkerMessageHandler);\n    } else {\n      var loader = fakeWorkerFilesLoader || function (callback) {\n        Util.loadScript(getWorkerSrc(), function () {\n          callback(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler);\n        });\n      };\n      loader(fakeWorkerFilesLoadedCapability.resolve);\n    }\n    return fakeWorkerFilesLoadedCapability.promise;\n  }\n\n  function createCDNWrapper(url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    var wrapper = 'importScripts(\\'' + url + '\\');';\n    return URL.createObjectURL(new Blob([wrapper]));\n  }\n\n  let pdfWorkerPorts = new WeakMap();\n\n  function PDFWorker(name, port) {\n    if (port && pdfWorkerPorts.has(port)) {\n      throw new Error('Cannot use more than one PDFWorker per port');\n    }\n\n    this.name = name;\n    this.destroyed = false;\n    this.postMessageTransfers = true;\n\n    this._readyCapability = createPromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (port) {\n      pdfWorkerPorts.set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n\n    this._initialize();\n  }\n\n  PDFWorker.prototype = /** @lends PDFWorker.prototype */ {\n    get promise() {\n      return this._readyCapability.promise;\n    },\n\n    get port() {\n      return this._port;\n    },\n\n    get messageHandler() {\n      return this._messageHandler;\n    },\n\n    _initializeFromPort: function PDFWorker_initializeFromPort(port) {\n      this._port = port;\n      this._messageHandler = new MessageHandler('main', 'worker', port);\n      this._messageHandler.on('ready', function () {\n        // Ignoring 'ready' event -- MessageHandler shall be already initialized\n        // and ready to accept the messages.\n      });\n      this._readyCapability.resolve();\n    },\n\n    _initialize: function PDFWorker_initialize() {\n      // If worker support isn't disabled explicit and the browser has worker\n      // support, create a new web worker and test if it/the browser fulfills\n      // all requirements to run parts of pdf.js in a web worker.\n      // Right now, the requirement is, that an Uint8Array is still an\n      // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n      if ((typeof PDFJSDev === 'undefined' || !PDFJSDev.test('SINGLE_FILE')) &&\n          !isWorkerDisabled && !getDefaultSetting('disableWorker') &&\n          typeof Worker !== 'undefined') {\n        var workerSrc = getWorkerSrc();\n\n        try {\n          // Wraps workerSrc path into blob URL, if the former does not belong\n          // to the same origin.\n          if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('GENERIC') &&\n              !isSameOrigin(window.location.href, workerSrc)) {\n            workerSrc = createCDNWrapper(\n              new URL(workerSrc, window.location).href);\n          }\n\n          // Some versions of FF can't create a worker on localhost, see:\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n          var worker = new Worker(workerSrc);\n          var messageHandler = new MessageHandler('main', 'worker', worker);\n          var terminateEarly = () => {\n            worker.removeEventListener('error', onWorkerError);\n            messageHandler.destroy();\n            worker.terminate();\n            if (this.destroyed) {\n              this._readyCapability.reject(new Error('Worker was destroyed'));\n            } else {\n              // Fall back to fake worker if the termination is caused by an\n              // error (e.g. NetworkError / SecurityError).\n              this._setupFakeWorker();\n            }\n          };\n\n          var onWorkerError = () => {\n            if (!this._webWorker) {\n              // Worker failed to initialize due to an error. Clean up and fall\n              // back to the fake worker.\n              terminateEarly();\n            }\n          };\n          worker.addEventListener('error', onWorkerError);\n\n          messageHandler.on('test', (data) => {\n            worker.removeEventListener('error', onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            var supportTypedArray = data && data.supportTypedArray;\n            if (supportTypedArray) {\n              this._messageHandler = messageHandler;\n              this._port = worker;\n              this._webWorker = worker;\n              if (!data.supportTransfers) {\n                this.postMessageTransfers = false;\n                isPostMessageTransfersDisabled = true;\n              }\n              this._readyCapability.resolve();\n              // Send global setting, e.g. verbosity level.\n              messageHandler.send('configure', {\n                verbosity: getVerbosityLevel(),\n              });\n            } else {\n              this._setupFakeWorker();\n              messageHandler.destroy();\n              worker.terminate();\n            }\n          });\n\n          messageHandler.on('console_log', function (data) {\n            console.log.apply(console, data);\n          });\n          messageHandler.on('console_error', function (data) {\n            console.error.apply(console, data);\n          });\n\n          messageHandler.on('ready', (data) => {\n            worker.removeEventListener('error', onWorkerError);\n            if (this.destroyed) {\n              terminateEarly();\n              return; // worker was destroyed\n            }\n            try {\n              sendTest();\n            } catch (e) {\n              // We need fallback to a faked worker.\n              this._setupFakeWorker();\n            }\n          });\n\n          var sendTest = function () {\n            var postMessageTransfers =\n              getDefaultSetting('postMessageTransfers') &&\n              !isPostMessageTransfersDisabled;\n            var testObj = new Uint8Array([postMessageTransfers ? 255 : 0]);\n            // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n            // typed array. Also, checking if we can use transfers.\n            try {\n              messageHandler.send('test', testObj, [testObj.buffer]);\n            } catch (ex) {\n              info('Cannot use postMessage transfers');\n              testObj[0] = 0;\n              messageHandler.send('test', testObj);\n            }\n          };\n\n          // It might take time for worker to initialize (especially when AMD\n          // loader is used). We will try to send test immediately, and then\n          // when 'ready' message will arrive. The worker shall process only\n          // first received 'test'.\n          sendTest();\n          return;\n        } catch (e) {\n          info('The worker has been disabled.');\n        }\n      }\n      // Either workers are disabled, not supported or have thrown an exception.\n      // Thus, we fallback to a faked worker.\n      this._setupFakeWorker();\n    },\n\n    _setupFakeWorker: function PDFWorker_setupFakeWorker() {\n      if (!isWorkerDisabled && !getDefaultSetting('disableWorker')) {\n        warn('Setting up fake worker.');\n        isWorkerDisabled = true;\n      }\n\n      setupFakeWorkerGlobal().then((WorkerMessageHandler) => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error('Worker was destroyed'));\n          return;\n        }\n\n        // We cannot turn on proper fake port simulation (this includes\n        // structured cloning) when typed arrays are not supported. Relying\n        // on a chance that messages will be sent in proper order.\n        var isTypedArraysPresent = Uint8Array !== Float32Array;\n        var port = new LoopbackPort(isTypedArraysPresent);\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        var id = 'fake' + (nextFakeWorkerId++);\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        var workerHandler = new MessageHandler(id + '_worker', id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        var messageHandler = new MessageHandler(id, id + '_worker', port);\n        this._messageHandler = messageHandler;\n        this._readyCapability.resolve();\n      });\n    },\n\n    /**\n     * Destroys the worker instance.\n     */\n    destroy: function PDFWorker_destroy() {\n      this.destroyed = true;\n      if (this._webWorker) {\n        // We need to terminate only web worker created resource.\n        this._webWorker.terminate();\n        this._webWorker = null;\n      }\n      pdfWorkerPorts.delete(this._port);\n      this._port = null;\n      if (this._messageHandler) {\n        this._messageHandler.destroy();\n        this._messageHandler = null;\n      }\n    },\n  };\n\n  PDFWorker.fromPort = function (port) {\n    if (pdfWorkerPorts.has(port)) {\n      return pdfWorkerPorts.get(port);\n    }\n    return new PDFWorker(null, port);\n  };\n\n  return PDFWorker;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar WorkerTransport = (function WorkerTransportClosure() {\n  function WorkerTransport(messageHandler, loadingTask, networkStream,\n                           CMapReaderFactory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader(loadingTask.docId);\n    this.CMapReaderFactory = new CMapReaderFactory({\n      baseUrl: getDefaultSetting('cMapUrl'),\n      isCompressed: getDefaultSetting('cMapPacked'),\n    });\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n\n    this.pageCache = [];\n    this.pagePromises = [];\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n  WorkerTransport.prototype = {\n    destroy: function WorkerTransport_destroy() {\n      if (this.destroyCapability) {\n        return this.destroyCapability.promise;\n      }\n\n      this.destroyed = true;\n      this.destroyCapability = createPromiseCapability();\n\n      if (this._passwordCapability) {\n        this._passwordCapability.reject(\n          new Error('Worker was destroyed during onPassword callback'));\n      }\n\n      var waitOn = [];\n      // We need to wait for all renderings to be completed, e.g.\n      // timeout/rAF can take a long time.\n      this.pageCache.forEach(function (page) {\n        if (page) {\n          waitOn.push(page._destroy());\n        }\n      });\n      this.pageCache = [];\n      this.pagePromises = [];\n      // We also need to wait for the worker to finish its long running tasks.\n      var terminated = this.messageHandler.sendWithPromise('Terminate', null);\n      waitOn.push(terminated);\n      Promise.all(waitOn).then(() => {\n        this.fontLoader.clear();\n        if (this._networkStream) {\n          this._networkStream.cancelAllRequests();\n        }\n\n        if (this.messageHandler) {\n          this.messageHandler.destroy();\n          this.messageHandler = null;\n        }\n        this.destroyCapability.resolve();\n      }, this.destroyCapability.reject);\n      return this.destroyCapability.promise;\n    },\n\n    setupMessageHandler: function WorkerTransport_setupMessageHandler() {\n      var messageHandler = this.messageHandler;\n      var loadingTask = this.loadingTask;\n\n      messageHandler.on('GetReader', function(data, sink) {\n        assert(this._networkStream);\n        this._fullReader = this._networkStream.getFullReader();\n        this._fullReader.onProgress = (evt) => {\n          this._lastProgress = {\n            loaded: evt.loaded,\n            total: evt.total,\n          };\n        };\n        sink.onPull = () => {\n          this._fullReader.read().then(function({ value, done, }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          }).catch((reason) => {\n            sink.error(reason);\n          });\n        };\n\n        sink.onCancel = (reason) => {\n          this._fullReader.cancel(reason);\n        };\n      }, this);\n\n      messageHandler.on('ReaderHeadersReady', function(data) {\n        let headersCapability = createPromiseCapability();\n        let fullReader = this._fullReader;\n        fullReader.headersReady.then(() => {\n          // If stream or range are disabled, it's our only way to report\n          // loading progress.\n          if (!fullReader.isStreamingSupported ||\n              !fullReader.isRangeSupported) {\n            if (this._lastProgress) {\n              let loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress(this._lastProgress);\n              }\n            }\n            fullReader.onProgress = (evt) => {\n              let loadingTask = this.loadingTask;\n              if (loadingTask.onProgress) {\n                loadingTask.onProgress({\n                  loaded: evt.loaded,\n                  total: evt.total,\n                });\n              }\n            };\n          }\n\n          headersCapability.resolve({\n            isStreamingSupported: fullReader.isStreamingSupported,\n            isRangeSupported: fullReader.isRangeSupported,\n            contentLength: fullReader.contentLength,\n          });\n        }, headersCapability.reject);\n\n        return headersCapability.promise;\n      }, this);\n\n      messageHandler.on('GetRangeReader', function(data, sink) {\n        assert(this._networkStream);\n        let _rangeReader =\n          this._networkStream.getRangeReader(data.begin, data.end);\n\n        sink.onPull = () => {\n          _rangeReader.read().then(function({ value, done, }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(isArrayBuffer(value));\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          }).catch((reason) => {\n            sink.error(reason);\n          });\n        };\n\n        sink.onCancel = (reason) => {\n          _rangeReader.cancel(reason);\n        };\n      }, this);\n\n      messageHandler.on('GetDoc', function transportDoc(data) {\n        var pdfInfo = data.pdfInfo;\n        this.numPages = data.pdfInfo.numPages;\n        var loadingTask = this.loadingTask;\n        var pdfDocument = new PDFDocumentProxy(pdfInfo, this, loadingTask);\n        this.pdfDocument = pdfDocument;\n        loadingTask._capability.resolve(pdfDocument);\n      }, this);\n\n      messageHandler.on('PasswordRequest',\n                        function transportPasswordRequest(exception) {\n        this._passwordCapability = createPromiseCapability();\n\n        if (loadingTask.onPassword) {\n          var updatePassword = (password) => {\n            this._passwordCapability.resolve({\n              password,\n            });\n          };\n          loadingTask.onPassword(updatePassword, exception.code);\n        } else {\n          this._passwordCapability.reject(\n            new PasswordException(exception.message, exception.code));\n        }\n        return this._passwordCapability.promise;\n      }, this);\n\n      messageHandler.on('PasswordException',\n                        function transportPasswordException(exception) {\n        loadingTask._capability.reject(\n          new PasswordException(exception.message, exception.code));\n      }, this);\n\n      messageHandler.on('InvalidPDF', function transportInvalidPDF(exception) {\n        this.loadingTask._capability.reject(\n          new InvalidPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('MissingPDF', function transportMissingPDF(exception) {\n        this.loadingTask._capability.reject(\n          new MissingPDFException(exception.message));\n      }, this);\n\n      messageHandler.on('UnexpectedResponse',\n                        function transportUnexpectedResponse(exception) {\n        this.loadingTask._capability.reject(\n          new UnexpectedResponseException(exception.message, exception.status));\n      }, this);\n\n      messageHandler.on('UnknownError',\n                        function transportUnknownError(exception) {\n        this.loadingTask._capability.reject(\n          new UnknownErrorException(exception.message, exception.details));\n      }, this);\n\n      messageHandler.on('DataLoaded', function transportPage(data) {\n        this.downloadInfoCapability.resolve(data);\n      }, this);\n\n      messageHandler.on('PDFManagerReady', function transportPage(data) {\n      }, this);\n\n      messageHandler.on('StartRenderPage', function transportRender(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        var page = this.pageCache[data.pageIndex];\n\n        page.stats.timeEnd('Page Request');\n        page._startRenderPage(data.transparency, data.intent);\n      }, this);\n\n      messageHandler.on('RenderPageChunk', function transportRender(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        var page = this.pageCache[data.pageIndex];\n\n        page._renderPageChunk(data.operatorList, data.intent);\n      }, this);\n\n      messageHandler.on('commonobj', function transportObj(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var id = data[0];\n        var type = data[1];\n        if (this.commonObjs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'Font':\n            var exportedData = data[2];\n\n            if ('error' in exportedData) {\n              var exportedError = exportedData.error;\n              warn('Error during font loading: ' + exportedError);\n              this.commonObjs.resolve(id, exportedError);\n              break;\n            }\n            var fontRegistry = null;\n            if (getDefaultSetting('pdfBug') && globalScope.FontInspector &&\n                globalScope['FontInspector'].enabled) {\n              fontRegistry = {\n                registerFont(font, url) {\n                  globalScope['FontInspector'].fontAdded(font, url);\n                },\n              };\n            }\n            var font = new FontFaceObject(exportedData, {\n              isEvalSuported: getDefaultSetting('isEvalSupported'),\n              disableFontFace: getDefaultSetting('disableFontFace'),\n              fontRegistry,\n            });\n            var fontReady = (fontObjs) => {\n              this.commonObjs.resolve(id, font);\n            };\n\n            this.fontLoader.bind([font], fontReady);\n            break;\n          case 'FontPath':\n            this.commonObjs.resolve(id, data[2]);\n            break;\n          default:\n            throw new Error(`Got unknown common object type ${type}`);\n        }\n      }, this);\n\n      messageHandler.on('obj', function transportObj(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var id = data[0];\n        var pageIndex = data[1];\n        var type = data[2];\n        var pageProxy = this.pageCache[pageIndex];\n        var imageData;\n        if (pageProxy.objs.hasData(id)) {\n          return;\n        }\n\n        switch (type) {\n          case 'JpegStream':\n            imageData = data[3];\n            loadJpegStream(id, imageData, pageProxy.objs);\n            break;\n          case 'Image':\n            imageData = data[3];\n            pageProxy.objs.resolve(id, imageData);\n\n            // heuristics that will allow not to store large data\n            var MAX_IMAGE_SIZE_TO_STORE = 8000000;\n            if (imageData && 'data' in imageData &&\n                imageData.data.length > MAX_IMAGE_SIZE_TO_STORE) {\n              pageProxy.cleanupAfterRender = true;\n            }\n            break;\n          default:\n            throw new Error(`Got unknown object type ${type}`);\n        }\n      }, this);\n\n      messageHandler.on('DocProgress', function transportDocProgress(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onProgress) {\n          loadingTask.onProgress({\n            loaded: data.loaded,\n            total: data.total,\n          });\n        }\n      }, this);\n\n      messageHandler.on('PageError', function transportError(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n\n        var page = this.pageCache[data.pageNum - 1];\n        var intentState = page.intentStates[data.intent];\n\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(data.error);\n        } else {\n          throw new Error(data.error);\n        }\n\n        if (intentState.operatorList) {\n          // Mark operator list as complete.\n          intentState.operatorList.lastChunk = true;\n          for (var i = 0; i < intentState.renderTasks.length; i++) {\n            intentState.renderTasks[i].operatorListChanged();\n          }\n        }\n      }, this);\n\n      messageHandler.on('UnsupportedFeature',\n          function transportUnsupportedFeature(data) {\n        if (this.destroyed) {\n          return; // Ignore any pending requests if the worker was terminated.\n        }\n        var featureId = data.featureId;\n        var loadingTask = this.loadingTask;\n        if (loadingTask.onUnsupportedFeature) {\n          loadingTask.onUnsupportedFeature(featureId);\n        }\n        _UnsupportedManager.notify(featureId);\n      }, this);\n\n      messageHandler.on('JpegDecode', function(data) {\n        if (this.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n\n        if (typeof document === 'undefined') {\n          // Make sure that this code is not executing in node.js, as\n          // it's using DOM image, and there is no library to support that.\n          return Promise.reject(new Error('\"document\" is not defined.'));\n        }\n\n        var imageUrl = data[0];\n        var components = data[1];\n        if (components !== 3 && components !== 1) {\n          return Promise.reject(\n            new Error('Only 3 components or 1 component can be returned'));\n        }\n\n        return new Promise(function (resolve, reject) {\n          var img = new Image();\n          img.onload = function () {\n            var width = img.width;\n            var height = img.height;\n            var size = width * height;\n            var rgbaLength = size * 4;\n            var buf = new Uint8Array(size * components);\n            var tmpCanvas = document.createElement('canvas');\n            tmpCanvas.width = width;\n            tmpCanvas.height = height;\n            var tmpCtx = tmpCanvas.getContext('2d');\n            tmpCtx.drawImage(img, 0, 0);\n            var data = tmpCtx.getImageData(0, 0, width, height).data;\n            var i, j;\n\n            if (components === 3) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j += 3) {\n                buf[j] = data[i];\n                buf[j + 1] = data[i + 1];\n                buf[j + 2] = data[i + 2];\n              }\n            } else if (components === 1) {\n              for (i = 0, j = 0; i < rgbaLength; i += 4, j++) {\n                buf[j] = data[i];\n              }\n            }\n            resolve({ data: buf, width, height, });\n          };\n          img.onerror = function () {\n            reject(new Error('JpegDecode failed to load image'));\n          };\n          img.src = imageUrl;\n        });\n      }, this);\n\n      messageHandler.on('FetchBuiltInCMap', function (data) {\n        if (this.destroyed) {\n          return Promise.reject(new Error('Worker was destroyed'));\n        }\n        return this.CMapReaderFactory.fetch({\n          name: data.name,\n        });\n      }, this);\n    },\n\n    getData: function WorkerTransport_getData() {\n      return this.messageHandler.sendWithPromise('GetData', null);\n    },\n\n    getPage: function WorkerTransport_getPage(pageNumber, capability) {\n      if (!isInt(pageNumber) || pageNumber <= 0 || pageNumber > this.numPages) {\n        return Promise.reject(new Error('Invalid page request'));\n      }\n\n      var pageIndex = pageNumber - 1;\n      if (pageIndex in this.pagePromises) {\n        return this.pagePromises[pageIndex];\n      }\n      var promise = this.messageHandler.sendWithPromise('GetPage', {\n        pageIndex,\n      }).then((pageInfo) => {\n        if (this.destroyed) {\n          throw new Error('Transport destroyed');\n        }\n        var page = new PDFPageProxy(pageIndex, pageInfo, this);\n        this.pageCache[pageIndex] = page;\n        return page;\n      });\n      this.pagePromises[pageIndex] = promise;\n      return promise;\n    },\n\n    getPageIndex: function WorkerTransport_getPageIndexByRef(ref) {\n      return this.messageHandler.sendWithPromise('GetPageIndex', {\n        ref,\n      }).catch(function (reason) {\n        return Promise.reject(new Error(reason));\n      });\n    },\n\n    getAnnotations: function WorkerTransport_getAnnotations(pageIndex, intent) {\n      return this.messageHandler.sendWithPromise('GetAnnotations', {\n        pageIndex,\n        intent,\n      });\n    },\n\n    getDestinations: function WorkerTransport_getDestinations() {\n      return this.messageHandler.sendWithPromise('GetDestinations', null);\n    },\n\n    getDestination: function WorkerTransport_getDestination(id) {\n      return this.messageHandler.sendWithPromise('GetDestination', {\n        id,\n      });\n    },\n\n    getPageLabels: function WorkerTransport_getPageLabels() {\n      return this.messageHandler.sendWithPromise('GetPageLabels', null);\n    },\n\n    getPageMode() {\n      return this.messageHandler.sendWithPromise('GetPageMode', null);\n    },\n\n    getAttachments: function WorkerTransport_getAttachments() {\n      return this.messageHandler.sendWithPromise('GetAttachments', null);\n    },\n\n    getJavaScript: function WorkerTransport_getJavaScript() {\n      return this.messageHandler.sendWithPromise('GetJavaScript', null);\n    },\n\n    getOutline: function WorkerTransport_getOutline() {\n      return this.messageHandler.sendWithPromise('GetOutline', null);\n    },\n\n    getMetadata: function WorkerTransport_getMetadata() {\n      return this.messageHandler.sendWithPromise('GetMetadata', null).\n        then(function transportMetadata(results) {\n        return {\n          info: results[0],\n          metadata: (results[1] ? new Metadata(results[1]) : null),\n        };\n      });\n    },\n\n    getStats: function WorkerTransport_getStats() {\n      return this.messageHandler.sendWithPromise('GetStats', null);\n    },\n\n    startCleanup: function WorkerTransport_startCleanup() {\n      this.messageHandler.sendWithPromise('Cleanup', null).then(() => {\n        for (var i = 0, ii = this.pageCache.length; i < ii; i++) {\n          var page = this.pageCache[i];\n          if (page) {\n            page.cleanup();\n          }\n        }\n        this.commonObjs.clear();\n        this.fontLoader.clear();\n      });\n    },\n  };\n  return WorkerTransport;\n\n})();\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects\n * for fonts, images, rendering code and such. These objects might get processed\n * inside of a worker. The `PDFObjects` implements some basic functions to\n * manage these objects.\n * @ignore\n */\nvar PDFObjects = (function PDFObjectsClosure() {\n  function PDFObjects() {\n    this.objs = Object.create(null);\n  }\n\n  PDFObjects.prototype = {\n    /**\n     * Internal function.\n     * Ensures there is an object defined for `objId`.\n     */\n    ensureObj: function PDFObjects_ensureObj(objId) {\n      if (this.objs[objId]) {\n        return this.objs[objId];\n      }\n\n      var obj = {\n        capability: createPromiseCapability(),\n        data: null,\n        resolved: false,\n      };\n      this.objs[objId] = obj;\n\n      return obj;\n    },\n\n    /**\n     * If called *without* callback, this returns the data of `objId` but the\n     * object needs to be resolved. If it isn't, this function throws.\n     *\n     * If called *with* a callback, the callback is called with the data of the\n     * object once the object is resolved. That means, if you call this\n     * function and the object is already resolved, the callback gets called\n     * right away.\n     */\n    get: function PDFObjects_get(objId, callback) {\n      // If there is a callback, then the get can be async and the object is\n      // not required to be resolved right now\n      if (callback) {\n        this.ensureObj(objId).capability.promise.then(callback);\n        return null;\n      }\n\n      // If there isn't a callback, the user expects to get the resolved data\n      // directly.\n      var obj = this.objs[objId];\n\n      // If there isn't an object yet or the object isn't resolved, then the\n      // data isn't ready yet!\n      if (!obj || !obj.resolved) {\n        throw new Error(`Requesting object that isn't resolved yet ${objId}`);\n      }\n\n      return obj.data;\n    },\n\n    /**\n     * Resolves the object `objId` with optional `data`.\n     */\n    resolve: function PDFObjects_resolve(objId, data) {\n      var obj = this.ensureObj(objId);\n\n      obj.resolved = true;\n      obj.data = data;\n      obj.capability.resolve(data);\n    },\n\n    isResolved: function PDFObjects_isResolved(objId) {\n      var objs = this.objs;\n\n      if (!objs[objId]) {\n        return false;\n      }\n      return objs[objId].resolved;\n    },\n\n    hasData: function PDFObjects_hasData(objId) {\n      return this.isResolved(objId);\n    },\n\n    /**\n     * Returns the data of `objId` if object exists, null otherwise.\n     */\n    getData: function PDFObjects_getData(objId) {\n      var objs = this.objs;\n      if (!objs[objId] || !objs[objId].resolved) {\n        return null;\n      }\n      return objs[objId].data;\n    },\n\n    clear: function PDFObjects_clear() {\n      this.objs = Object.create(null);\n    },\n  };\n  return PDFObjects;\n})();\n\n/**\n * Allows controlling of the rendering tasks.\n * @class\n * @alias RenderTask\n */\nvar RenderTask = (function RenderTaskClosure() {\n  function RenderTask(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  RenderTask.prototype = /** @lends RenderTask.prototype */ {\n    /**\n     * Promise for rendering task completion.\n     * @return {Promise}\n     */\n    get promise() {\n      return this._internalRenderTask.capability.promise;\n    },\n\n    /**\n     * Cancels the rendering task. If the task is currently rendering it will\n     * not be cancelled until graphics pauses with a timeout. The promise that\n     * this object extends will be rejected when cancelled.\n     */\n    cancel: function RenderTask_cancel() {\n      this._internalRenderTask.cancel();\n    },\n\n    /**\n     * Registers callbacks to indicate the rendering task completion.\n     *\n     * @param {function} onFulfilled The callback for the rendering completion.\n     * @param {function} onRejected The callback for the rendering failure.\n     * @return {Promise} A promise that is resolved after the onFulfilled or\n     *                   onRejected callback.\n     */\n    then: function RenderTask_then(onFulfilled, onRejected) {\n      return this.promise.then.apply(this.promise, arguments);\n    },\n  };\n\n  return RenderTask;\n})();\n\n/**\n * For internal use only.\n * @ignore\n */\nvar InternalRenderTask = (function InternalRenderTaskClosure() {\n  let canvasInRendering = new WeakMap();\n\n  function InternalRenderTask(callback, params, objs, commonObjs, operatorList,\n                              pageNumber, canvasFactory) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this.pageNumber = pageNumber;\n    this.canvasFactory = canvasFactory;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this.useRequestAnimationFrame = false;\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  InternalRenderTask.prototype = {\n\n    initializeGraphics:\n        function InternalRenderTask_initializeGraphics(transparency) {\n\n      if (this._canvas) {\n        if (canvasInRendering.has(this._canvas)) {\n          throw new Error(\n            'Cannot use the same canvas during multiple render() operations. ' +\n            'Use different canvas or ensure previous operations were ' +\n            'cancelled or completed.');\n        }\n        canvasInRendering.set(this._canvas, this);\n      }\n\n      if (this.cancelled) {\n        return;\n      }\n      if (getDefaultSetting('pdfBug') && globalScope.StepperManager &&\n          globalScope.StepperManager.enabled) {\n        this.stepper = globalScope.StepperManager.create(this.pageNumber - 1);\n        this.stepper.init(this.operatorList);\n        this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n      }\n\n      var params = this.params;\n      this.gfx = new CanvasGraphics(params.canvasContext, this.commonObjs,\n                                    this.objs, this.canvasFactory,\n                                    params.imageLayer);\n\n      this.gfx.beginDrawing({\n        transform: params.transform,\n        viewport: params.viewport,\n        transparency,\n        background: params.background,\n      });\n      this.operatorListIdx = 0;\n      this.graphicsReady = true;\n      if (this.graphicsReadyCallback) {\n        this.graphicsReadyCallback();\n      }\n    },\n\n    cancel: function InternalRenderTask_cancel() {\n      this.running = false;\n      this.cancelled = true;\n      if (this._canvas) {\n        canvasInRendering.delete(this._canvas);\n      }\n\n      if ((typeof PDFJSDev !== 'undefined' && PDFJSDev.test('PDFJS_NEXT')) ||\n          getDefaultSetting('pdfjsNext')) {\n        this.callback(new RenderingCancelledException(\n          'Rendering cancelled, page ' + this.pageNumber, 'canvas'));\n      } else {\n        this.callback('cancelled');\n      }\n    },\n\n    operatorListChanged: function InternalRenderTask_operatorListChanged() {\n      if (!this.graphicsReady) {\n        if (!this.graphicsReadyCallback) {\n          this.graphicsReadyCallback = this._continueBound;\n        }\n        return;\n      }\n\n      if (this.stepper) {\n        this.stepper.updateOperatorList(this.operatorList);\n      }\n\n      if (this.running) {\n        return;\n      }\n      this._continue();\n    },\n\n    _continue: function InternalRenderTask__continue() {\n      this.running = true;\n      if (this.cancelled) {\n        return;\n      }\n      if (this.task.onContinue) {\n        this.task.onContinue(this._scheduleNextBound);\n      } else {\n        this._scheduleNext();\n      }\n    },\n\n    _scheduleNext: function InternalRenderTask__scheduleNext() {\n      if (this.useRequestAnimationFrame && typeof window !== 'undefined') {\n        window.requestAnimationFrame(this._nextBound);\n      } else {\n        Promise.resolve(undefined).then(this._nextBound);\n      }\n    },\n\n    _next: function InternalRenderTask__next() {\n      if (this.cancelled) {\n        return;\n      }\n      this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList,\n                                        this.operatorListIdx,\n                                        this._continueBound,\n                                        this.stepper);\n      if (this.operatorListIdx === this.operatorList.argsArray.length) {\n        this.running = false;\n        if (this.operatorList.lastChunk) {\n          this.gfx.endDrawing();\n          if (this._canvas) {\n            canvasInRendering.delete(this._canvas);\n          }\n          this.callback();\n        }\n      }\n    },\n\n  };\n\n  return InternalRenderTask;\n})();\n\n/**\n * (Deprecated) Global observer of unsupported feature usages. Use\n * onUnsupportedFeature callback of the {PDFDocumentLoadingTask} instance.\n */\nvar _UnsupportedManager = (function UnsupportedManagerClosure() {\n  var listeners = [];\n  return {\n    listen(cb) {\n      deprecated('Global UnsupportedManager.listen is used: ' +\n                 ' use PDFDocumentLoadingTask.onUnsupportedFeature instead');\n      listeners.push(cb);\n    },\n    notify(featureId) {\n      for (var i = 0, ii = listeners.length; i < ii; i++) {\n        listeners[i](featureId);\n      }\n    },\n  };\n})();\n\nvar version, build;\nif (typeof PDFJSDev !== 'undefined') {\n  version = PDFJSDev.eval('BUNDLE_VERSION');\n  build = PDFJSDev.eval('BUNDLE_BUILD');\n}\n\nexport {\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  setPDFNetworkStreamClass,\n  _UnsupportedManager,\n  version,\n  build,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/api.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  addLinkAttributes, CustomStyle, getDefaultSetting, getFilenameFromUrl,\n  LinkTarget\n} from './dom_utils';\nimport {\n  AnnotationBorderStyleType, AnnotationType, stringToPDFString, Util, warn\n} from '../shared/util';\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPage} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {DownloadManager} downloadManager\n * @property {string} imageResourcesPath\n * @property {boolean} renderInteractiveForms\n */\n\n/**\n * @class\n * @alias AnnotationElementFactory\n */\nfunction AnnotationElementFactory() {}\nAnnotationElementFactory.prototype =\n    /** @lends AnnotationElementFactory.prototype */ {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  create: function AnnotationElementFactory_create(parameters) {\n    var subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        var fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case 'Tx':\n            return new TextWidgetAnnotationElement(parameters);\n          case 'Btn':\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            warn('Unimplemented button widget annotation: pushbutton');\n            break;\n          case 'Ch':\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  },\n};\n\n/**\n * @class\n * @alias AnnotationElement\n */\nvar AnnotationElement = (function AnnotationElementClosure() {\n  function AnnotationElement(parameters, isRenderable, ignoreBorder) {\n    this.isRenderable = isRenderable || false;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderInteractiveForms = parameters.renderInteractiveForms;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n  }\n\n  AnnotationElement.prototype = /** @lends AnnotationElement.prototype */ {\n    /**\n     * Create an empty container for the annotation's HTML element.\n     *\n     * @private\n     * @param {boolean} ignoreBorder\n     * @memberof AnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    _createContainer:\n        function AnnotationElement_createContainer(ignoreBorder) {\n      var data = this.data, page = this.page, viewport = this.viewport;\n      var container = document.createElement('section');\n      var width = data.rect[2] - data.rect[0];\n      var height = data.rect[3] - data.rect[1];\n\n      container.setAttribute('data-annotation-id', data.id);\n\n      // Do *not* modify `data.rect`, since that will corrupt the annotation\n      // position on subsequent calls to `_createContainer` (see issue 6804).\n      var rect = Util.normalizeRect([\n        data.rect[0],\n        page.view[3] - data.rect[1] + page.view[1],\n        data.rect[2],\n        page.view[3] - data.rect[3] + page.view[1]\n      ]);\n\n      CustomStyle.setProp('transform', container,\n                          'matrix(' + viewport.transform.join(',') + ')');\n      CustomStyle.setProp('transformOrigin', container,\n                          -rect[0] + 'px ' + -rect[1] + 'px');\n\n      if (!ignoreBorder && data.borderStyle.width > 0) {\n        container.style.borderWidth = data.borderStyle.width + 'px';\n        if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n          // Underline styles only have a bottom border, so we do not need\n          // to adjust for all borders. This yields a similar result as\n          // Adobe Acrobat/Reader.\n          width = width - 2 * data.borderStyle.width;\n          height = height - 2 * data.borderStyle.width;\n        }\n\n        var horizontalRadius = data.borderStyle.horizontalCornerRadius;\n        var verticalRadius = data.borderStyle.verticalCornerRadius;\n        if (horizontalRadius > 0 || verticalRadius > 0) {\n          var radius = horizontalRadius + 'px / ' + verticalRadius + 'px';\n          CustomStyle.setProp('borderRadius', container, radius);\n        }\n\n        switch (data.borderStyle.style) {\n          case AnnotationBorderStyleType.SOLID:\n            container.style.borderStyle = 'solid';\n            break;\n\n          case AnnotationBorderStyleType.DASHED:\n            container.style.borderStyle = 'dashed';\n            break;\n\n          case AnnotationBorderStyleType.BEVELED:\n            warn('Unimplemented border style: beveled');\n            break;\n\n          case AnnotationBorderStyleType.INSET:\n            warn('Unimplemented border style: inset');\n            break;\n\n          case AnnotationBorderStyleType.UNDERLINE:\n            container.style.borderBottomStyle = 'solid';\n            break;\n\n          default:\n            break;\n        }\n\n        if (data.color) {\n          container.style.borderColor =\n            Util.makeCssRgb(data.color[0] | 0,\n                            data.color[1] | 0,\n                            data.color[2] | 0);\n        } else {\n          // Transparent (invisible) border, so do not draw it at all.\n          container.style.borderWidth = 0;\n        }\n      }\n\n      container.style.left = rect[0] + 'px';\n      container.style.top = rect[1] + 'px';\n\n      container.style.width = width + 'px';\n      container.style.height = height + 'px';\n\n      return container;\n    },\n\n    /**\n     * Create a popup for the annotation's HTML element. This is used for\n     * annotations that do not have a Popup entry in the dictionary, but\n     * are of a type that works with popups (such as Highlight annotations).\n     *\n     * @private\n     * @param {HTMLSectionElement} container\n     * @param {HTMLDivElement|HTMLImageElement|null} trigger\n     * @param {Object} data\n     * @memberof AnnotationElement\n     */\n    _createPopup:\n        function AnnotationElement_createPopup(container, trigger, data) {\n      // If no trigger element is specified, create it.\n      if (!trigger) {\n        trigger = document.createElement('div');\n        trigger.style.height = container.style.height;\n        trigger.style.width = container.style.width;\n        container.appendChild(trigger);\n      }\n\n      var popupElement = new PopupElement({\n        container,\n        trigger,\n        color: data.color,\n        title: data.title,\n        contents: data.contents,\n        hideWrapper: true,\n      });\n      var popup = popupElement.render();\n\n      // Position the popup next to the annotation's container.\n      popup.style.left = container.style.width;\n\n      container.appendChild(popup);\n    },\n\n    /**\n     * Render the annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof AnnotationElement\n     */\n    render: function AnnotationElement_render() {\n      throw new Error('Abstract method AnnotationElement.render called');\n    },\n  };\n\n  return AnnotationElement;\n})();\n\n/**\n * @class\n * @alias LinkAnnotationElement\n */\nvar LinkAnnotationElement = (function LinkAnnotationElementClosure() {\n  function LinkAnnotationElement(parameters) {\n    AnnotationElement.call(this, parameters, true);\n  }\n\n  Util.inherit(LinkAnnotationElement, AnnotationElement, {\n    /**\n     * Render the link annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof LinkAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function LinkAnnotationElement_render() {\n      this.container.className = 'linkAnnotation';\n\n      var link = document.createElement('a');\n      addLinkAttributes(link, {\n        url: this.data.url,\n        target: (this.data.newWindow ? LinkTarget.BLANK : undefined),\n      });\n\n      if (!this.data.url) {\n        if (this.data.action) {\n          this._bindNamedAction(link, this.data.action);\n        } else {\n          this._bindLink(link, this.data.dest);\n        }\n      }\n\n      this.container.appendChild(link);\n      return this.container;\n    },\n\n    /**\n     * Bind internal links to the link element.\n     *\n     * @private\n     * @param {Object} link\n     * @param {Object} destination\n     * @memberof LinkAnnotationElement\n     */\n    _bindLink(link, destination) {\n      link.href = this.linkService.getDestinationHash(destination);\n      link.onclick = () => {\n        if (destination) {\n          this.linkService.navigateTo(destination);\n        }\n        return false;\n      };\n      if (destination) {\n        link.className = 'internalLink';\n      }\n    },\n\n    /**\n     * Bind named actions to the link element.\n     *\n     * @private\n     * @param {Object} link\n     * @param {Object} action\n     * @memberof LinkAnnotationElement\n     */\n    _bindNamedAction(link, action) {\n      link.href = this.linkService.getAnchorUrl('');\n      link.onclick = () => {\n        this.linkService.executeNamedAction(action);\n        return false;\n      };\n      link.className = 'internalLink';\n    },\n  });\n\n  return LinkAnnotationElement;\n})();\n\n/**\n * @class\n * @alias TextAnnotationElement\n */\nvar TextAnnotationElement = (function TextAnnotationElementClosure() {\n  function TextAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable);\n  }\n\n  Util.inherit(TextAnnotationElement, AnnotationElement, {\n    /**\n     * Render the text annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof TextAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function TextAnnotationElement_render() {\n      this.container.className = 'textAnnotation';\n\n      var image = document.createElement('img');\n      image.style.height = this.container.style.height;\n      image.style.width = this.container.style.width;\n      image.src = this.imageResourcesPath + 'annotation-' +\n        this.data.name.toLowerCase() + '.svg';\n      image.alt = '[{{type}} Annotation]';\n      image.dataset.l10nId = 'text_annotation_type';\n      image.dataset.l10nArgs = JSON.stringify({ type: this.data.name, });\n\n      if (!this.data.hasPopup) {\n        this._createPopup(this.container, image, this.data);\n      }\n\n      this.container.appendChild(image);\n      return this.container;\n    },\n  });\n\n  return TextAnnotationElement;\n})();\n\n/**\n * @class\n * @alias WidgetAnnotationElement\n */\nvar WidgetAnnotationElement = (function WidgetAnnotationElementClosure() {\n  function WidgetAnnotationElement(parameters, isRenderable) {\n    AnnotationElement.call(this, parameters, isRenderable);\n  }\n\n  Util.inherit(WidgetAnnotationElement, AnnotationElement, {\n    /**\n     * Render the widget annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof WidgetAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function WidgetAnnotationElement_render() {\n      // Show only the container for unsupported field types.\n      return this.container;\n    },\n  });\n\n  return WidgetAnnotationElement;\n})();\n\n/**\n * @class\n * @alias TextWidgetAnnotationElement\n */\nvar TextWidgetAnnotationElement = (\n    function TextWidgetAnnotationElementClosure() {\n  var TEXT_ALIGNMENT = ['left', 'center', 'right'];\n\n  function TextWidgetAnnotationElement(parameters) {\n    var isRenderable = parameters.renderInteractiveForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    WidgetAnnotationElement.call(this, parameters, isRenderable);\n  }\n\n  Util.inherit(TextWidgetAnnotationElement, WidgetAnnotationElement, {\n    /**\n     * Render the text widget annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof TextWidgetAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function TextWidgetAnnotationElement_render() {\n      this.container.className = 'textWidgetAnnotation';\n\n      var element = null;\n      if (this.renderInteractiveForms) {\n        // NOTE: We cannot set the values using `element.value` below, since it\n        //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n        //       from parsing the elements correctly for the reference tests.\n        if (this.data.multiLine) {\n          element = document.createElement('textarea');\n          element.textContent = this.data.fieldValue;\n        } else {\n          element = document.createElement('input');\n          element.type = 'text';\n          element.setAttribute('value', this.data.fieldValue);\n        }\n\n        element.disabled = this.data.readOnly;\n\n        if (this.data.maxLen !== null) {\n          element.maxLength = this.data.maxLen;\n        }\n\n        if (this.data.comb) {\n          var fieldWidth = this.data.rect[2] - this.data.rect[0];\n          var combWidth = fieldWidth / this.data.maxLen;\n\n          element.classList.add('comb');\n          element.style.letterSpacing = 'calc(' + combWidth + 'px - 1ch)';\n        }\n      } else {\n        element = document.createElement('div');\n        element.textContent = this.data.fieldValue;\n        element.style.verticalAlign = 'middle';\n        element.style.display = 'table-cell';\n\n        var font = null;\n        if (this.data.fontRefName) {\n          font = this.page.commonObjs.getData(this.data.fontRefName);\n        }\n        this._setTextStyle(element, font);\n      }\n\n      if (this.data.textAlignment !== null) {\n        element.style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n      }\n\n      this.container.appendChild(element);\n      return this.container;\n    },\n\n    /**\n     * Apply text styles to the text in the element.\n     *\n     * @private\n     * @param {HTMLDivElement} element\n     * @param {Object} font\n     * @memberof TextWidgetAnnotationElement\n     */\n    _setTextStyle:\n        function TextWidgetAnnotationElement_setTextStyle(element, font) {\n      // TODO: This duplicates some of the logic in CanvasGraphics.setFont().\n      var style = element.style;\n      style.fontSize = this.data.fontSize + 'px';\n      style.direction = (this.data.fontDirection < 0 ? 'rtl' : 'ltr');\n\n      if (!font) {\n        return;\n      }\n\n      style.fontWeight = (font.black ?\n        (font.bold ? '900' : 'bold') :\n        (font.bold ? 'bold' : 'normal'));\n      style.fontStyle = (font.italic ? 'italic' : 'normal');\n\n      // Use a reasonable default font if the font doesn't specify a fallback.\n      var fontFamily = font.loadedName ? '\"' + font.loadedName + '\", ' : '';\n      var fallbackName = font.fallbackName || 'Helvetica, sans-serif';\n      style.fontFamily = fontFamily + fallbackName;\n    },\n  });\n\n  return TextWidgetAnnotationElement;\n})();\n\n/**\n * @class\n * @alias CheckboxWidgetAnnotationElement\n */\nvar CheckboxWidgetAnnotationElement =\n    (function CheckboxWidgetAnnotationElementClosure() {\n  function CheckboxWidgetAnnotationElement(parameters) {\n    WidgetAnnotationElement.call(this, parameters,\n                                 parameters.renderInteractiveForms);\n  }\n\n  Util.inherit(CheckboxWidgetAnnotationElement, WidgetAnnotationElement, {\n    /**\n     * Render the checkbox widget annotation's HTML element\n     * in the empty container.\n     *\n     * @public\n     * @memberof CheckboxWidgetAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function CheckboxWidgetAnnotationElement_render() {\n      this.container.className = 'buttonWidgetAnnotation checkBox';\n\n      var element = document.createElement('input');\n      element.disabled = this.data.readOnly;\n      element.type = 'checkbox';\n      if (this.data.fieldValue && this.data.fieldValue !== 'Off') {\n        element.setAttribute('checked', true);\n      }\n\n      this.container.appendChild(element);\n      return this.container;\n    },\n  });\n\n  return CheckboxWidgetAnnotationElement;\n})();\n\n/**\n * @class\n * @alias RadioButtonWidgetAnnotationElement\n */\nvar RadioButtonWidgetAnnotationElement =\n    (function RadioButtonWidgetAnnotationElementClosure() {\n  function RadioButtonWidgetAnnotationElement(parameters) {\n    WidgetAnnotationElement.call(this, parameters,\n                                 parameters.renderInteractiveForms);\n  }\n\n  Util.inherit(RadioButtonWidgetAnnotationElement, WidgetAnnotationElement, {\n    /**\n     * Render the radio button widget annotation's HTML element\n     * in the empty container.\n     *\n     * @public\n     * @memberof RadioButtonWidgetAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function RadioButtonWidgetAnnotationElement_render() {\n      this.container.className = 'buttonWidgetAnnotation radioButton';\n\n      var element = document.createElement('input');\n      element.disabled = this.data.readOnly;\n      element.type = 'radio';\n      element.name = this.data.fieldName;\n      if (this.data.fieldValue === this.data.buttonValue) {\n        element.setAttribute('checked', true);\n      }\n\n      this.container.appendChild(element);\n      return this.container;\n    },\n  });\n\n  return RadioButtonWidgetAnnotationElement;\n})();\n\n /**\n * @class\n * @alias ChoiceWidgetAnnotationElement\n */\nvar ChoiceWidgetAnnotationElement = (\n    function ChoiceWidgetAnnotationElementClosure() {\n  function ChoiceWidgetAnnotationElement(parameters) {\n    WidgetAnnotationElement.call(this, parameters,\n                                 parameters.renderInteractiveForms);\n  }\n\n  Util.inherit(ChoiceWidgetAnnotationElement, WidgetAnnotationElement, {\n    /**\n     * Render the choice widget annotation's HTML element in the empty\n     * container.\n     *\n     * @public\n     * @memberof ChoiceWidgetAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function ChoiceWidgetAnnotationElement_render() {\n      this.container.className = 'choiceWidgetAnnotation';\n\n      var selectElement = document.createElement('select');\n      selectElement.disabled = this.data.readOnly;\n\n      if (!this.data.combo) {\n        // List boxes have a size and (optionally) multiple selection.\n        selectElement.size = this.data.options.length;\n\n        if (this.data.multiSelect) {\n          selectElement.multiple = true;\n        }\n      }\n\n      // Insert the options into the choice field.\n      for (var i = 0, ii = this.data.options.length; i < ii; i++) {\n        var option = this.data.options[i];\n\n        var optionElement = document.createElement('option');\n        optionElement.textContent = option.displayValue;\n        optionElement.value = option.exportValue;\n\n        if (this.data.fieldValue.indexOf(option.displayValue) >= 0) {\n          optionElement.setAttribute('selected', true);\n        }\n\n        selectElement.appendChild(optionElement);\n      }\n\n      this.container.appendChild(selectElement);\n      return this.container;\n    },\n  });\n\n  return ChoiceWidgetAnnotationElement;\n})();\n\n/**\n * @class\n * @alias PopupAnnotationElement\n */\nvar PopupAnnotationElement = (function PopupAnnotationElementClosure() {\n  // Do not render popup annotations for parent elements with these types as\n  // they create the popups themselves (because of custom trigger divs).\n  var IGNORE_TYPES = ['Line'];\n\n  function PopupAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable);\n  }\n\n  Util.inherit(PopupAnnotationElement, AnnotationElement, {\n    /**\n     * Render the popup annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof PopupAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function PopupAnnotationElement_render() {\n      this.container.className = 'popupAnnotation';\n\n      if (IGNORE_TYPES.indexOf(this.data.parentType) >= 0) {\n        return this.container;\n      }\n\n      var selector = '[data-annotation-id=\"' + this.data.parentId + '\"]';\n      var parentElement = this.layer.querySelector(selector);\n      if (!parentElement) {\n        return this.container;\n      }\n\n      var popup = new PopupElement({\n        container: this.container,\n        trigger: parentElement,\n        color: this.data.color,\n        title: this.data.title,\n        contents: this.data.contents,\n      });\n\n      // Position the popup next to the parent annotation's container.\n      // PDF viewers ignore a popup annotation's rectangle.\n      var parentLeft = parseFloat(parentElement.style.left);\n      var parentWidth = parseFloat(parentElement.style.width);\n      CustomStyle.setProp('transformOrigin', this.container,\n                          -(parentLeft + parentWidth) + 'px -' +\n                          parentElement.style.top);\n      this.container.style.left = (parentLeft + parentWidth) + 'px';\n\n      this.container.appendChild(popup.render());\n      return this.container;\n    },\n  });\n\n  return PopupAnnotationElement;\n})();\n\n/**\n * @class\n * @alias PopupElement\n */\nvar PopupElement = (function PopupElementClosure() {\n  var BACKGROUND_ENLIGHT = 0.7;\n\n  function PopupElement(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.title = parameters.title;\n    this.contents = parameters.contents;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  PopupElement.prototype = /** @lends PopupElement.prototype */ {\n    /**\n     * Render the popup's HTML element.\n     *\n     * @public\n     * @memberof PopupElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function PopupElement_render() {\n      var wrapper = document.createElement('div');\n      wrapper.className = 'popupWrapper';\n\n      // For Popup annotations we hide the entire section because it contains\n      // only the popup. However, for Text annotations without a separate Popup\n      // annotation, we cannot hide the entire container as the image would\n      // disappear too. In that special case, hiding the wrapper suffices.\n      this.hideElement = (this.hideWrapper ? wrapper : this.container);\n      this.hideElement.setAttribute('hidden', true);\n\n      var popup = document.createElement('div');\n      popup.className = 'popup';\n\n      var color = this.color;\n      if (color) {\n        // Enlighten the color.\n        var r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n        var g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n        var b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n        popup.style.backgroundColor = Util.makeCssRgb(r | 0, g | 0, b | 0);\n      }\n\n      var contents = this._formatContents(this.contents);\n      var title = document.createElement('h1');\n      title.textContent = this.title;\n\n      // Attach the event listeners to the trigger element.\n      this.trigger.addEventListener('click', this._toggle.bind(this));\n      this.trigger.addEventListener('mouseover', this._show.bind(this, false));\n      this.trigger.addEventListener('mouseout', this._hide.bind(this, false));\n      popup.addEventListener('click', this._hide.bind(this, true));\n\n      popup.appendChild(title);\n      popup.appendChild(contents);\n      wrapper.appendChild(popup);\n      return wrapper;\n    },\n\n    /**\n     * Format the contents of the popup by adding newlines where necessary.\n     *\n     * @private\n     * @param {string} contents\n     * @memberof PopupElement\n     * @returns {HTMLParagraphElement}\n     */\n    _formatContents: function PopupElement_formatContents(contents) {\n      var p = document.createElement('p');\n      var lines = contents.split(/(?:\\r\\n?|\\n)/);\n      for (var i = 0, ii = lines.length; i < ii; ++i) {\n        var line = lines[i];\n        p.appendChild(document.createTextNode(line));\n        if (i < (ii - 1)) {\n          p.appendChild(document.createElement('br'));\n        }\n      }\n      return p;\n    },\n\n    /**\n     * Toggle the visibility of the popup.\n     *\n     * @private\n     * @memberof PopupElement\n     */\n    _toggle: function PopupElement_toggle() {\n      if (this.pinned) {\n        this._hide(true);\n      } else {\n        this._show(true);\n      }\n    },\n\n    /**\n     * Show the popup.\n     *\n     * @private\n     * @param {boolean} pin\n     * @memberof PopupElement\n     */\n    _show: function PopupElement_show(pin) {\n      if (pin) {\n        this.pinned = true;\n      }\n      if (this.hideElement.hasAttribute('hidden')) {\n        this.hideElement.removeAttribute('hidden');\n        this.container.style.zIndex += 1;\n      }\n    },\n\n    /**\n     * Hide the popup.\n     *\n     * @private\n     * @param {boolean} unpin\n     * @memberof PopupElement\n     */\n    _hide: function PopupElement_hide(unpin) {\n      if (unpin) {\n        this.pinned = false;\n      }\n      if (!this.hideElement.hasAttribute('hidden') && !this.pinned) {\n        this.hideElement.setAttribute('hidden', true);\n        this.container.style.zIndex -= 1;\n      }\n    },\n  };\n\n  return PopupElement;\n})();\n\n/**\n * @class\n * @alias LineAnnotationElement\n */\nvar LineAnnotationElement = (function LineAnnotationElementClosure() {\n  var SVG_NS = 'http://www.w3.org/2000/svg';\n\n  function LineAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable,\n                           /* ignoreBorder = */ true);\n  }\n\n  Util.inherit(LineAnnotationElement, AnnotationElement, {\n    /**\n     * Render the line annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof LineAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function LineAnnotationElement_render() {\n      this.container.className = 'lineAnnotation';\n\n      // Create an invisible line with the same starting and ending coordinates\n      // that acts as the trigger for the popup. Only the line itself should\n      // trigger the popup, not the entire container.\n      var data = this.data;\n      var width = data.rect[2] - data.rect[0];\n      var height = data.rect[3] - data.rect[1];\n\n      var svg = document.createElementNS(SVG_NS, 'svg:svg');\n      svg.setAttributeNS(null, 'version', '1.1');\n      svg.setAttributeNS(null, 'width', width + 'px');\n      svg.setAttributeNS(null, 'height', height + 'px');\n      svg.setAttributeNS(null, 'preserveAspectRatio', 'none');\n      svg.setAttributeNS(null, 'viewBox', '0 0 ' + width + ' ' + height);\n\n      // PDF coordinates are calculated from a bottom left origin, so transform\n      // the line coordinates to a top left origin for the SVG element.\n      var line = document.createElementNS(SVG_NS, 'svg:line');\n      line.setAttributeNS(null, 'x1', data.rect[2] - data.lineCoordinates[0]);\n      line.setAttributeNS(null, 'y1', data.rect[3] - data.lineCoordinates[1]);\n      line.setAttributeNS(null, 'x2', data.rect[2] - data.lineCoordinates[2]);\n      line.setAttributeNS(null, 'y2', data.rect[3] - data.lineCoordinates[3]);\n      line.setAttributeNS(null, 'stroke-width', data.borderStyle.width);\n      line.setAttributeNS(null, 'stroke', 'transparent');\n\n      svg.appendChild(line);\n      this.container.append(svg);\n\n      // Create the popup ourselves so that we can bind it to the line instead\n      // of to the entire container (which is the default).\n      this._createPopup(this.container, line, this.data);\n\n      return this.container;\n    },\n  });\n\n  return LineAnnotationElement;\n})();\n\n/**\n * @class\n * @alias HighlightAnnotationElement\n */\nvar HighlightAnnotationElement = (\n    function HighlightAnnotationElementClosure() {\n  function HighlightAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable,\n                           /* ignoreBorder = */ true);\n  }\n\n  Util.inherit(HighlightAnnotationElement, AnnotationElement, {\n    /**\n     * Render the highlight annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof HighlightAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function HighlightAnnotationElement_render() {\n      this.container.className = 'highlightAnnotation';\n\n      if (!this.data.hasPopup) {\n        this._createPopup(this.container, null, this.data);\n      }\n      return this.container;\n    },\n  });\n\n  return HighlightAnnotationElement;\n})();\n\n/**\n * @class\n * @alias UnderlineAnnotationElement\n */\nvar UnderlineAnnotationElement = (\n    function UnderlineAnnotationElementClosure() {\n  function UnderlineAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable,\n                           /* ignoreBorder = */ true);\n  }\n\n  Util.inherit(UnderlineAnnotationElement, AnnotationElement, {\n    /**\n     * Render the underline annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof UnderlineAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function UnderlineAnnotationElement_render() {\n      this.container.className = 'underlineAnnotation';\n\n      if (!this.data.hasPopup) {\n        this._createPopup(this.container, null, this.data);\n      }\n      return this.container;\n    },\n  });\n\n  return UnderlineAnnotationElement;\n})();\n\n/**\n * @class\n * @alias SquigglyAnnotationElement\n */\nvar SquigglyAnnotationElement = (function SquigglyAnnotationElementClosure() {\n  function SquigglyAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable,\n                           /* ignoreBorder = */ true);\n  }\n\n  Util.inherit(SquigglyAnnotationElement, AnnotationElement, {\n    /**\n     * Render the squiggly annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof SquigglyAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function SquigglyAnnotationElement_render() {\n      this.container.className = 'squigglyAnnotation';\n\n      if (!this.data.hasPopup) {\n        this._createPopup(this.container, null, this.data);\n      }\n      return this.container;\n    },\n  });\n\n  return SquigglyAnnotationElement;\n})();\n\n/**\n * @class\n * @alias StrikeOutAnnotationElement\n */\nvar StrikeOutAnnotationElement = (\n    function StrikeOutAnnotationElementClosure() {\n  function StrikeOutAnnotationElement(parameters) {\n    var isRenderable = !!(parameters.data.hasPopup ||\n                          parameters.data.title || parameters.data.contents);\n    AnnotationElement.call(this, parameters, isRenderable,\n                           /* ignoreBorder = */ true);\n  }\n\n  Util.inherit(StrikeOutAnnotationElement, AnnotationElement, {\n    /**\n     * Render the strikeout annotation's HTML element in the empty container.\n     *\n     * @public\n     * @memberof StrikeOutAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function StrikeOutAnnotationElement_render() {\n      this.container.className = 'strikeoutAnnotation';\n\n      if (!this.data.hasPopup) {\n        this._createPopup(this.container, null, this.data);\n      }\n      return this.container;\n    },\n  });\n\n  return StrikeOutAnnotationElement;\n})();\n\n/**\n * @class\n * @alias FileAttachmentAnnotationElement\n */\nvar FileAttachmentAnnotationElement = (\n    function FileAttachmentAnnotationElementClosure() {\n  function FileAttachmentAnnotationElement(parameters) {\n    AnnotationElement.call(this, parameters, true);\n\n    var file = this.data.file;\n    this.filename = getFilenameFromUrl(file.filename);\n    this.content = file.content;\n\n    this.linkService.onFileAttachmentAnnotation({\n      id: stringToPDFString(file.filename),\n      filename: file.filename,\n      content: file.content,\n    });\n  }\n\n  Util.inherit(FileAttachmentAnnotationElement, AnnotationElement, {\n    /**\n     * Render the file attachment annotation's HTML element in the empty\n     * container.\n     *\n     * @public\n     * @memberof FileAttachmentAnnotationElement\n     * @returns {HTMLSectionElement}\n     */\n    render: function FileAttachmentAnnotationElement_render() {\n      this.container.className = 'fileAttachmentAnnotation';\n\n      var trigger = document.createElement('div');\n      trigger.style.height = this.container.style.height;\n      trigger.style.width = this.container.style.width;\n      trigger.addEventListener('dblclick', this._download.bind(this));\n\n      if (!this.data.hasPopup && (this.data.title || this.data.contents)) {\n        this._createPopup(this.container, trigger, this.data);\n      }\n\n      this.container.appendChild(trigger);\n      return this.container;\n    },\n\n    /**\n     * Download the file attachment associated with this annotation.\n     *\n     * @private\n     * @memberof FileAttachmentAnnotationElement\n     */\n    _download: function FileAttachmentAnnotationElement_download() {\n      if (!this.downloadManager) {\n        warn('Download cannot be started due to unavailable download manager');\n        return;\n      }\n      this.downloadManager.downloadData(this.content, this.filename, '');\n    },\n  });\n\n  return FileAttachmentAnnotationElement;\n})();\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPage} page\n * @property {IPDFLinkService} linkService\n * @property {string} imageResourcesPath\n * @property {boolean} renderInteractiveForms\n */\n\n/**\n * @class\n * @alias AnnotationLayer\n */\nvar AnnotationLayer = (function AnnotationLayerClosure() {\n  return {\n    /**\n     * Render a new annotation layer with all annotation elements.\n     *\n     * @public\n     * @param {AnnotationLayerParameters} parameters\n     * @memberof AnnotationLayer\n     */\n    render: function AnnotationLayer_render(parameters) {\n      var annotationElementFactory = new AnnotationElementFactory();\n\n      for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n        var data = parameters.annotations[i];\n        if (!data) {\n          continue;\n        }\n        var element = annotationElementFactory.create({\n          data,\n          layer: parameters.div,\n          page: parameters.page,\n          viewport: parameters.viewport,\n          linkService: parameters.linkService,\n          downloadManager: parameters.downloadManager,\n          imageResourcesPath: parameters.imageResourcesPath ||\n                              getDefaultSetting('imageResourcesPath'),\n          renderInteractiveForms: parameters.renderInteractiveForms || false,\n        });\n        if (element.isRenderable) {\n          parameters.div.appendChild(element.render());\n        }\n      }\n    },\n\n    /**\n     * Update the annotation elements on existing annotation layer.\n     *\n     * @public\n     * @param {AnnotationLayerParameters} parameters\n     * @memberof AnnotationLayer\n     */\n    update: function AnnotationLayer_update(parameters) {\n      for (var i = 0, ii = parameters.annotations.length; i < ii; i++) {\n        var data = parameters.annotations[i];\n        var element = parameters.div.querySelector(\n          '[data-annotation-id=\"' + data.id + '\"]');\n        if (element) {\n          CustomStyle.setProp('transform', element,\n            'matrix(' + parameters.viewport.transform.join(',') + ')');\n        }\n      }\n      parameters.div.removeAttribute('hidden');\n    },\n  };\n})();\n\nexport {\n  AnnotationLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/annotation_layer.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  createObjectURL, FONT_IDENTITY_MATRIX, IDENTITY_MATRIX, ImageKind, isArray,\n  isNodeJS, isNum, OPS, Util, warn\n} from '../shared/util';\n\nvar SVGGraphics = function() {\n  throw new Error('Not implemented: SVGGraphics');\n};\n\nif (typeof PDFJSDev === 'undefined' ||\n    PDFJSDev.test('GENERIC || SINGLE_FILE')) {\n\nvar SVG_DEFAULTS = {\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  fillColor: '#000000',\n};\n\nvar convertImgDataToPng = (function convertImgDataToPngClosure() {\n  var PNG_HEADER =\n    new Uint8Array([0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]);\n\n  var CHUNK_WRAPPER_SIZE = 12;\n\n  var crcTable = new Int32Array(256);\n  for (var i = 0; i < 256; i++) {\n    var c = i;\n    for (var h = 0; h < 8; h++) {\n      if (c & 1) {\n        c = 0xedB88320 ^ ((c >> 1) & 0x7fffffff);\n      } else {\n        c = (c >> 1) & 0x7fffffff;\n      }\n    }\n    crcTable[i] = c;\n  }\n\n  function crc32(data, start, end) {\n    var crc = -1;\n    for (var i = start; i < end; i++) {\n      var a = (crc ^ data[i]) & 0xff;\n      var b = crcTable[a];\n      crc = (crc >>> 8) ^ b;\n    }\n    return crc ^ -1;\n  }\n\n  function writePngChunk(type, body, data, offset) {\n    var p = offset;\n    var len = body.length;\n\n    data[p] = len >> 24 & 0xff;\n    data[p + 1] = len >> 16 & 0xff;\n    data[p + 2] = len >> 8 & 0xff;\n    data[p + 3] = len & 0xff;\n    p += 4;\n\n    data[p] = type.charCodeAt(0) & 0xff;\n    data[p + 1] = type.charCodeAt(1) & 0xff;\n    data[p + 2] = type.charCodeAt(2) & 0xff;\n    data[p + 3] = type.charCodeAt(3) & 0xff;\n    p += 4;\n\n    data.set(body, p);\n    p += body.length;\n\n    var crc = crc32(data, offset + 4, p);\n\n    data[p] = crc >> 24 & 0xff;\n    data[p + 1] = crc >> 16 & 0xff;\n    data[p + 2] = crc >> 8 & 0xff;\n    data[p + 3] = crc & 0xff;\n  }\n\n  function adler32(data, start, end) {\n    var a = 1;\n    var b = 0;\n    for (var i = start; i < end; ++i) {\n      a = (a + (data[i] & 0xff)) % 65521;\n      b = (b + a) % 65521;\n    }\n    return (b << 16) | a;\n  }\n\n  /**\n   * @param {Uint8Array} literals The input data.\n   * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n   *   This is the required format for compressed streams in the PNG format:\n   *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n   */\n  function deflateSync(literals) {\n    if (!isNodeJS()) {\n      // zlib is certainly not available outside of Node.js. We can either use\n      // the pako library for client-side DEFLATE compression, or use the canvas\n      // API of the browser to obtain a more optimal PNG file.\n      return deflateSyncUncompressed(literals);\n    }\n    try {\n      // NOTE: This implementation is far from perfect, but already way better\n      // than not applying any compression.\n      //\n      // A better algorithm will try to choose a good predictor/filter and\n      // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n      //\n      // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n      // Node v3.0.0   Buffer inherits from Uint8Array.\n      // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n      var input;\n        // eslint-disable-next-line no-undef\n      if (parseInt(process.versions.node) >= 8) {\n        input = literals;\n      } else {\n        // eslint-disable-next-line no-undef\n        input = new Buffer(literals);\n      }\n      var output = __non_webpack_require__('zlib')\n        .deflateSync(input, { level: 9, });\n      return output instanceof Uint8Array ? output : new Uint8Array(output);\n    } catch (e) {\n      warn('Not compressing PNG because zlib.deflateSync is unavailable: ' + e);\n    }\n\n    return deflateSyncUncompressed(literals);\n  }\n\n  // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n  function deflateSyncUncompressed(literals) {\n    var len = literals.length;\n    var maxBlockLength = 0xFFFF;\n\n    var deflateBlocks = Math.ceil(len / maxBlockLength);\n    var idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n    var pi = 0;\n    idat[pi++] = 0x78; // compression method and flags\n    idat[pi++] = 0x9c; // flags\n\n    var pos = 0;\n    while (len > maxBlockLength) {\n      // writing non-final DEFLATE blocks type 0 and length of 65535\n      idat[pi++] = 0x00;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0xff;\n      idat[pi++] = 0x00;\n      idat[pi++] = 0x00;\n      idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n      pi += maxBlockLength;\n      pos += maxBlockLength;\n      len -= maxBlockLength;\n    }\n\n    // writing non-final DEFLATE blocks type 0\n    idat[pi++] = 0x01;\n    idat[pi++] = len & 0xff;\n    idat[pi++] = len >> 8 & 0xff;\n    idat[pi++] = (~len & 0xffff) & 0xff;\n    idat[pi++] = (~len & 0xffff) >> 8 & 0xff;\n    idat.set(literals.subarray(pos), pi);\n    pi += literals.length - pos;\n\n    var adler = adler32(literals, 0, literals.length); // checksum\n    idat[pi++] = adler >> 24 & 0xff;\n    idat[pi++] = adler >> 16 & 0xff;\n    idat[pi++] = adler >> 8 & 0xff;\n    idat[pi++] = adler & 0xff;\n    return idat;\n  }\n\n  function encode(imgData, kind, forceDataSchema) {\n    var width = imgData.width;\n    var height = imgData.height;\n    var bitDepth, colorType, lineSize;\n    var bytes = imgData.data;\n\n    switch (kind) {\n      case ImageKind.GRAYSCALE_1BPP:\n        colorType = 0;\n        bitDepth = 1;\n        lineSize = (width + 7) >> 3;\n        break;\n      case ImageKind.RGB_24BPP:\n        colorType = 2;\n        bitDepth = 8;\n        lineSize = width * 3;\n        break;\n      case ImageKind.RGBA_32BPP:\n        colorType = 6;\n        bitDepth = 8;\n        lineSize = width * 4;\n        break;\n      default:\n        throw new Error('invalid format');\n    }\n\n    // prefix every row with predictor 0\n    var literals = new Uint8Array((1 + lineSize) * height);\n    var offsetLiterals = 0, offsetBytes = 0;\n    var y, i;\n    for (y = 0; y < height; ++y) {\n      literals[offsetLiterals++] = 0; // no prediction\n      literals.set(bytes.subarray(offsetBytes, offsetBytes + lineSize),\n                   offsetLiterals);\n      offsetBytes += lineSize;\n      offsetLiterals += lineSize;\n    }\n\n    if (kind === ImageKind.GRAYSCALE_1BPP) {\n      // inverting for B/W\n      offsetLiterals = 0;\n      for (y = 0; y < height; y++) {\n        offsetLiterals++; // skipping predictor\n        for (i = 0; i < lineSize; i++) {\n          literals[offsetLiterals++] ^= 0xFF;\n        }\n      }\n    }\n\n    var ihdr = new Uint8Array([\n      width >> 24 & 0xff,\n      width >> 16 & 0xff,\n      width >> 8 & 0xff,\n      width & 0xff,\n      height >> 24 & 0xff,\n      height >> 16 & 0xff,\n      height >> 8 & 0xff,\n      height & 0xff,\n      bitDepth, // bit depth\n      colorType, // color type\n      0x00, // compression method\n      0x00, // filter method\n      0x00 // interlace method\n    ]);\n\n    var idat = deflateSync(literals);\n\n    // PNG will consists: header, IHDR+data, IDAT+data, and IEND.\n    var pngLength = PNG_HEADER.length + (CHUNK_WRAPPER_SIZE * 3) +\n                    ihdr.length + idat.length;\n    var data = new Uint8Array(pngLength);\n    var offset = 0;\n    data.set(PNG_HEADER, offset);\n    offset += PNG_HEADER.length;\n    writePngChunk('IHDR', ihdr, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n    writePngChunk('IDATA', idat, data, offset);\n    offset += CHUNK_WRAPPER_SIZE + idat.length;\n    writePngChunk('IEND', new Uint8Array(0), data, offset);\n\n    return createObjectURL(data, 'image/png', forceDataSchema);\n  }\n\n  return function convertImgDataToPng(imgData, forceDataSchema) {\n    var kind = (imgData.kind === undefined ?\n                ImageKind.GRAYSCALE_1BPP : imgData.kind);\n    return encode(imgData, kind, forceDataSchema);\n  };\n})();\n\nvar SVGExtraState = (function SVGExtraStateClosure() {\n  function SVGExtraState() {\n    this.fontSizeScale = 1;\n    this.fontWeight = SVG_DEFAULTS.fontWeight;\n    this.fontSize = 0;\n\n    this.textMatrix = IDENTITY_MATRIX;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRise = 0;\n\n    // Default foreground and background colors\n    this.fillColor = SVG_DEFAULTS.fillColor;\n    this.strokeColor = '#000000';\n\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.lineJoin = '';\n    this.lineCap = '';\n    this.miterLimit = 0;\n\n    this.dashArray = [];\n    this.dashPhase = 0;\n\n    this.dependencies = [];\n\n    // Clipping\n    this.activeClipUrl = null;\n    this.clipGroup = null;\n\n    this.maskId = '';\n  }\n\n  SVGExtraState.prototype = {\n    clone: function SVGExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function SVGExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return SVGExtraState;\n})();\n\nSVGGraphics = (function SVGGraphicsClosure() {\n  function opListToTree(opList) {\n    var opTree = [];\n    var tmp = [];\n    var opListLen = opList.length;\n\n    for (var x = 0; x < opListLen; x++) {\n      if (opList[x].fn === 'save') {\n        opTree.push({ 'fnId': 92, 'fn': 'group', 'items': [], });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opList[x].fn === 'restore') {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opList[x]);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Formats float number.\n   * @param value {number} number to format.\n   * @returns {string}\n   */\n  function pf(value) {\n    if (value === (value | 0)) { // integer number\n      return value.toString();\n    }\n    var s = value.toFixed(10);\n    var i = s.length - 1;\n    if (s[i] !== '0') {\n      return s;\n    }\n    // removing trailing zeros\n    do {\n      i--;\n    } while (s[i] === '0');\n    return s.substr(0, s[i] === '.' ? i : i + 1);\n  }\n\n  /**\n   * Formats transform matrix. The standard rotation, scale and translate\n   * matrices are replaced by their shorter forms, and for identity matrix\n   * returns empty string to save the memory.\n   * @param m {Array} matrix to format.\n   * @returns {string}\n   */\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return '';\n        }\n        return 'scale(' + pf(m[0]) + ' ' + pf(m[3]) + ')';\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        var a = Math.acos(m[0]) * 180 / Math.PI;\n        return 'rotate(' + pf(a) + ')';\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return 'translate(' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n      }\n    }\n    return 'matrix(' + pf(m[0]) + ' ' + pf(m[1]) + ' ' + pf(m[2]) + ' ' +\n      pf(m[3]) + ' ' + pf(m[4]) + ' ' + pf(m[5]) + ')';\n  }\n\n  function SVGGraphics(commonObjs, objs, forceDataSchema) {\n    this.current = new SVGExtraState();\n    this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n    this.transformStack = [];\n    this.extraStack = [];\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n\n    this.embedFonts = false;\n    this.embeddedFonts = Object.create(null);\n    this.cssStyle = null;\n    this.forceDataSchema = !!forceDataSchema;\n  }\n\n  var NS = 'http://www.w3.org/2000/svg';\n  var XML_NS = 'http://www.w3.org/XML/1998/namespace';\n  var XLINK_NS = 'http://www.w3.org/1999/xlink';\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var clipCount = 0;\n  var maskCount = 0;\n\n  SVGGraphics.prototype = {\n    save: function SVGGraphics_save() {\n      this.transformStack.push(this.transformMatrix);\n      var old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    },\n\n    restore: function SVGGraphics_restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n\n      this.pendingClip = null;\n      this.tgrp = null;\n    },\n\n    group: function SVGGraphics_group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    },\n\n    loadDependencies: function SVGGraphics_loadDependencies(operatorList) {\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var argsArray = operatorList.argsArray;\n\n      for (var i = 0; i < fnArrayLen; i++) {\n        if (OPS.dependency === fnArray[i]) {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var obj = deps[n];\n            var common = obj.substring(0, 2) === 'g_';\n            var promise;\n            if (common) {\n              promise = new Promise((resolve) => {\n                this.commonObjs.get(obj, resolve);\n              });\n            } else {\n              promise = new Promise((resolve) => {\n                this.objs.get(obj, resolve);\n              });\n            }\n            this.current.dependencies.push(promise);\n          }\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    },\n\n    transform: function SVGGraphics_transform(a, b, c, d, e, f) {\n      var transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(this.transformMatrix,\n                                            transformMatrix);\n      this.tgrp = null;\n    },\n\n    getSVG: function SVGGraphics_getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      var svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        var opTree = this.convertOpList(operatorList);\n        this.executeOpTree(opTree);\n        return svgElement;\n      });\n    },\n\n    convertOpList: function SVGGraphics_convertOpList(operatorList) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var fnArrayLen = fnArray.length;\n      var REVOPS = [];\n      var opList = [];\n\n      for (var op in OPS) {\n        REVOPS[OPS[op]] = op;\n      }\n\n      for (var x = 0; x < fnArrayLen; x++) {\n        var fnId = fnArray[x];\n        opList.push({\n          'fnId': fnId,\n          'fn': REVOPS[fnId],\n          'args': argsArray[x],\n        });\n      }\n      return opListToTree(opList);\n    },\n\n    executeOpTree: function SVGGraphics_executeOpTree(opTree) {\n      var opTreeLen = opTree.length;\n      for (var x = 0; x < opTreeLen; x++) {\n        var fn = opTree[x].fn;\n        var fnId = opTree[x].fnId;\n        var args = opTree[x].args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(args[0], args[1], args[2],\n                               args[3], args[4], args[5]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip('nonzero');\n            break;\n          case OPS.eoClip:\n            this.clip('evenodd');\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintJpegXObject:\n            this.paintJpegXObject(args[0], args[1], args[2]);\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(args[0], args[1], args[2], args[3],\n                           args[4], args[5]);\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTree[x].items);\n            break;\n          default:\n            warn('Unimplemented operator ' + fn);\n            break;\n        }\n      }\n    },\n\n    setWordSpacing: function SVGGraphics_setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    },\n\n    setCharSpacing: function SVGGraphics_setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    },\n\n    nextLine: function SVGGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    setTextMatrix: function SVGGraphics_setTextMatrix(a, b, c, d, e, f) {\n      var current = this.current;\n      this.current.textMatrix = this.current.lineMatrix = [a, b, c, d, e, f];\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n\n      current.txtElement = document.createElementNS(NS, 'svg:text');\n      current.txtElement.appendChild(current.tspan);\n    },\n\n    beginText: function SVGGraphics_beginText() {\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.lineMatrix = IDENTITY_MATRIX;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.txtElement = document.createElementNS(NS, 'svg:text');\n      this.current.txtgrp = document.createElementNS(NS, 'svg:g');\n      this.current.xcoords = [];\n    },\n\n    moveText: function SVGGraphics_moveText(x, y) {\n      var current = this.current;\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n\n      current.xcoords = [];\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n    },\n\n    showText: function SVGGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n\n      if (fontSize === 0) {\n        return;\n      }\n\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (glyph === null) {\n          // word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += -glyph * fontSize * 0.001;\n          continue;\n        }\n        current.xcoords.push(current.x + x * textHScale);\n\n        var width = glyph.width;\n        var character = glyph.fontChar;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        x += charWidth;\n\n        current.tspan.textContent += character;\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, 'x',\n                                   current.xcoords.map(pf).join(' '));\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.tspan.setAttributeNS(null, 'font-family', current.fontFamily);\n      current.tspan.setAttributeNS(null, 'font-size',\n                                   pf(current.fontSize) + 'px');\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, 'font-style', current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, 'font-weight', current.fontWeight);\n      }\n      if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n        current.tspan.setAttributeNS(null, 'fill', current.fillColor);\n      }\n\n      current.txtElement.setAttributeNS(null, 'transform',\n                                        pm(current.textMatrix) +\n                                        ' scale(1, -1)');\n      current.txtElement.setAttributeNS(XML_NS, 'xml:space', 'preserve');\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    },\n\n    setLeadingMoveText: function SVGGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n\n    addFontStyle: function SVGGraphics_addFontStyle(fontObj) {\n      if (!this.cssStyle) {\n        this.cssStyle = document.createElementNS(NS, 'svg:style');\n        this.cssStyle.setAttributeNS(null, 'type', 'text/css');\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      var url = createObjectURL(fontObj.data, fontObj.mimetype,\n                                this.forceDataSchema);\n      this.cssStyle.textContent +=\n        '@font-face { font-family: \"' + fontObj.loadedName + '\";' +\n        ' src: url(' + url + '); }\\n';\n    },\n\n    setFont: function SVGGraphics_setFont(details) {\n      var current = this.current;\n      var fontObj = this.commonObjs.get(details[0]);\n      var size = details[1];\n      this.current.font = fontObj;\n\n      if (this.embedFonts && fontObj.data &&\n          !this.embeddedFonts[fontObj.loadedName]) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      var bold = fontObj.black ? (fontObj.bold ? 'bolder' : 'bold') :\n                                 (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = document.createElementNS(NS, 'svg:tspan');\n      current.tspan.setAttributeNS(null, 'y', pf(-current.y));\n      current.xcoords = [];\n    },\n\n    endText: function SVGGraphics_endText() {},\n\n    // Path properties\n    setLineWidth: function SVGGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n    },\n    setLineCap: function SVGGraphics_setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function SVGGraphics_setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function SVGGraphics_setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    },\n    setStrokeAlpha: function SVGGraphics_setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    },\n    setStrokeRGBColor: function SVGGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.strokeColor = color;\n    },\n    setFillAlpha: function SVGGraphics_setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    },\n    setFillRGBColor: function SVGGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.current.fillColor = color;\n      this.current.tspan = document.createElementNS(NS, 'svg:tspan');\n      this.current.xcoords = [];\n    },\n    setDash: function SVGGraphics_setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    },\n\n    constructPath: function SVGGraphics_constructPath(ops, args) {\n      var current = this.current;\n      var x = current.x, y = current.y;\n      current.path = document.createElementNS(NS, 'svg:path');\n      var d = [];\n      var opLength = ops.length;\n\n      for (var i = 0, j = 0; i < opLength; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            var xw = x + width;\n            var yh = y + height;\n            d.push('M', pf(x), pf(y), 'L', pf(xw), pf(y), 'L', pf(xw), pf(yh),\n                   'L', pf(x), pf(yh), 'Z');\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('M', pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push('L', pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(args[j + 2]),\n                   pf(args[j + 3]), pf(x), pf(y));\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(x), pf(y), pf(args[j]), pf(args[j + 1]),\n                   pf(args[j + 2]), pf(args[j + 3]));\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push('C', pf(args[j]), pf(args[j + 1]), pf(x), pf(y),\n                   pf(x), pf(y));\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push('Z');\n            break;\n        }\n      }\n      current.path.setAttributeNS(null, 'd', d.join(' '));\n      current.path.setAttributeNS(null, 'fill', 'none');\n\n      this._ensureTransformGroup().appendChild(current.path);\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    },\n\n    endPath: function SVGGraphics_endPath() {\n      if (!this.pendingClip) {\n        return;\n      }\n      var current = this.current;\n      // Add current path to clipping path\n      var clipId = 'clippath' + clipCount;\n      clipCount++;\n      var clipPath = document.createElementNS(NS, 'svg:clipPath');\n      clipPath.setAttributeNS(null, 'id', clipId);\n      clipPath.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n      var clipElement = current.element.cloneNode();\n      if (this.pendingClip === 'evenodd') {\n        clipElement.setAttributeNS(null, 'clip-rule', 'evenodd');\n      } else {\n        clipElement.setAttributeNS(null, 'clip-rule', 'nonzero');\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        this.extraStack.forEach(function (prev) {\n          prev.clipGroup = null;\n        });\n      }\n      current.activeClipUrl = 'url(#' + clipId + ')';\n\n      this.tgrp = null;\n    },\n\n    clip: function SVGGraphics_clip(type) {\n      this.pendingClip = type;\n    },\n\n    closePath: function SVGGraphics_closePath() {\n      var current = this.current;\n      var d = current.path.getAttributeNS(null, 'd');\n      d += 'Z';\n      current.path.setAttributeNS(null, 'd', d);\n    },\n\n    setLeading: function SVGGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n\n    setTextRise: function SVGGraphics_setTextRise(textRise) {\n      this.current.textRise = textRise;\n    },\n\n    setHScale: function SVGGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n\n    setGState: function SVGGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'Font':\n            this.setFont(value);\n            break;\n          case 'CA':\n            this.setStrokeAlpha(value);\n            break;\n          case 'ca':\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn('Unimplemented graphic state ' + key);\n            break;\n        }\n      }\n    },\n\n    fill: function SVGGraphics_fill() {\n      var current = this.current;\n      current.element.setAttributeNS(null, 'fill', current.fillColor);\n      current.element.setAttributeNS(null, 'fill-opacity', current.fillAlpha);\n    },\n\n    stroke: function SVGGraphics_stroke() {\n      var current = this.current;\n\n      current.element.setAttributeNS(null, 'stroke', current.strokeColor);\n      current.element.setAttributeNS(null, 'stroke-opacity',\n                                     current.strokeAlpha);\n      current.element.setAttributeNS(null, 'stroke-miterlimit',\n                                     pf(current.miterLimit));\n      current.element.setAttributeNS(null, 'stroke-linecap', current.lineCap);\n      current.element.setAttributeNS(null, 'stroke-linejoin', current.lineJoin);\n      current.element.setAttributeNS(null, 'stroke-width',\n                                     pf(current.lineWidth) + 'px');\n      current.element.setAttributeNS(null, 'stroke-dasharray',\n                                     current.dashArray.map(pf).join(' '));\n      current.element.setAttributeNS(null, 'stroke-dashoffset',\n                                     pf(current.dashPhase) + 'px');\n\n      current.element.setAttributeNS(null, 'fill', 'none');\n    },\n\n    eoFill: function SVGGraphics_eoFill() {\n      this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      this.fill();\n    },\n\n    fillStroke: function SVGGraphics_fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    },\n\n    eoFillStroke: function SVGGraphics_eoFillStroke() {\n      this.current.element.setAttributeNS(null, 'fill-rule', 'evenodd');\n      this.fillStroke();\n    },\n\n    closeStroke: function SVGGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n\n    closeFillStroke: function SVGGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n\n    paintSolidColorImageMask:\n        function SVGGraphics_paintSolidColorImageMask() {\n      var current = this.current;\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', '1px');\n      rect.setAttributeNS(null, 'height', '1px');\n      rect.setAttributeNS(null, 'fill', current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    },\n\n    paintJpegXObject: function SVGGraphics_paintJpegXObject(objId, w, h) {\n      var imgObj = this.objs.get(objId);\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgObj.src);\n      imgEl.setAttributeNS(null, 'width', pf(w));\n      imgEl.setAttributeNS(null, 'height', pf(h));\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-h));\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / w) + ' ' + pf(-1 / h) + ')');\n\n      this._ensureTransformGroup().appendChild(imgEl);\n    },\n\n    paintImageXObject: function SVGGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintInlineImageXObject:\n        function SVGGraphics_paintInlineImageXObject(imgData, mask) {\n      var width = imgData.width;\n      var height = imgData.height;\n\n      var imgSrc = convertImgDataToPng(imgData, this.forceDataSchema);\n      var cliprect = document.createElementNS(NS, 'svg:rect');\n      cliprect.setAttributeNS(null, 'x', '0');\n      cliprect.setAttributeNS(null, 'y', '0');\n      cliprect.setAttributeNS(null, 'width', pf(width));\n      cliprect.setAttributeNS(null, 'height', pf(height));\n      this.current.element = cliprect;\n      this.clip('nonzero');\n      var imgEl = document.createElementNS(NS, 'svg:image');\n      imgEl.setAttributeNS(XLINK_NS, 'xlink:href', imgSrc);\n      imgEl.setAttributeNS(null, 'x', '0');\n      imgEl.setAttributeNS(null, 'y', pf(-height));\n      imgEl.setAttributeNS(null, 'width', pf(width) + 'px');\n      imgEl.setAttributeNS(null, 'height', pf(height) + 'px');\n      imgEl.setAttributeNS(null, 'transform',\n                           'scale(' + pf(1 / width) + ' ' +\n                           pf(-1 / height) + ')');\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    },\n\n    paintImageMaskXObject:\n        function SVGGraphics_paintImageMaskXObject(imgData) {\n      var current = this.current;\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = current.fillColor;\n\n      current.maskId = 'mask' + maskCount++;\n      var mask = document.createElementNS(NS, 'svg:mask');\n      mask.setAttributeNS(null, 'id', current.maskId);\n\n      var rect = document.createElementNS(NS, 'svg:rect');\n      rect.setAttributeNS(null, 'x', '0');\n      rect.setAttributeNS(null, 'y', '0');\n      rect.setAttributeNS(null, 'width', pf(width));\n      rect.setAttributeNS(null, 'height', pf(height));\n      rect.setAttributeNS(null, 'fill', fillColor);\n      rect.setAttributeNS(null, 'mask', 'url(#' + current.maskId + ')');\n      this.defs.appendChild(mask);\n\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    },\n\n    paintFormXObjectBegin:\n        function SVGGraphics_paintFormXObjectBegin(matrix, bbox) {\n      if (isArray(matrix) && matrix.length === 6) {\n        this.transform(matrix[0], matrix[1], matrix[2],\n                       matrix[3], matrix[4], matrix[5]);\n      }\n\n      if (isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n\n        var cliprect = document.createElementNS(NS, 'svg:rect');\n        cliprect.setAttributeNS(null, 'x', bbox[0]);\n        cliprect.setAttributeNS(null, 'y', bbox[1]);\n        cliprect.setAttributeNS(null, 'width', pf(width));\n        cliprect.setAttributeNS(null, 'height', pf(height));\n        this.current.element = cliprect;\n        this.clip('nonzero');\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd:\n        function SVGGraphics_paintFormXObjectEnd() {},\n\n    /**\n     * @private\n     */\n    _initialize: function SVGGraphics_initialize(viewport) {\n      // Create the SVG element.\n      var svg = document.createElementNS(NS, 'svg:svg');\n      svg.setAttributeNS(null, 'version', '1.1');\n      svg.setAttributeNS(null, 'width', viewport.width + 'px');\n      svg.setAttributeNS(null, 'height', viewport.height + 'px');\n      svg.setAttributeNS(null, 'preserveAspectRatio', 'none');\n      svg.setAttributeNS(null, 'viewBox', '0 0 ' + viewport.width +\n                                          ' ' + viewport.height);\n\n      // Create the definitions element.\n      var definitions = document.createElementNS(NS, 'svg:defs');\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      var rootGroup = document.createElementNS(NS, 'svg:g');\n      rootGroup.setAttributeNS(null, 'transform', pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    },\n\n    /**\n     * @private\n     */\n    _ensureClipGroup: function SVGGraphics_ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        var clipGroup = document.createElementNS(NS, 'svg:g');\n        clipGroup.setAttributeNS(null, 'clip-path',\n                                 this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    },\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup: function SVGGraphics_ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = document.createElementNS(NS, 'svg:g');\n        this.tgrp.setAttributeNS(null, 'transform', pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    },\n  };\n  return SVGGraphics;\n})();\n\n}\n\nexport {\n  SVGGraphics,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/svg.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbortException, createPromiseCapability, Util } from '../shared/util';\nimport { CustomStyle, getDefaultSetting } from './dom_utils';\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {TextContent} textContent - (optional) Text content to render\n *   (the object is returned by the page's getTextContent() method).\n * @property {ReadableStream} textContentStream - (optional) Text content\n *   stream to render (the stream is returned by the page's\n *   streamTextContent() method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {PageViewport} viewport - The target viewport to properly\n *   layout the text runs.\n * @property {Array} textDivs - (optional) HTML elements that are correspond\n *   the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array} textContentItemsStr - (optional) Strings that correspond\n *   the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} timeout - (optional) Delay in milliseconds before\n *   rendering of the text  runs occurs.\n * @property {boolean} enhanceTextSelection - (optional) Whether to turn on the\n *   text selection enhancement.\n */\nvar renderTextLayer = (function renderTextLayerClosure() {\n  var MAX_TEXT_DIVS_TO_RENDER = 100000;\n\n  var NonWhitespaceRegexp = /\\S/;\n\n  function isAllWhitespace(str) {\n    return !NonWhitespaceRegexp.test(str);\n  }\n\n  // Text layers may contain many thousand div's, and using `styleBuf` avoids\n  // creating many intermediate strings when building their 'style' properties.\n  var styleBuf = ['left: ', 0, 'px; top: ', 0, 'px; font-size: ', 0,\n                  'px; font-family: ', '', ';'];\n\n  function appendText(task, geom, styles) {\n    // Initialize all used properties to keep the caches monomorphic.\n    var textDiv = document.createElement('div');\n    var textDivProperties = {\n      style: null,\n      angle: 0,\n      canvasWidth: 0,\n      isWhitespace: false,\n      originalTransform: null,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      scale: 1,\n    };\n\n    task._textDivs.push(textDiv);\n    if (isAllWhitespace(geom.str)) {\n      textDivProperties.isWhitespace = true;\n      task._textDivProperties.set(textDiv, textDivProperties);\n      return;\n    }\n\n    var tx = Util.transform(task._viewport.transform, geom.transform);\n    var angle = Math.atan2(tx[1], tx[0]);\n    var style = styles[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n    var fontHeight = Math.sqrt((tx[2] * tx[2]) + (tx[3] * tx[3]));\n    var fontAscent = fontHeight;\n    if (style.ascent) {\n      fontAscent = style.ascent * fontAscent;\n    } else if (style.descent) {\n      fontAscent = (1 + style.descent) * fontAscent;\n    }\n\n    var left;\n    var top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + (fontAscent * Math.sin(angle));\n      top = tx[5] - (fontAscent * Math.cos(angle));\n    }\n    styleBuf[1] = left;\n    styleBuf[3] = top;\n    styleBuf[5] = fontHeight;\n    styleBuf[7] = style.fontFamily;\n    textDivProperties.style = styleBuf.join('');\n    textDiv.setAttribute('style', textDivProperties.style);\n\n    textDiv.textContent = geom.str;\n    // |fontName| is only used by the Font Inspector. This test will succeed\n    // when e.g. the Font Inspector is off but the Stepper is on, but it's\n    // not worth the effort to do a more accurate test. We only use `dataset`\n    // here to make the font name available for the debugger.\n    if (getDefaultSetting('pdfBug')) {\n      textDiv.dataset.fontName = geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    if (geom.str.length > 1) {\n      if (style.vertical) {\n        textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n      } else {\n        textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n      }\n    }\n    task._textDivProperties.set(textDiv, textDivProperties);\n    if (task._textContentStream) {\n      task._layoutText(textDiv);\n    }\n\n    if (task._enhanceTextSelection) {\n      var angleCos = 1, angleSin = 0;\n      if (angle !== 0) {\n        angleCos = Math.cos(angle);\n        angleSin = Math.sin(angle);\n      }\n      var divWidth = (style.vertical ? geom.height : geom.width) *\n                     task._viewport.scale;\n      var divHeight = fontHeight;\n\n      var m, b;\n      if (angle !== 0) {\n        m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n        b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n      } else {\n        b = [left, top, left + divWidth, top + divHeight];\n      }\n\n      task._bounds.push({\n        left: b[0],\n        top: b[1],\n        right: b[2],\n        bottom: b[3],\n        div: textDiv,\n        size: [divWidth, divHeight],\n        m,\n      });\n    }\n  }\n\n  function render(task) {\n    if (task._canceled) {\n      return;\n    }\n    var textDivs = task._textDivs;\n    var capability = task._capability;\n    var textDivsLength = textDivs.length;\n\n    // No point in rendering many divs as it would make the browser\n    // unusable even after the divs are rendered.\n    if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n      task._renderingDone = true;\n      capability.resolve();\n      return;\n    }\n\n    if (!task._textContentStream) {\n      for (var i = 0; i < textDivsLength; i++) {\n        task._layoutText(textDivs[i]);\n      }\n    }\n\n    task._renderingDone = true;\n    capability.resolve();\n  }\n\n  function expand(task) {\n    var bounds = task._bounds;\n    var viewport = task._viewport;\n\n    var expanded = expandBounds(viewport.width, viewport.height, bounds);\n    for (var i = 0; i < expanded.length; i++) {\n      var div = bounds[i].div;\n      var divProperties = task._textDivProperties.get(div);\n      if (divProperties.angle === 0) {\n        divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n        divProperties.paddingTop = bounds[i].top - expanded[i].top;\n        divProperties.paddingRight = expanded[i].right - bounds[i].right;\n        divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n        task._textDivProperties.set(div, divProperties);\n        continue;\n      }\n      // Box is rotated -- trying to find padding so rotated div will not\n      // exceed its expanded bounds.\n      var e = expanded[i], b = bounds[i];\n      var m = b.m, c = m[0], s = m[1];\n      // Finding intersections with expanded box.\n      var points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n      var ts = new Float64Array(64);\n      points.forEach(function (p, i) {\n        var t = Util.applyTransform(p, m);\n        ts[i + 0] = c && (e.left - t[0]) / c;\n        ts[i + 4] = s && (e.top - t[1]) / s;\n        ts[i + 8] = c && (e.right - t[0]) / c;\n        ts[i + 12] = s && (e.bottom - t[1]) / s;\n\n        ts[i + 16] = s && (e.left - t[0]) / -s;\n        ts[i + 20] = c && (e.top - t[1]) / c;\n        ts[i + 24] = s && (e.right - t[0]) / -s;\n        ts[i + 28] = c && (e.bottom - t[1]) / c;\n\n        ts[i + 32] = c && (e.left - t[0]) / -c;\n        ts[i + 36] = s && (e.top - t[1]) / -s;\n        ts[i + 40] = c && (e.right - t[0]) / -c;\n        ts[i + 44] = s && (e.bottom - t[1]) / -s;\n\n        ts[i + 48] = s && (e.left - t[0]) / s;\n        ts[i + 52] = c && (e.top - t[1]) / -c;\n        ts[i + 56] = s && (e.right - t[0]) / s;\n        ts[i + 60] = c && (e.bottom - t[1]) / -c;\n      });\n      var findPositiveMin = function (ts, offset, count) {\n        var result = 0;\n        for (var i = 0; i < count; i++) {\n          var t = ts[offset++];\n          if (t > 0) {\n            result = result ? Math.min(t, result) : t;\n          }\n        }\n        return result;\n      };\n      // Not based on math, but to simplify calculations, using cos and sin\n      // absolute values to not exceed the box (it can but insignificantly).\n      var boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n      divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n      divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n      divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n      divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n      task._textDivProperties.set(div, divProperties);\n    }\n  }\n\n  function expandBounds(width, height, boxes) {\n    var bounds = boxes.map(function (box, i) {\n      return {\n        x1: box.left,\n        y1: box.top,\n        x2: box.right,\n        y2: box.bottom,\n        index: i,\n        x1New: undefined,\n        x2New: undefined,\n      };\n    });\n    expandBoundsLTR(width, bounds);\n    var expanded = new Array(boxes.length);\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i] = {\n        left: b.x1New,\n        top: 0,\n        right: b.x2New,\n        bottom: 0,\n      };\n    });\n\n    // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n    // array and objects.\n    boxes.map(function (box, i) {\n      var e = expanded[i], b = bounds[i];\n      b.x1 = box.top;\n      b.y1 = width - e.right;\n      b.x2 = box.bottom;\n      b.y2 = width - e.left;\n      b.index = i;\n      b.x1New = undefined;\n      b.x2New = undefined;\n    });\n    expandBoundsLTR(height, bounds);\n\n    bounds.forEach(function (b) {\n      var i = b.index;\n      expanded[i].top = b.x1New;\n      expanded[i].bottom = b.x2New;\n    });\n    return expanded;\n  }\n\n  function expandBoundsLTR(width, bounds) {\n    // Sorting by x1 coordinate and walk by the bounds in the same order.\n    bounds.sort(function (a, b) {\n      return a.x1 - b.x1 || a.index - b.index;\n    });\n\n    // First we see on the horizon is a fake boundary.\n    var fakeBoundary = {\n      x1: -Infinity,\n      y1: -Infinity,\n      x2: 0,\n      y2: Infinity,\n      index: -1,\n      x1New: 0,\n      x2New: 0,\n    };\n    var horizon = [{\n      start: -Infinity,\n      end: Infinity,\n      boundary: fakeBoundary,\n    }];\n\n    bounds.forEach(function (boundary) {\n      // Searching for the affected part of horizon.\n      // TODO red-black tree or simple binary search\n      var i = 0;\n      while (i < horizon.length && horizon[i].end <= boundary.y1) {\n        i++;\n      }\n      var j = horizon.length - 1;\n      while (j >= 0 && horizon[j].start >= boundary.y2) {\n        j--;\n      }\n\n      var horizonPart, affectedBoundary;\n      var q, k, maxXNew = -Infinity;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        var xNew;\n        if (affectedBoundary.x2 > boundary.x1) {\n          // In the middle of the previous element, new x shall be at the\n          // boundary start. Extending if further if the affected bondary\n          // placed on top of the current one.\n          xNew = affectedBoundary.index > boundary.index ?\n            affectedBoundary.x1New : boundary.x1;\n        } else if (affectedBoundary.x2New === undefined) {\n          // We have some space in between, new x in middle will be a fair\n          // choice.\n          xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n        } else {\n          // Affected boundary has x2new set, using it as new x.\n          xNew = affectedBoundary.x2New;\n        }\n        if (xNew > maxXNew) {\n          maxXNew = xNew;\n        }\n      }\n\n      // Set new x1 for current boundary.\n      boundary.x1New = maxXNew;\n\n      // Adjusts new x2 for the affected boundaries.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New === undefined) {\n          // Was not set yet, choosing new x if possible.\n          if (affectedBoundary.x2 > boundary.x1) {\n            // Current and affected boundaries intersect. If affected boundary\n            // is placed on top of the current, shrinking the affected.\n            if (affectedBoundary.index > boundary.index) {\n              affectedBoundary.x2New = affectedBoundary.x2;\n            }\n          } else {\n            affectedBoundary.x2New = maxXNew;\n          }\n        } else if (affectedBoundary.x2New > maxXNew) {\n          // Affected boundary is touching new x, pushing it back.\n          affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n        }\n      }\n\n      // Fixing the horizon.\n      var changedHorizon = [], lastBoundary = null;\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        // Checking which boundary will be visible.\n        var useBoundary = affectedBoundary.x2 > boundary.x2 ?\n          affectedBoundary : boundary;\n        if (lastBoundary === useBoundary) {\n          // Merging with previous.\n          changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n        } else {\n          changedHorizon.push({\n            start: horizonPart.start,\n            end: horizonPart.end,\n            boundary: useBoundary,\n          });\n          lastBoundary = useBoundary;\n        }\n      }\n      if (horizon[i].start < boundary.y1) {\n        changedHorizon[0].start = boundary.y1;\n        changedHorizon.unshift({\n          start: horizon[i].start,\n          end: boundary.y1,\n          boundary: horizon[i].boundary,\n        });\n      }\n      if (boundary.y2 < horizon[j].end) {\n        changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n        changedHorizon.push({\n          start: boundary.y2,\n          end: horizon[j].end,\n          boundary: horizon[j].boundary,\n        });\n      }\n\n      // Set x2 new of boundary that is no longer visible (see overlapping case\n      // above).\n      // TODO more efficient, e.g. via reference counting.\n      for (q = i; q <= j; q++) {\n        horizonPart = horizon[q];\n        affectedBoundary = horizonPart.boundary;\n        if (affectedBoundary.x2New !== undefined) {\n          continue;\n        }\n        var used = false;\n        for (k = i - 1; !used && k >= 0 &&\n        horizon[k].start >= affectedBoundary.y1; k--) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = j + 1; !used && k < horizon.length &&\n        horizon[k].end <= affectedBoundary.y2; k++) {\n          used = horizon[k].boundary === affectedBoundary;\n        }\n        for (k = 0; !used && k < changedHorizon.length; k++) {\n          used = changedHorizon[k].boundary === affectedBoundary;\n        }\n        if (!used) {\n          affectedBoundary.x2New = maxXNew;\n        }\n      }\n\n      Array.prototype.splice.apply(horizon,\n        [i, j - i + 1].concat(changedHorizon));\n    });\n\n    // Set new x2 for all unset boundaries.\n    horizon.forEach(function (horizonPart) {\n      var affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n      }\n    });\n  }\n\n  /**\n   * Text layer rendering task.\n   *\n   * @param {TextContent} textContent\n   * @param {HTMLElement} container\n   * @param {PageViewport} viewport\n   * @param {Array} textDivs\n   * @param {boolean} enhanceTextSelection\n   * @private\n   */\n  function TextLayerRenderTask({ textContent, textContentStream, container,\n                                 viewport, textDivs, textContentItemsStr,\n                                 enhanceTextSelection, }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n  }\n  TextLayerRenderTask.prototype = {\n    get promise() {\n      return this._capability.promise;\n    },\n\n    cancel: function TextLayer_cancel() {\n      if (this._reader) {\n        this._reader.cancel(new AbortException('text layer task cancelled'));\n        this._reader = null;\n      }\n      this._canceled = true;\n      if (this._renderTimer !== null) {\n        clearTimeout(this._renderTimer);\n        this._renderTimer = null;\n      }\n      this._capability.reject('canceled');\n    },\n\n    _processItems(items, styleCache) {\n      for (let i = 0, len = items.length; i < len; i++) {\n        this._textContentItemsStr.push(items[i].str);\n        appendText(this, items[i], styleCache);\n      }\n    },\n\n    _layoutText(textDiv) {\n      let textLayerFrag = this._container;\n\n      let textDivProperties = this._textDivProperties.get(textDiv);\n      if (textDivProperties.isWhitespace) {\n        return;\n      }\n\n      let fontSize = textDiv.style.fontSize;\n      let fontFamily = textDiv.style.fontFamily;\n\n      // Only build font string and set to context if different from last.\n      if (fontSize !== this._layoutTextLastFontSize ||\n          fontFamily !== this._layoutTextLastFontFamily) {\n        this._layoutTextCtx.font = fontSize + ' ' + fontFamily;\n        this._lastFontSize = fontSize;\n        this._lastFontFamily = fontFamily;\n      }\n\n      let width = this._layoutTextCtx.measureText(textDiv.textContent).width;\n\n      let transform = '';\n      if (textDivProperties.canvasWidth !== 0 && width > 0) {\n        textDivProperties.scale = textDivProperties.canvasWidth / width;\n        transform = 'scaleX(' + textDivProperties.scale + ')';\n      }\n      if (textDivProperties.angle !== 0) {\n        transform = 'rotate(' + textDivProperties.angle + 'deg) ' + transform;\n      }\n      if (transform !== '') {\n        textDivProperties.originalTransform = transform;\n        CustomStyle.setProp('transform', textDiv, transform);\n      }\n      this._textDivProperties.set(textDiv, textDivProperties);\n      textLayerFrag.appendChild(textDiv);\n    },\n\n    _render: function TextLayer_render(timeout) {\n      let capability = createPromiseCapability();\n      let styleCache = Object.create(null);\n\n      // The temporary canvas is used to measure text length in the DOM.\n      let canvas = document.createElement('canvas');\n      if (typeof PDFJSDev === 'undefined' ||\n          PDFJSDev.test('FIREFOX || MOZCENTRAL || GENERIC')) {\n         canvas.mozOpaque = true;\n      }\n      this._layoutTextCtx = canvas.getContext('2d', { alpha: false, });\n\n      if (this._textContent) {\n        let textItems = this._textContent.items;\n        let textStyles = this._textContent.styles;\n        this._processItems(textItems, textStyles);\n        capability.resolve();\n      } else if (this._textContentStream) {\n        let pump = () => {\n          this._reader.read().then(({ value, done, }) => {\n            if (done) {\n              capability.resolve();\n              return;\n            }\n\n            Util.extendObj(styleCache, value.styles);\n            this._processItems(value.items, styleCache);\n            pump();\n\n          }, capability.reject);\n        };\n\n        this._reader = this._textContentStream.getReader();\n        pump();\n      } else {\n        throw new Error('Neither \"textContent\" nor \"textContentStream\"' +\n          ' parameters specified.');\n      }\n\n      capability.promise.then(() => {\n        styleCache = null;\n        if (!timeout) { // Render right away\n          render(this);\n        } else { // Schedule\n          this._renderTimer = setTimeout(() => {\n            render(this);\n            this._renderTimer = null;\n          }, timeout);\n        }\n      }, this._capability.reject);\n    },\n\n    expandTextDivs: function TextLayer_expandTextDivs(expandDivs) {\n      if (!this._enhanceTextSelection || !this._renderingDone) {\n        return;\n      }\n      if (this._bounds !== null) {\n        expand(this);\n        this._bounds = null;\n      }\n\n      for (var i = 0, ii = this._textDivs.length; i < ii; i++) {\n        var div = this._textDivs[i];\n        var divProperties = this._textDivProperties.get(div);\n\n        if (divProperties.isWhitespace) {\n          continue;\n        }\n        if (expandDivs) {\n          var transform = '', padding = '';\n\n          if (divProperties.scale !== 1) {\n            transform = 'scaleX(' + divProperties.scale + ')';\n          }\n          if (divProperties.angle !== 0) {\n            transform = 'rotate(' + divProperties.angle + 'deg) ' + transform;\n          }\n          if (divProperties.paddingLeft !== 0) {\n            padding += ' padding-left: ' +\n              (divProperties.paddingLeft / divProperties.scale) + 'px;';\n            transform += ' translateX(' +\n              (-divProperties.paddingLeft / divProperties.scale) + 'px)';\n          }\n          if (divProperties.paddingTop !== 0) {\n            padding += ' padding-top: ' + divProperties.paddingTop + 'px;';\n            transform += ' translateY(' + (-divProperties.paddingTop) + 'px)';\n          }\n          if (divProperties.paddingRight !== 0) {\n            padding += ' padding-right: ' +\n              (divProperties.paddingRight / divProperties.scale) + 'px;';\n          }\n          if (divProperties.paddingBottom !== 0) {\n            padding += ' padding-bottom: ' +\n              divProperties.paddingBottom + 'px;';\n          }\n\n          if (padding !== '') {\n            div.setAttribute('style', divProperties.style + padding);\n          }\n          if (transform !== '') {\n            CustomStyle.setProp('transform', div, transform);\n          }\n        } else {\n          div.style.padding = 0;\n          CustomStyle.setProp('transform', div,\n                              divProperties.originalTransform || '');\n        }\n      }\n    },\n  };\n\n  /**\n   * Starts rendering of the text layer.\n   *\n   * @param {TextLayerRenderParameters} renderParameters\n   * @returns {TextLayerRenderTask}\n   */\n  function renderTextLayer(renderParameters) {\n    var task = new TextLayerRenderTask({\n      textContent: renderParameters.textContent,\n      textContentStream: renderParameters.textContentStream,\n      container: renderParameters.container,\n      viewport: renderParameters.viewport,\n      textDivs: renderParameters.textDivs,\n      textContentItemsStr: renderParameters.textContentItemsStr,\n      enhanceTextSelection: renderParameters.enhanceTextSelection,\n    });\n    task._render(renderParameters.timeout);\n    return task;\n  }\n\n  return renderTextLayer;\n})();\n\nexport {\n  renderTextLayer,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/text_layer.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction fixMetadata(meta) {\n  return meta.replace(/>\\\\376\\\\377([^<]+)/g, function(all, codes) {\n    var bytes = codes.replace(/\\\\([0-3])([0-7])([0-7])/g,\n                              function(code, d1, d2, d3) {\n      return String.fromCharCode(d1 * 64 + d2 * 8 + d3 * 1);\n    });\n    var chars = '';\n    for (var i = 0; i < bytes.length; i += 2) {\n      var code = bytes.charCodeAt(i) * 256 + bytes.charCodeAt(i + 1);\n      chars += (code >= 32 && code < 127 && code !== 60 && code !== 62 &&\n        code !== 38) ? String.fromCharCode(code) :\n        '&#x' + (0x10000 + code).toString(16).substring(1) + ';';\n    }\n    return '>' + chars;\n  });\n}\n\nfunction Metadata(meta) {\n  if (typeof meta === 'string') {\n    // Ghostscript produces invalid metadata\n    meta = fixMetadata(meta);\n\n    var parser = new DOMParser();\n    meta = parser.parseFromString(meta, 'application/xml');\n  } else if (!(meta instanceof Document)) {\n    throw new Error('Metadata: Invalid metadata object');\n  }\n\n  this.metaDocument = meta;\n  this.metadata = Object.create(null);\n  this.parse();\n}\n\nMetadata.prototype = {\n  parse: function Metadata_parse() {\n    var doc = this.metaDocument;\n    var rdf = doc.documentElement;\n\n    if (rdf.nodeName.toLowerCase() !== 'rdf:rdf') { // Wrapped in <xmpmeta>\n      rdf = rdf.firstChild;\n      while (rdf && rdf.nodeName.toLowerCase() !== 'rdf:rdf') {\n        rdf = rdf.nextSibling;\n      }\n    }\n\n    var nodeName = (rdf) ? rdf.nodeName.toLowerCase() : null;\n    if (!rdf || nodeName !== 'rdf:rdf' || !rdf.hasChildNodes()) {\n      return;\n    }\n\n    var children = rdf.childNodes, desc, entry, name, i, ii, length, iLength;\n    for (i = 0, length = children.length; i < length; i++) {\n      desc = children[i];\n      if (desc.nodeName.toLowerCase() !== 'rdf:description') {\n        continue;\n      }\n\n      for (ii = 0, iLength = desc.childNodes.length; ii < iLength; ii++) {\n        if (desc.childNodes[ii].nodeName.toLowerCase() !== '#text') {\n          entry = desc.childNodes[ii];\n          name = entry.nodeName.toLowerCase();\n          this.metadata[name] = entry.textContent.trim();\n        }\n      }\n    }\n  },\n\n  get: function Metadata_get(name) {\n    return this.metadata[name] || null;\n  },\n\n  has: function Metadata_has(name) {\n    return typeof this.metadata[name] !== 'undefined';\n  },\n};\n\nexport {\n  Metadata,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/metadata.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-multi-str */\n\nimport { getDefaultSetting } from './dom_utils';\nimport { shadow } from '../shared/util';\n\nvar WebGLUtils = (function WebGLUtilsClosure() {\n  function loadShader(gl, code, shaderType) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n    var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n      var errorMsg = gl.getShaderInfoLog(shader);\n      throw new Error('Error during shader compilation: ' + errorMsg);\n    }\n    return shader;\n  }\n  function createVertexShader(gl, code) {\n    return loadShader(gl, code, gl.VERTEX_SHADER);\n  }\n  function createFragmentShader(gl, code) {\n    return loadShader(gl, code, gl.FRAGMENT_SHADER);\n  }\n  function createProgram(gl, shaders) {\n    var program = gl.createProgram();\n    for (var i = 0, ii = shaders.length; i < ii; ++i) {\n      gl.attachShader(program, shaders[i]);\n    }\n    gl.linkProgram(program);\n    var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!linked) {\n      var errorMsg = gl.getProgramInfoLog(program);\n      throw new Error('Error during program linking: ' + errorMsg);\n    }\n    return program;\n  }\n  function createTexture(gl, image, textureId) {\n    gl.activeTexture(textureId);\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n\n    // Set the parameters so we can render any size image.\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n    // Upload the image into the texture.\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  var currentGL, currentCanvas;\n  function generateGL() {\n    if (currentGL) {\n      return;\n    }\n\n    // The temporary canvas is used in the WebGL context.\n    currentCanvas = document.createElement('canvas');\n    currentGL = currentCanvas.getContext('webgl',\n      { premultipliedalpha: false, });\n  }\n\n  var smaskVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec2 a_texCoord;                                    \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;   \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_texCoord = a_texCoord;                                    \\\n  }                                                             ';\n\n  var smaskFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  uniform vec4 u_backdrop;                                      \\\n  uniform int u_subtype;                                        \\\n  uniform sampler2D u_image;                                    \\\n  uniform sampler2D u_mask;                                     \\\n                                                                \\\n  varying vec2 v_texCoord;                                      \\\n                                                                \\\n  void main() {                                                 \\\n    vec4 imageColor = texture2D(u_image, v_texCoord);           \\\n    vec4 maskColor = texture2D(u_mask, v_texCoord);             \\\n    if (u_backdrop.a > 0.0) {                                   \\\n      maskColor.rgb = maskColor.rgb * maskColor.a +             \\\n                      u_backdrop.rgb * (1.0 - maskColor.a);     \\\n    }                                                           \\\n    float lum;                                                  \\\n    if (u_subtype == 0) {                                       \\\n      lum = maskColor.a;                                        \\\n    } else {                                                    \\\n      lum = maskColor.r * 0.3 + maskColor.g * 0.59 +            \\\n            maskColor.b * 0.11;                                 \\\n    }                                                           \\\n    imageColor.a *= lum;                                        \\\n    imageColor.rgb *= imageColor.a;                             \\\n    gl_FragColor = imageColor;                                  \\\n  }                                                             ';\n\n  var smaskCache = null;\n\n  function initSmaskGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, smaskVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, smaskFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.backdropLocation = gl.getUniformLocation(program, 'u_backdrop');\n    cache.subtypeLocation = gl.getUniformLocation(program, 'u_subtype');\n\n    var texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n    var texLayerLocation = gl.getUniformLocation(program, 'u_image');\n    var texMaskLocation = gl.getUniformLocation(program, 'u_mask');\n\n    // provide texture coordinates for the rectangle.\n    var texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0.0, 0.0,\n      1.0, 0.0,\n      0.0, 1.0,\n      0.0, 1.0,\n      1.0, 0.0,\n      1.0, 1.0]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    gl.uniform1i(texLayerLocation, 0);\n    gl.uniform1i(texMaskLocation, 1);\n\n    smaskCache = cache;\n  }\n\n  function composeSMask(layer, mask, properties) {\n    var width = layer.width, height = layer.height;\n\n    if (!smaskCache) {\n      initSmaskGL();\n    }\n    var cache = smaskCache, canvas = cache.canvas, gl = cache.gl;\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    if (properties.backdrop) {\n      gl.uniform4f(cache.resolutionLocation, properties.backdrop[0],\n                   properties.backdrop[1], properties.backdrop[2], 1);\n    } else {\n      gl.uniform4f(cache.resolutionLocation, 0, 0, 0, 0);\n    }\n    gl.uniform1i(cache.subtypeLocation,\n                 properties.subtype === 'Luminosity' ? 1 : 0);\n\n    // Create a textures\n    var texture = createTexture(gl, layer, gl.TEXTURE0);\n    var maskTexture = createTexture(gl, mask, gl.TEXTURE1);\n\n\n    // Create a buffer and put a single clipspace rectangle in\n    // it (2 triangles)\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 0,\n      width, 0,\n      0, height,\n      0, height,\n      width, 0,\n      width, height]), gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // draw\n    gl.clearColor(0, 0, 0, 0);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    gl.flush();\n\n    gl.deleteTexture(texture);\n    gl.deleteTexture(maskTexture);\n    gl.deleteBuffer(buffer);\n\n    return canvas;\n  }\n\n  var figuresVertexShaderCode = '\\\n  attribute vec2 a_position;                                    \\\n  attribute vec3 a_color;                                       \\\n                                                                \\\n  uniform vec2 u_resolution;                                    \\\n  uniform vec2 u_scale;                                         \\\n  uniform vec2 u_offset;                                        \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    vec2 position = (a_position + u_offset) * u_scale;          \\\n    vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;     \\\n    gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);          \\\n                                                                \\\n    v_color = vec4(a_color / 255.0, 1.0);                       \\\n  }                                                             ';\n\n  var figuresFragmentShaderCode = '\\\n  precision mediump float;                                      \\\n                                                                \\\n  varying vec4 v_color;                                         \\\n                                                                \\\n  void main() {                                                 \\\n    gl_FragColor = v_color;                                     \\\n  }                                                             ';\n\n  var figuresCache = null;\n\n  function initFiguresGL() {\n    var canvas, gl;\n\n    generateGL();\n    canvas = currentCanvas;\n    currentCanvas = null;\n    gl = currentGL;\n    currentGL = null;\n\n    // setup a GLSL program\n    var vertexShader = createVertexShader(gl, figuresVertexShaderCode);\n    var fragmentShader = createFragmentShader(gl, figuresFragmentShaderCode);\n    var program = createProgram(gl, [vertexShader, fragmentShader]);\n    gl.useProgram(program);\n\n    var cache = {};\n    cache.gl = gl;\n    cache.canvas = canvas;\n    cache.resolutionLocation = gl.getUniformLocation(program, 'u_resolution');\n    cache.scaleLocation = gl.getUniformLocation(program, 'u_scale');\n    cache.offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    cache.positionLocation = gl.getAttribLocation(program, 'a_position');\n    cache.colorLocation = gl.getAttribLocation(program, 'a_color');\n\n    figuresCache = cache;\n  }\n\n  function drawFigures(width, height, backgroundColor, figures, context) {\n    if (!figuresCache) {\n      initFiguresGL();\n    }\n    var cache = figuresCache, canvas = cache.canvas, gl = cache.gl;\n\n    canvas.width = width;\n    canvas.height = height;\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    gl.uniform2f(cache.resolutionLocation, width, height);\n\n    // count triangle points\n    var count = 0;\n    var i, ii, rows;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      switch (figures[i].type) {\n        case 'lattice':\n          rows = (figures[i].coords.length / figures[i].verticesPerRow) | 0;\n          count += (rows - 1) * (figures[i].verticesPerRow - 1) * 6;\n          break;\n        case 'triangles':\n          count += figures[i].coords.length;\n          break;\n      }\n    }\n    // transfer data\n    var coords = new Float32Array(count * 2);\n    var colors = new Uint8Array(count * 3);\n    var coordsMap = context.coords, colorsMap = context.colors;\n    var pIndex = 0, cIndex = 0;\n    for (i = 0, ii = figures.length; i < ii; i++) {\n      var figure = figures[i], ps = figure.coords, cs = figure.colors;\n      switch (figure.type) {\n        case 'lattice':\n          var cols = figure.verticesPerRow;\n          rows = (ps.length / cols) | 0;\n          for (var row = 1; row < rows; row++) {\n            var offset = row * cols + 1;\n            for (var col = 1; col < cols; col++, offset++) {\n              coords[pIndex] = coordsMap[ps[offset - cols - 1]];\n              coords[pIndex + 1] = coordsMap[ps[offset - cols - 1] + 1];\n              coords[pIndex + 2] = coordsMap[ps[offset - cols]];\n              coords[pIndex + 3] = coordsMap[ps[offset - cols] + 1];\n              coords[pIndex + 4] = coordsMap[ps[offset - 1]];\n              coords[pIndex + 5] = coordsMap[ps[offset - 1] + 1];\n              colors[cIndex] = colorsMap[cs[offset - cols - 1]];\n              colors[cIndex + 1] = colorsMap[cs[offset - cols - 1] + 1];\n              colors[cIndex + 2] = colorsMap[cs[offset - cols - 1] + 2];\n              colors[cIndex + 3] = colorsMap[cs[offset - cols]];\n              colors[cIndex + 4] = colorsMap[cs[offset - cols] + 1];\n              colors[cIndex + 5] = colorsMap[cs[offset - cols] + 2];\n              colors[cIndex + 6] = colorsMap[cs[offset - 1]];\n              colors[cIndex + 7] = colorsMap[cs[offset - 1] + 1];\n              colors[cIndex + 8] = colorsMap[cs[offset - 1] + 2];\n\n              coords[pIndex + 6] = coords[pIndex + 2];\n              coords[pIndex + 7] = coords[pIndex + 3];\n              coords[pIndex + 8] = coords[pIndex + 4];\n              coords[pIndex + 9] = coords[pIndex + 5];\n              coords[pIndex + 10] = coordsMap[ps[offset]];\n              coords[pIndex + 11] = coordsMap[ps[offset] + 1];\n              colors[cIndex + 9] = colors[cIndex + 3];\n              colors[cIndex + 10] = colors[cIndex + 4];\n              colors[cIndex + 11] = colors[cIndex + 5];\n              colors[cIndex + 12] = colors[cIndex + 6];\n              colors[cIndex + 13] = colors[cIndex + 7];\n              colors[cIndex + 14] = colors[cIndex + 8];\n              colors[cIndex + 15] = colorsMap[cs[offset]];\n              colors[cIndex + 16] = colorsMap[cs[offset] + 1];\n              colors[cIndex + 17] = colorsMap[cs[offset] + 2];\n              pIndex += 12;\n              cIndex += 18;\n            }\n          }\n          break;\n        case 'triangles':\n          for (var j = 0, jj = ps.length; j < jj; j++) {\n            coords[pIndex] = coordsMap[ps[j]];\n            coords[pIndex + 1] = coordsMap[ps[j] + 1];\n            colors[cIndex] = colorsMap[cs[j]];\n            colors[cIndex + 1] = colorsMap[cs[j] + 1];\n            colors[cIndex + 2] = colorsMap[cs[j] + 2];\n            pIndex += 2;\n            cIndex += 3;\n          }\n          break;\n      }\n    }\n\n    // draw\n    if (backgroundColor) {\n      gl.clearColor(backgroundColor[0] / 255, backgroundColor[1] / 255,\n                    backgroundColor[2] / 255, 1.0);\n    } else {\n      gl.clearColor(0, 0, 0, 0);\n    }\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var coordsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, coordsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.positionLocation);\n    gl.vertexAttribPointer(cache.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    var colorsBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(cache.colorLocation);\n    gl.vertexAttribPointer(cache.colorLocation, 3, gl.UNSIGNED_BYTE, false,\n                           0, 0);\n\n    gl.uniform2f(cache.scaleLocation, context.scaleX, context.scaleY);\n    gl.uniform2f(cache.offsetLocation, context.offsetX, context.offsetY);\n\n    gl.drawArrays(gl.TRIANGLES, 0, count);\n\n    gl.flush();\n\n    gl.deleteBuffer(coordsBuffer);\n    gl.deleteBuffer(colorsBuffer);\n\n    return canvas;\n  }\n\n  function cleanup() {\n    if (smaskCache && smaskCache.canvas) {\n      smaskCache.canvas.width = 0;\n      smaskCache.canvas.height = 0;\n    }\n    if (figuresCache && figuresCache.canvas) {\n      figuresCache.canvas.width = 0;\n      figuresCache.canvas.height = 0;\n    }\n    smaskCache = null;\n    figuresCache = null;\n  }\n\n  return {\n    get isEnabled() {\n      if (getDefaultSetting('disableWebGL')) {\n        return false;\n      }\n      var enabled = false;\n      try {\n        generateGL();\n        enabled = !!currentGL;\n      } catch (e) { }\n      return shadow(this, 'isEnabled', enabled);\n    },\n    composeSMask,\n    drawFigures,\n    clear: cleanup,\n  };\n})();\n\nexport {\n  WebGLUtils,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/webgl.js","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  _UnsupportedManager, getDocument, LoopbackPort, PDFDataRangeTransport,\n  PDFWorker\n} from './api';\nimport {\n  addLinkAttributes, CustomStyle, DEFAULT_LINK_REL, getFilenameFromUrl,\n  isExternalLinkTargetSet, isValidUrl, LinkTarget\n} from './dom_utils';\nimport {\n  createBlob, createObjectURL, createPromiseCapability, deprecated,\n  getVerbosityLevel, globalScope, InvalidPDFException, isLittleEndian,\n  MissingPDFException, OPS, PageViewport, PasswordException, PasswordResponses,\n  removeNullCharacters, setVerbosityLevel, shadow, UnexpectedResponseException,\n  UnknownErrorException, UNSUPPORTED_FEATURES, Util, VERBOSITY_LEVELS, warn\n} from '../shared/util';\nimport { AnnotationLayer } from './annotation_layer';\nimport { Metadata } from './metadata';\nimport { renderTextLayer } from './text_layer';\nimport { SVGGraphics } from './svg';\n\nvar isWorker = (typeof window === 'undefined');\n\n// The global PDFJS object is now deprecated and will not be supported in\n// the future. The members below are maintained for backward  compatibility\n// and shall not be extended or modified. If the global.js is included as\n// a module, we will create a global PDFJS object instance or use existing.\nif (!globalScope.PDFJS) {\n  globalScope.PDFJS = {};\n}\nvar PDFJS = globalScope.PDFJS;\n\nif (typeof PDFJSDev !== 'undefined') {\n  PDFJS.version = PDFJSDev.eval('BUNDLE_VERSION');\n  PDFJS.build = PDFJSDev.eval('BUNDLE_BUILD');\n}\n\nPDFJS.pdfBug = false;\n\nif (PDFJS.verbosity !== undefined) {\n  setVerbosityLevel(PDFJS.verbosity);\n}\ndelete PDFJS.verbosity;\nObject.defineProperty(PDFJS, 'verbosity', {\n  get() {\n    return getVerbosityLevel();\n  },\n  set(level) {\n    setVerbosityLevel(level);\n  },\n  enumerable: true,\n  configurable: true,\n});\n\nPDFJS.VERBOSITY_LEVELS = VERBOSITY_LEVELS;\nPDFJS.OPS = OPS;\nPDFJS.UNSUPPORTED_FEATURES = UNSUPPORTED_FEATURES;\nPDFJS.isValidUrl = isValidUrl;\nPDFJS.shadow = shadow;\nPDFJS.createBlob = createBlob;\nPDFJS.createObjectURL = function PDFJS_createObjectURL(data, contentType) {\n  return createObjectURL(data, contentType, PDFJS.disableCreateObjectURL);\n};\nObject.defineProperty(PDFJS, 'isLittleEndian', {\n  configurable: true,\n  get: function PDFJS_isLittleEndian() {\n    return shadow(PDFJS, 'isLittleEndian', isLittleEndian());\n  },\n});\nPDFJS.removeNullCharacters = removeNullCharacters;\nPDFJS.PasswordResponses = PasswordResponses;\nPDFJS.PasswordException = PasswordException;\nPDFJS.UnknownErrorException = UnknownErrorException;\nPDFJS.InvalidPDFException = InvalidPDFException;\nPDFJS.MissingPDFException = MissingPDFException;\nPDFJS.UnexpectedResponseException = UnexpectedResponseException;\nPDFJS.Util = Util;\nPDFJS.PageViewport = PageViewport;\nPDFJS.createPromiseCapability = createPromiseCapability;\n\n/**\n * The maximum allowed image size in total pixels e.g. width * height. Images\n * above this value will not be drawn. Use -1 for no limit.\n * @var {number}\n */\nPDFJS.maxImageSize = (PDFJS.maxImageSize === undefined ?\n                      -1 : PDFJS.maxImageSize);\n\n/**\n * The url of where the predefined Adobe CMaps are located. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.cMapUrl = (PDFJS.cMapUrl === undefined ? null : PDFJS.cMapUrl);\n\n/**\n * Specifies if CMaps are binary packed.\n * @var {boolean}\n */\nPDFJS.cMapPacked = PDFJS.cMapPacked === undefined ? false : PDFJS.cMapPacked;\n\n/**\n * By default fonts are converted to OpenType fonts and loaded via font face\n * rules. If disabled, the font will be rendered using a built in font\n * renderer that constructs the glyphs with primitive path commands.\n * @var {boolean}\n */\nPDFJS.disableFontFace = (PDFJS.disableFontFace === undefined ?\n                         false : PDFJS.disableFontFace);\n\n/**\n * Path for image resources, mainly for annotation icons. Include trailing\n * slash.\n * @var {string}\n */\nPDFJS.imageResourcesPath = (PDFJS.imageResourcesPath === undefined ?\n                            '' : PDFJS.imageResourcesPath);\n\n/**\n * Disable the web worker and run all code on the main thread. This will\n * happen automatically if the browser doesn't support workers or sending\n * typed arrays to workers.\n * @var {boolean}\n */\nPDFJS.disableWorker = (PDFJS.disableWorker === undefined ?\n                       false : PDFJS.disableWorker);\n\n/**\n * Path and filename of the worker file. Required when the worker is enabled\n * in development mode. If unspecified in the production build, the worker\n * will be loaded based on the location of the pdf.js file. It is recommended\n * that the workerSrc is set in a custom application to prevent issues caused\n * by third-party frameworks and libraries.\n * @var {string}\n */\nPDFJS.workerSrc = (PDFJS.workerSrc === undefined ? null : PDFJS.workerSrc);\n\n/**\n * Defines global port for worker process. Overrides workerSrc and\n * disableWorker setting.\n */\nPDFJS.workerPort = (PDFJS.workerPort === undefined ? null : PDFJS.workerPort);\n\n/**\n * Disable range request loading of PDF files. When enabled and if the server\n * supports partial content requests then the PDF will be fetched in chunks.\n * Enabled (false) by default.\n * @var {boolean}\n */\nPDFJS.disableRange = (PDFJS.disableRange === undefined ?\n                      false : PDFJS.disableRange);\n\n/**\n * Disable streaming of PDF file data. By default PDF.js attempts to load PDF\n * in chunks. This default behavior can be disabled.\n * @var {boolean}\n */\nPDFJS.disableStream = (PDFJS.disableStream === undefined ?\n                       false : PDFJS.disableStream);\n\n/**\n * Disable pre-fetching of PDF file data. When range requests are enabled\n * PDF.js will automatically keep fetching more data even if it isn't needed\n * to display the current page. This default behavior can be disabled.\n *\n * NOTE: It is also necessary to disable streaming, see above,\n *       in order for disabling of pre-fetching to work correctly.\n * @var {boolean}\n */\nPDFJS.disableAutoFetch = (PDFJS.disableAutoFetch === undefined ?\n                          false : PDFJS.disableAutoFetch);\n\n/**\n * Enables special hooks for debugging PDF.js.\n * @var {boolean}\n */\nPDFJS.pdfBug = (PDFJS.pdfBug === undefined ? false : PDFJS.pdfBug);\n\n/**\n * Enables transfer usage in postMessage for ArrayBuffers.\n * @var {boolean}\n */\nPDFJS.postMessageTransfers = (PDFJS.postMessageTransfers === undefined ?\n                              true : PDFJS.postMessageTransfers);\n\n/**\n * Disables URL.createObjectURL usage.\n * @var {boolean}\n */\nPDFJS.disableCreateObjectURL = (PDFJS.disableCreateObjectURL === undefined ?\n                                false : PDFJS.disableCreateObjectURL);\n\n/**\n * Disables WebGL usage.\n * @var {boolean}\n */\nPDFJS.disableWebGL = (PDFJS.disableWebGL === undefined ?\n                      true : PDFJS.disableWebGL);\n\n/**\n * Specifies the |target| attribute for external links.\n * The constants from PDFJS.LinkTarget should be used:\n *  - NONE [default]\n *  - SELF\n *  - BLANK\n *  - PARENT\n *  - TOP\n * @var {number}\n */\nPDFJS.externalLinkTarget = (PDFJS.externalLinkTarget === undefined ?\n                            LinkTarget.NONE : PDFJS.externalLinkTarget);\n\n/**\n * Specifies the |rel| attribute for external links. Defaults to stripping\n * the referrer.\n * @var {string}\n */\nPDFJS.externalLinkRel = (PDFJS.externalLinkRel === undefined ?\n                         DEFAULT_LINK_REL : PDFJS.externalLinkRel);\n\n/**\n  * Determines if we can eval strings as JS. Primarily used to improve\n  * performance for font rendering.\n  * @var {boolean}\n  */\nPDFJS.isEvalSupported = (PDFJS.isEvalSupported === undefined ?\n                         true : PDFJS.isEvalSupported);\n\n/**\n * Opt-in to backwards incompatible API changes. NOTE:\n * If the `PDFJS_NEXT` build flag is set, it will override this setting.\n * @var {boolean}\n */\nPDFJS.pdfjsNext = (PDFJS.pdfjsNext === undefined) ? false : PDFJS.pdfjsNext;\n\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n  var savedOpenExternalLinksInNewWindow = PDFJS.openExternalLinksInNewWindow;\n  delete PDFJS.openExternalLinksInNewWindow;\n  Object.defineProperty(PDFJS, 'openExternalLinksInNewWindow', {\n    get() {\n      return PDFJS.externalLinkTarget === LinkTarget.BLANK;\n    },\n    set(value) {\n      if (value) {\n        deprecated('PDFJS.openExternalLinksInNewWindow, please use ' +\n          '\"PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK\" instead.');\n      }\n      if (PDFJS.externalLinkTarget !== LinkTarget.NONE) {\n        warn('PDFJS.externalLinkTarget is already initialized');\n        return;\n      }\n      PDFJS.externalLinkTarget = value ? LinkTarget.BLANK : LinkTarget.NONE;\n    },\n    enumerable: true,\n    configurable: true,\n  });\n  if (savedOpenExternalLinksInNewWindow) {\n    /**\n     * (Deprecated) Opens external links in a new window if enabled.\n     * The default behavior opens external links in the PDF.js window.\n     *\n     * NOTE: This property has been deprecated, please use\n     *       `PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK` instead.\n     * @var {boolean}\n     */\n    PDFJS.openExternalLinksInNewWindow = savedOpenExternalLinksInNewWindow;\n  }\n}\n\nPDFJS.getDocument = getDocument;\nPDFJS.LoopbackPort = LoopbackPort;\nPDFJS.PDFDataRangeTransport = PDFDataRangeTransport;\nPDFJS.PDFWorker = PDFWorker;\n\nPDFJS.hasCanvasTypedArrays = true; // compatibility.js ensures this invariant\nPDFJS.CustomStyle = CustomStyle;\nPDFJS.LinkTarget = LinkTarget;\nPDFJS.addLinkAttributes = addLinkAttributes;\nPDFJS.getFilenameFromUrl = getFilenameFromUrl;\nPDFJS.isExternalLinkTargetSet = isExternalLinkTargetSet;\n\nPDFJS.AnnotationLayer = AnnotationLayer;\n\nPDFJS.renderTextLayer = renderTextLayer;\n\nPDFJS.Metadata = Metadata;\n\nPDFJS.SVGGraphics = SVGGraphics;\n\nPDFJS.UnsupportedManager = _UnsupportedManager;\n\nexport {\n  globalScope,\n  isWorker,\n  PDFJS,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/global.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert, createPromiseCapability, globalScope, isInt, MissingPDFException,\n  UnexpectedResponseException\n} from '../shared/util';\nimport { setPDFNetworkStreamClass } from './api';\n\nif (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n  throw new Error('Module \"./network\" shall not ' +\n                  'be used with FIREFOX or MOZCENTRAL build.');\n}\n\nvar OK_RESPONSE = 200;\nvar PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction NetworkManager(url, args) {\n  this.url = url;\n  args = args || {};\n  this.isHttp = /^https?:/i.test(url);\n  this.httpHeaders = (this.isHttp && args.httpHeaders) || {};\n  this.withCredentials = args.withCredentials || false;\n  this.getXhr = args.getXhr ||\n    function NetworkManager_getXhr() {\n      return new XMLHttpRequest();\n    };\n\n  this.currXhrId = 0;\n  this.pendingRequests = Object.create(null);\n  this.loadedRequests = Object.create(null);\n}\n\nfunction getArrayBuffer(xhr) {\n  var data = xhr.response;\n  if (typeof data !== 'string') {\n    return data;\n  }\n  var length = data.length;\n  var array = new Uint8Array(length);\n  for (var i = 0; i < length; i++) {\n    array[i] = data.charCodeAt(i) & 0xFF;\n  }\n  return array.buffer;\n}\n\nvar supportsMozChunked =\n  typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME') ? false :\n    (function supportsMozChunkedClosure() {\n  try {\n    var x = new XMLHttpRequest();\n    // Firefox 37- required .open() to be called before setting responseType.\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=707484\n    // Even though the URL is not visited, .open() could fail if the URL is\n    // blocked, e.g. via the connect-src CSP directive or the NoScript addon.\n    // When this error occurs, this feature detection method will mistakenly\n    // report that moz-chunked-arraybuffer is not supported in Firefox 37-.\n    x.open('GET', globalScope.location.href);\n    x.responseType = 'moz-chunked-arraybuffer';\n    return x.responseType === 'moz-chunked-arraybuffer';\n  } catch (e) {\n    return false;\n  }\n})();\n\nNetworkManager.prototype = {\n  requestRange: function NetworkManager_requestRange(begin, end, listeners) {\n    var args = {\n      begin,\n      end,\n    };\n    for (var prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  },\n\n  requestFull: function NetworkManager_requestFull(listeners) {\n    return this.request(listeners);\n  },\n\n  request: function NetworkManager_request(args) {\n    var xhr = this.getXhr();\n    var xhrId = this.currXhrId++;\n    var pendingRequest = this.pendingRequests[xhrId] = {\n      xhr,\n    };\n\n    xhr.open('GET', this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (var property in this.httpHeaders) {\n      var value = this.httpHeaders[property];\n      if (typeof value === 'undefined') {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && 'begin' in args && 'end' in args) {\n      var rangeStr = args.begin + '-' + (args.end - 1);\n      xhr.setRequestHeader('Range', 'bytes=' + rangeStr);\n      pendingRequest.expectedStatus = 206;\n    } else {\n      pendingRequest.expectedStatus = 200;\n    }\n\n    var useMozChunkedLoading = supportsMozChunked && !!args.onProgressiveData;\n    if (useMozChunkedLoading) {\n      xhr.responseType = 'moz-chunked-arraybuffer';\n      pendingRequest.onProgressiveData = args.onProgressiveData;\n      pendingRequest.mozChunked = true;\n    } else {\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if (args.onError) {\n      xhr.onerror = function(evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  },\n\n  onProgress: function NetworkManager_onProgress(xhrId, evt) {\n    var pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    if (pendingRequest.mozChunked) {\n      var chunk = getArrayBuffer(pendingRequest.xhr);\n      pendingRequest.onProgressiveData(chunk);\n    }\n\n    var onProgress = pendingRequest.onProgress;\n    if (onProgress) {\n      onProgress(evt);\n    }\n  },\n\n  onStateChange: function NetworkManager_onStateChange(xhrId, evt) {\n    var pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      // Maybe abortRequest was called...\n      return;\n    }\n\n    var xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // success status == 0 can be on ftp, file and other protocols\n    if (xhr.status === 0 && this.isHttp) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n    var xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    var ok_response_on_range_request =\n        xhrStatus === OK_RESPONSE &&\n        pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (!ok_response_on_range_request &&\n        xhrStatus !== pendingRequest.expectedStatus) {\n      if (pendingRequest.onError) {\n        pendingRequest.onError(xhr.status);\n      }\n      return;\n    }\n\n    this.loadedRequests[xhrId] = true;\n\n    var chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      var rangeHeader = xhr.getResponseHeader('Content-Range');\n      var matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      var begin = parseInt(matches[1], 10);\n      pendingRequest.onDone({\n        begin,\n        chunk,\n      });\n    } else if (pendingRequest.onProgressiveData) {\n      pendingRequest.onDone(null);\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else if (pendingRequest.onError) {\n      pendingRequest.onError(xhr.status);\n    }\n  },\n\n  hasPendingRequests: function NetworkManager_hasPendingRequests() {\n    for (var xhrId in this.pendingRequests) {\n      return true;\n    }\n    return false;\n  },\n\n  getRequestXhr: function NetworkManager_getXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  },\n\n  isStreamingRequest: function NetworkManager_isStreamingRequest(xhrId) {\n    return !!(this.pendingRequests[xhrId].onProgressiveData);\n  },\n\n  isPendingRequest: function NetworkManager_isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  },\n\n  isLoadedRequest: function NetworkManager_isLoadedRequest(xhrId) {\n    return xhrId in this.loadedRequests;\n  },\n\n  abortAllRequests: function NetworkManager_abortAllRequests() {\n    for (var xhrId in this.pendingRequests) {\n      this.abortRequest(xhrId | 0);\n    }\n  },\n\n  abortRequest: function NetworkManager_abortRequest(xhrId) {\n    var xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  },\n};\n\n/** @implements {IPDFStream} */\nfunction PDFNetworkStream(options) {\n  this._options = options;\n  var source = options.source;\n  this._manager = new NetworkManager(source.url, {\n    httpHeaders: source.httpHeaders,\n    withCredentials: source.withCredentials,\n  });\n  this._rangeChunkSize = source.rangeChunkSize;\n  this._fullRequestReader = null;\n  this._rangeRequestReaders = [];\n}\n\nPDFNetworkStream.prototype = {\n  _onRangeRequestReaderClosed:\n      function PDFNetworkStream_onRangeRequestReaderClosed(reader) {\n    var i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  },\n\n  getFullReader: function PDFNetworkStream_getFullReader() {\n    assert(!this._fullRequestReader);\n    this._fullRequestReader =\n      new PDFNetworkStreamFullRequestReader(this._manager, this._options);\n    return this._fullRequestReader;\n  },\n\n  getRangeReader: function PDFNetworkStream_getRangeReader(begin, end) {\n    var reader = new PDFNetworkStreamRangeRequestReader(this._manager,\n                                                        begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  },\n\n  cancelAllRequests: function PDFNetworkStream_cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    var readers = this._rangeRequestReaders.slice(0);\n    readers.forEach(function (reader) {\n      reader.cancel(reason);\n    });\n  },\n};\n\n/** @implements {IPDFStreamReader} */\nfunction PDFNetworkStreamFullRequestReader(manager, options) {\n  this._manager = manager;\n\n  var source = options.source;\n  var args = {\n    onHeadersReceived: this._onHeadersReceived.bind(this),\n    onProgressiveData: source.disableStream ? null :\n                       this._onProgressiveData.bind(this),\n    onDone: this._onDone.bind(this),\n    onError: this._onError.bind(this),\n    onProgress: this._onProgress.bind(this),\n  };\n  this._url = source.url;\n  this._fullRequestId = manager.requestFull(args);\n  this._headersReceivedCapability = createPromiseCapability();\n  this._disableRange = options.disableRange || false;\n  this._contentLength = source.length; // optional\n  this._rangeChunkSize = source.rangeChunkSize;\n  if (!this._rangeChunkSize && !this._disableRange) {\n    this._disableRange = true;\n  }\n\n  this._isStreamingSupported = false;\n  this._isRangeSupported = false;\n\n  this._cachedChunks = [];\n  this._requests = [];\n  this._done = false;\n  this._storedError = undefined;\n\n  this.onProgress = null;\n}\n\nPDFNetworkStreamFullRequestReader.prototype = {\n  _validateRangeRequestCapabilities: function\n      PDFNetworkStreamFullRequestReader_validateRangeRequestCapabilities() {\n\n    if (this._disableRange) {\n      return false;\n    }\n\n    var networkManager = this._manager;\n    if (!networkManager.isHttp) {\n      return false;\n    }\n    var fullRequestXhrId = this._fullRequestId;\n    var fullRequestXhr = networkManager.getRequestXhr(fullRequestXhrId);\n    if (fullRequestXhr.getResponseHeader('Accept-Ranges') !== 'bytes') {\n      return false;\n    }\n\n    var contentEncoding =\n      fullRequestXhr.getResponseHeader('Content-Encoding') || 'identity';\n    if (contentEncoding !== 'identity') {\n      return false;\n    }\n\n    var length = fullRequestXhr.getResponseHeader('Content-Length');\n    length = parseInt(length, 10);\n    if (!isInt(length)) {\n      return false;\n    }\n\n    this._contentLength = length; // setting right content length\n\n    if (length <= 2 * this._rangeChunkSize) {\n      // The file size is smaller than the size of two chunks, so it does\n      // not make any sense to abort the request and retry with a range\n      // request.\n      return false;\n    }\n\n    return true;\n  },\n\n  _onHeadersReceived:\n      function PDFNetworkStreamFullRequestReader_onHeadersReceived() {\n\n    if (this._validateRangeRequestCapabilities()) {\n      this._isRangeSupported = true;\n    }\n\n    var networkManager = this._manager;\n    var fullRequestXhrId = this._fullRequestId;\n    if (networkManager.isStreamingRequest(fullRequestXhrId)) {\n      // We can continue fetching when progressive loading is enabled,\n      // and we don't need the autoFetch feature.\n      this._isStreamingSupported = true;\n    } else if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range\n      // requests.\n      networkManager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  },\n\n  _onProgressiveData:\n      function PDFNetworkStreamFullRequestReader_onProgressiveData(chunk) {\n    if (this._requests.length > 0) {\n      var requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false, });\n    } else {\n      this._cachedChunks.push(chunk);\n    }\n  },\n\n  _onDone: function PDFNetworkStreamFullRequestReader_onDone(args) {\n    if (args) {\n      this._onProgressiveData(args.chunk);\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n  },\n\n  _onError: function PDFNetworkStreamFullRequestReader_onError(status) {\n    var url = this._url;\n    var exception;\n    if (status === 404 || status === 0 && /^file:/.test(url)) {\n      exception = new MissingPDFException('Missing PDF \"' + url + '\".');\n    } else {\n      exception = new UnexpectedResponseException(\n        'Unexpected server response (' + status +\n        ') while retrieving PDF \"' + url + '\".', status);\n    }\n    this._storedError = exception;\n    this._headersReceivedCapability.reject(exception);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.reject(exception);\n    });\n    this._requests = [];\n    this._cachedChunks = [];\n  },\n\n  _onProgress: function PDFNetworkStreamFullRequestReader_onProgress(data) {\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: data.loaded,\n        total: data.lengthComputable ? data.total : this._contentLength,\n      });\n    }\n  },\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  },\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  },\n\n  get contentLength() {\n    return this._contentLength;\n  },\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  },\n\n  read: function PDFNetworkStreamFullRequestReader_read() {\n    if (this._storedError) {\n      return Promise.reject(this._storedError);\n    }\n    if (this._cachedChunks.length > 0) {\n      var chunk = this._cachedChunks.shift();\n      return Promise.resolve({ value: chunk, done: false, });\n    }\n    if (this._done) {\n      return Promise.resolve({ value: undefined, done: true, });\n    }\n    var requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  },\n\n  cancel: function PDFNetworkStreamFullRequestReader_cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  },\n};\n\n/** @implements {IPDFStreamRangeReader} */\nfunction PDFNetworkStreamRangeRequestReader(manager, begin, end) {\n  this._manager = manager;\n  var args = {\n    onDone: this._onDone.bind(this),\n    onProgress: this._onProgress.bind(this),\n  };\n  this._requestId = manager.requestRange(begin, end, args);\n  this._requests = [];\n  this._queuedChunk = null;\n  this._done = false;\n\n  this.onProgress = null;\n  this.onClosed = null;\n}\n\nPDFNetworkStreamRangeRequestReader.prototype = {\n  _close: function PDFNetworkStreamRangeRequestReader_close() {\n    if (this.onClosed) {\n      this.onClosed(this);\n    }\n  },\n\n  _onDone: function PDFNetworkStreamRangeRequestReader_onDone(data) {\n    var chunk = data.chunk;\n    if (this._requests.length > 0) {\n      var requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false, });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    this._close();\n  },\n\n  _onProgress: function PDFNetworkStreamRangeRequestReader_onProgress(evt) {\n    if (!this.isStreamingSupported && this.onProgress) {\n      this.onProgress({\n        loaded: evt.loaded,\n      });\n    }\n  },\n\n  get isStreamingSupported() {\n    return false; // TODO allow progressive range bytes loading\n  },\n\n  read: function PDFNetworkStreamRangeRequestReader_read() {\n    if (this._queuedChunk !== null) {\n      var chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return Promise.resolve({ value: chunk, done: false, });\n    }\n    if (this._done) {\n      return Promise.resolve({ value: undefined, done: true, });\n    }\n    var requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  },\n\n  cancel: function PDFNetworkStreamRangeRequestReader_cancel(reason) {\n    this._done = true;\n    this._requests.forEach(function (requestCapability) {\n      requestCapability.resolve({ value: undefined, done: true, });\n    });\n    this._requests = [];\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  },\n};\n\nsetPDFNetworkStreamClass(PDFNetworkStream);\n\nexport {\n  PDFNetworkStream,\n  NetworkManager,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/network.js","/*\n * To the extent possible under law, the authors have dedicated all copyright\n * and related and neighboring rights to this software to the public\n * domain worldwide. This software is distributed without any warranty.\n *\n * You should have received a copy of the CC0 Public Domain Dedication along\n * with this software. If not, see https://creativecommons.org/publicdomain/zero/1.0/.\n */\n\n(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n/******/\n/******/  // The require function\n/******/  function __w_pdfjs_require__(moduleId) {\n/******/\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n/******/\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      i: moduleId,\n/******/      l: false,\n/******/      exports: {}\n/******/    };\n/******/\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n/******/\n/******/    // Flag the module as loaded\n/******/    module.l = true;\n/******/\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n/******/\n/******/\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __w_pdfjs_require__.m = modules;\n/******/\n/******/  // expose the module cache\n/******/  __w_pdfjs_require__.c = installedModules;\n/******/\n/******/  // identity function for calling harmony imports with the correct context\n/******/  __w_pdfjs_require__.i = function(value) { return value; };\n/******/\n/******/  // define getter function for harmony exports\n/******/  __w_pdfjs_require__.d = function(exports, name, getter) {\n/******/    if(!__w_pdfjs_require__.o(exports, name)) {\n/******/      Object.defineProperty(exports, name, {\n/******/        configurable: false,\n/******/        enumerable: true,\n/******/        get: getter\n/******/      });\n/******/    }\n/******/  };\n/******/\n/******/  // getDefaultExport function for compatibility with non-harmony modules\n/******/  __w_pdfjs_require__.n = function(module) {\n/******/    var getter = module && module.__esModule ?\n/******/      function getDefault() { return module['default']; } :\n/******/      function getModuleExports() { return module; };\n/******/    __w_pdfjs_require__.d(getter, 'a', getter);\n/******/    return getter;\n/******/  };\n/******/\n/******/  // Object.prototype.hasOwnProperty.call\n/******/  __w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/  // __webpack_public_path__\n/******/  __w_pdfjs_require__.p = \"\";\n/******/\n/******/  // Load entry module and return exports\n/******/  return __w_pdfjs_require__(__w_pdfjs_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = __w_pdfjs_require__(1),\n    assert = _require.assert;\n\nfunction IsPropertyKey(argument) {\n  return typeof argument === 'string' || (typeof argument === 'undefined' ? 'undefined' : _typeof(argument)) === 'symbol';\n}\n\nexports.typeIsObject = function (x) {\n  return (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null || typeof x === 'function';\n};\n\nexports.createDataProperty = function (o, p, v) {\n  assert(exports.typeIsObject(o));\n  Object.defineProperty(o, p, { value: v, writable: true, enumerable: true, configurable: true });\n};\n\nexports.createArrayFromList = function (elements) {\n  // We use arrays to represent lists, so this is basically a no-op.\n  // Do a slice though just in case we happen to depend on the unique-ness.\n  return elements.slice();\n};\n\nexports.ArrayBufferCopy = function (dest, destOffset, src, srcOffset, n) {\n  new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n};\n\nexports.CreateIterResultObject = function (value, done) {\n  assert(typeof done === 'boolean');\n  var obj = {};\n  Object.defineProperty(obj, 'value', { value: value, enumerable: true, writable: true, configurable: true });\n  Object.defineProperty(obj, 'done', { value: done, enumerable: true, writable: true, configurable: true });\n  return obj;\n};\n\nexports.IsFiniteNonNegativeNumber = function (v) {\n  if (Number.isNaN(v)) {\n    return false;\n  }\n  if (v === Infinity) {\n    return false;\n  }\n  if (v < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nfunction Call(F, V, args) {\n  if (typeof F !== 'function') {\n    throw new TypeError('Argument is not a function');\n  }\n\n  return Function.prototype.apply.call(F, V, args);\n}\n\nexports.InvokeOrNoop = function (O, P, args) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n\n  var method = O[P];\n  if (method === undefined) {\n    return undefined;\n  }\n\n  return Call(method, O, args);\n};\n\nexports.PromiseInvokeOrNoop = function (O, P, args) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n  try {\n    return Promise.resolve(exports.InvokeOrNoop(O, P, args));\n  } catch (returnValueE) {\n    return Promise.reject(returnValueE);\n  }\n};\n\nexports.PromiseInvokeOrPerformFallback = function (O, P, args, F, argsF) {\n  assert(O !== undefined);\n  assert(IsPropertyKey(P));\n  assert(Array.isArray(args));\n  assert(Array.isArray(argsF));\n\n  var method = void 0;\n  try {\n    method = O[P];\n  } catch (methodE) {\n    return Promise.reject(methodE);\n  }\n\n  if (method === undefined) {\n    return F.apply(null, argsF);\n  }\n\n  try {\n    return Promise.resolve(Call(method, O, args));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\n// Not implemented correctly\nexports.TransferArrayBuffer = function (O) {\n  return O.slice();\n};\n\nexports.ValidateAndNormalizeHighWaterMark = function (highWaterMark) {\n  highWaterMark = Number(highWaterMark);\n  if (Number.isNaN(highWaterMark) || highWaterMark < 0) {\n    throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');\n  }\n\n  return highWaterMark;\n};\n\nexports.ValidateAndNormalizeQueuingStrategy = function (size, highWaterMark) {\n  if (size !== undefined && typeof size !== 'function') {\n    throw new TypeError('size property of a queuing strategy must be a function');\n  }\n\n  highWaterMark = exports.ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n  return { size: size, highWaterMark: highWaterMark };\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nfunction rethrowAssertionErrorRejection(e) {\n  // Used throughout the reference implementation, as `.catch(rethrowAssertionErrorRejection)`, to ensure any errors\n  // get shown. There are places in the spec where we do promise transformations and purposefully ignore or don't\n  // expect any errors, but assertion errors are always problematic.\n  if (e && e.constructor === AssertionError) {\n    setTimeout(function () {\n      throw e;\n    }, 0);\n  }\n};\n\nfunction AssertionError(message) {\n  this.name = 'AssertionError';\n  this.message = message || '';\n  this.stack = new Error().stack;\n}\nAssertionError.prototype = Object.create(Error.prototype);\nAssertionError.prototype.constructor = AssertionError;\n\nfunction assert(value, message) {\n  if (!value) {\n    throw new AssertionError(message);\n  }\n}\n\nmodule.exports = {\n  rethrowAssertionErrorRejection: rethrowAssertionErrorRejection,\n  AssertionError: AssertionError,\n  assert: assert\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(0),\n    InvokeOrNoop = _require.InvokeOrNoop,\n    PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n    ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n    typeIsObject = _require.typeIsObject;\n\nvar _require2 = __w_pdfjs_require__(1),\n    assert = _require2.assert,\n    rethrowAssertionErrorRejection = _require2.rethrowAssertionErrorRejection;\n\nvar _require3 = __w_pdfjs_require__(3),\n    DequeueValue = _require3.DequeueValue,\n    EnqueueValueWithSize = _require3.EnqueueValueWithSize,\n    PeekQueueValue = _require3.PeekQueueValue,\n    ResetQueue = _require3.ResetQueue;\n\nvar WritableStream = function () {\n  function WritableStream() {\n    var underlyingSink = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        size = _ref.size,\n        _ref$highWaterMark = _ref.highWaterMark,\n        highWaterMark = _ref$highWaterMark === undefined ? 1 : _ref$highWaterMark;\n\n    _classCallCheck(this, WritableStream);\n\n    this._state = 'writable';\n\n    // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n    // 'erroring' or 'errored'. May be set to an undefined value.\n    this._storedError = undefined;\n\n    this._writer = undefined;\n\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    this._writableStreamController = undefined;\n\n    // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n    // producer without waiting for the queued writes to finish.\n    this._writeRequests = [];\n\n    // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n    // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n    this._inFlightWriteRequest = undefined;\n\n    // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n    // has been detached.\n    this._closeRequest = undefined;\n\n    // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n    // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n    this._inFlightCloseRequest = undefined;\n\n    // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n    this._pendingAbortRequest = undefined;\n\n    // The backpressure signal set by the controller.\n    this._backpressure = false;\n\n    var type = underlyingSink.type;\n\n    if (type !== undefined) {\n      throw new RangeError('Invalid type is specified');\n    }\n\n    this._writableStreamController = new WritableStreamDefaultController(this, underlyingSink, size, highWaterMark);\n    this._writableStreamController.__startSteps();\n  }\n\n  _createClass(WritableStream, [{\n    key: 'abort',\n    value: function abort(reason) {\n      if (IsWritableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('abort'));\n      }\n\n      if (IsWritableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('Cannot abort a stream that already has a writer'));\n      }\n\n      return WritableStreamAbort(this, reason);\n    }\n  }, {\n    key: 'getWriter',\n    value: function getWriter() {\n      if (IsWritableStream(this) === false) {\n        throw streamBrandCheckException('getWriter');\n      }\n\n      return AcquireWritableStreamDefaultWriter(this);\n    }\n  }, {\n    key: 'locked',\n    get: function get() {\n      if (IsWritableStream(this) === false) {\n        throw streamBrandCheckException('locked');\n      }\n\n      return IsWritableStreamLocked(this);\n    }\n  }]);\n\n  return WritableStream;\n}();\n\nmodule.exports = {\n  AcquireWritableStreamDefaultWriter: AcquireWritableStreamDefaultWriter,\n  IsWritableStream: IsWritableStream,\n  IsWritableStreamLocked: IsWritableStreamLocked,\n  WritableStream: WritableStream,\n  WritableStreamAbort: WritableStreamAbort,\n  WritableStreamDefaultControllerError: WritableStreamDefaultControllerError,\n  WritableStreamDefaultWriterCloseWithErrorPropagation: WritableStreamDefaultWriterCloseWithErrorPropagation,\n  WritableStreamDefaultWriterRelease: WritableStreamDefaultWriterRelease,\n  WritableStreamDefaultWriterWrite: WritableStreamDefaultWriterWrite,\n  WritableStreamCloseQueuedOrInFlight: WritableStreamCloseQueuedOrInFlight\n};\n\n// Abstract operations for the WritableStream.\n\nfunction AcquireWritableStreamDefaultWriter(stream) {\n  return new WritableStreamDefaultWriter(stream);\n}\n\nfunction IsWritableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsWritableStreamLocked(stream) {\n  assert(IsWritableStream(stream) === true, 'IsWritableStreamLocked should only be used on known writable streams');\n\n  if (stream._writer === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamAbort(stream, reason) {\n  var state = stream._state;\n  if (state === 'closed') {\n    return Promise.resolve(undefined);\n  }\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n  var error = new TypeError('Requested to abort');\n  if (stream._pendingAbortRequest !== undefined) {\n    return Promise.reject(error);\n  }\n\n  assert(state === 'writable' || state === 'erroring', 'state must be writable or erroring');\n\n  var wasAlreadyErroring = false;\n  if (state === 'erroring') {\n    wasAlreadyErroring = true;\n    // reason will not be used, so don't keep a reference to it.\n    reason = undefined;\n  }\n\n  var promise = new Promise(function (resolve, reject) {\n    stream._pendingAbortRequest = {\n      _resolve: resolve,\n      _reject: reject,\n      _reason: reason,\n      _wasAlreadyErroring: wasAlreadyErroring\n    };\n  });\n\n  if (wasAlreadyErroring === false) {\n    WritableStreamStartErroring(stream, error);\n  }\n\n  return promise;\n}\n\n// WritableStream API exposed for controllers.\n\nfunction WritableStreamAddWriteRequest(stream) {\n  assert(IsWritableStreamLocked(stream) === true);\n  assert(stream._state === 'writable');\n\n  var promise = new Promise(function (resolve, reject) {\n    var writeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._writeRequests.push(writeRequest);\n  });\n\n  return promise;\n}\n\nfunction WritableStreamDealWithRejection(stream, error) {\n  var state = stream._state;\n\n  if (state === 'writable') {\n    WritableStreamStartErroring(stream, error);\n    return;\n  }\n\n  assert(state === 'erroring');\n  WritableStreamFinishErroring(stream);\n}\n\nfunction WritableStreamStartErroring(stream, reason) {\n  assert(stream._storedError === undefined, 'stream._storedError === undefined');\n  assert(stream._state === 'writable', 'state must be writable');\n\n  var controller = stream._writableStreamController;\n  assert(controller !== undefined, 'controller must not be undefined');\n\n  stream._state = 'erroring';\n  stream._storedError = reason;\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n  }\n\n  if (WritableStreamHasOperationMarkedInFlight(stream) === false && controller._started === true) {\n    WritableStreamFinishErroring(stream);\n  }\n}\n\nfunction WritableStreamFinishErroring(stream) {\n  assert(stream._state === 'erroring', 'stream._state === erroring');\n  assert(WritableStreamHasOperationMarkedInFlight(stream) === false, 'WritableStreamHasOperationMarkedInFlight(stream) === false');\n  stream._state = 'errored';\n  stream._writableStreamController.__errorSteps();\n\n  var storedError = stream._storedError;\n  for (var i = 0; i < stream._writeRequests.length; i++) {\n    var writeRequest = stream._writeRequests[i];\n    writeRequest._reject(storedError);\n  }\n  stream._writeRequests = [];\n\n  if (stream._pendingAbortRequest === undefined) {\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  var abortRequest = stream._pendingAbortRequest;\n  stream._pendingAbortRequest = undefined;\n\n  if (abortRequest._wasAlreadyErroring === true) {\n    abortRequest._reject(storedError);\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  var promise = stream._writableStreamController.__abortSteps(abortRequest._reason);\n  promise.then(function () {\n    abortRequest._resolve();\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n  }, function (reason) {\n    abortRequest._reject(reason);\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n  });\n}\n\nfunction WritableStreamFinishInFlightWrite(stream) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._resolve(undefined);\n  stream._inFlightWriteRequest = undefined;\n}\n\nfunction WritableStreamFinishInFlightWriteWithError(stream, error) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._reject(error);\n  stream._inFlightWriteRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  WritableStreamDealWithRejection(stream, error);\n}\n\nfunction WritableStreamFinishInFlightClose(stream) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._resolve(undefined);\n  stream._inFlightCloseRequest = undefined;\n\n  var state = stream._state;\n\n  assert(state === 'writable' || state === 'erroring');\n\n  if (state === 'erroring') {\n    // The error was too late to do anything, so it is ignored.\n    stream._storedError = undefined;\n    if (stream._pendingAbortRequest !== undefined) {\n      stream._pendingAbortRequest._resolve();\n      stream._pendingAbortRequest = undefined;\n    }\n  }\n\n  stream._state = 'closed';\n\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseResolve(writer);\n  }\n\n  assert(stream._pendingAbortRequest === undefined, 'stream._pendingAbortRequest === undefined');\n  assert(stream._storedError === undefined, 'stream._storedError === undefined');\n}\n\nfunction WritableStreamFinishInFlightCloseWithError(stream, error) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._reject(error);\n  stream._inFlightCloseRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  // Never execute sink abort() after sink close().\n  if (stream._pendingAbortRequest !== undefined) {\n    stream._pendingAbortRequest._reject(error);\n    stream._pendingAbortRequest = undefined;\n  }\n  WritableStreamDealWithRejection(stream, error);\n}\n\n// TODO(ricea): Fix alphabetical order.\nfunction WritableStreamCloseQueuedOrInFlight(stream) {\n  if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamHasOperationMarkedInFlight(stream) {\n  if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamMarkCloseRequestInFlight(stream) {\n  assert(stream._inFlightCloseRequest === undefined);\n  assert(stream._closeRequest !== undefined);\n  stream._inFlightCloseRequest = stream._closeRequest;\n  stream._closeRequest = undefined;\n}\n\nfunction WritableStreamMarkFirstWriteRequestInFlight(stream) {\n  assert(stream._inFlightWriteRequest === undefined, 'there must be no pending write request');\n  assert(stream._writeRequests.length !== 0, 'writeRequests must not be empty');\n  stream._inFlightWriteRequest = stream._writeRequests.shift();\n}\n\nfunction WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n  assert(stream._state === 'errored', '_stream_.[[state]] is `\"errored\"`');\n  if (stream._closeRequest !== undefined) {\n    assert(stream._inFlightCloseRequest === undefined);\n\n    stream._closeRequest._reject(stream._storedError);\n    stream._closeRequest = undefined;\n  }\n  var writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseReject(writer, stream._storedError);\n    writer._closedPromise.catch(function () {});\n  }\n}\n\nfunction WritableStreamUpdateBackpressure(stream, backpressure) {\n  assert(stream._state === 'writable');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  var writer = stream._writer;\n  if (writer !== undefined && backpressure !== stream._backpressure) {\n    if (backpressure === true) {\n      defaultWriterReadyPromiseReset(writer);\n    } else {\n      assert(backpressure === false);\n\n      defaultWriterReadyPromiseResolve(writer);\n    }\n  }\n\n  stream._backpressure = backpressure;\n}\n\nvar WritableStreamDefaultWriter = function () {\n  function WritableStreamDefaultWriter(stream) {\n    _classCallCheck(this, WritableStreamDefaultWriter);\n\n    if (IsWritableStream(stream) === false) {\n      throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');\n    }\n    if (IsWritableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n    }\n\n    this._ownerWritableStream = stream;\n    stream._writer = this;\n\n    var state = stream._state;\n\n    if (state === 'writable') {\n      if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._backpressure === true) {\n        defaultWriterReadyPromiseInitialize(this);\n      } else {\n        defaultWriterReadyPromiseInitializeAsResolved(this);\n      }\n\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'erroring') {\n      defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n      this._readyPromise.catch(function () {});\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'closed') {\n      defaultWriterReadyPromiseInitializeAsResolved(this);\n      defaultWriterClosedPromiseInitializeAsResolved(this);\n    } else {\n      assert(state === 'errored', 'state must be errored');\n\n      var storedError = stream._storedError;\n      defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n      this._readyPromise.catch(function () {});\n      defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n      this._closedPromise.catch(function () {});\n    }\n  }\n\n  _createClass(WritableStreamDefaultWriter, [{\n    key: 'abort',\n    value: function abort(reason) {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('abort'));\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        return Promise.reject(defaultWriterLockException('abort'));\n      }\n\n      return WritableStreamDefaultWriterAbort(this, reason);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('close'));\n      }\n\n      var stream = this._ownerWritableStream;\n\n      if (stream === undefined) {\n        return Promise.reject(defaultWriterLockException('close'));\n      }\n\n      if (WritableStreamCloseQueuedOrInFlight(stream) === true) {\n        return Promise.reject(new TypeError('cannot close an already-closing stream'));\n      }\n\n      return WritableStreamDefaultWriterClose(this);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        throw defaultWriterBrandCheckException('releaseLock');\n      }\n\n      var stream = this._ownerWritableStream;\n\n      if (stream === undefined) {\n        return;\n      }\n\n      assert(stream._writer !== undefined);\n\n      WritableStreamDefaultWriterRelease(this);\n    }\n  }, {\n    key: 'write',\n    value: function write(chunk) {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('write'));\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        return Promise.reject(defaultWriterLockException('write to'));\n      }\n\n      return WritableStreamDefaultWriterWrite(this, chunk);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        throw defaultWriterBrandCheckException('desiredSize');\n      }\n\n      if (this._ownerWritableStream === undefined) {\n        throw defaultWriterLockException('desiredSize');\n      }\n\n      return WritableStreamDefaultWriterGetDesiredSize(this);\n    }\n  }, {\n    key: 'ready',\n    get: function get() {\n      if (IsWritableStreamDefaultWriter(this) === false) {\n        return Promise.reject(defaultWriterBrandCheckException('ready'));\n      }\n\n      return this._readyPromise;\n    }\n  }]);\n\n  return WritableStreamDefaultWriter;\n}();\n\n// Abstract operations for the WritableStreamDefaultWriter.\n\nfunction IsWritableStreamDefaultWriter(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n    return false;\n  }\n\n  return true;\n}\n\n// A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultWriterAbort(writer, reason) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  return WritableStreamAbort(stream, reason);\n}\n\nfunction WritableStreamDefaultWriterClose(writer) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return Promise.reject(new TypeError('The stream (in ' + state + ' state) is not in the writable state and cannot be closed'));\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  var promise = new Promise(function (resolve, reject) {\n    var closeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._closeRequest = closeRequest;\n  });\n\n  if (stream._backpressure === true && state === 'writable') {\n    defaultWriterReadyPromiseResolve(writer);\n  }\n\n  WritableStreamDefaultControllerClose(stream._writableStreamController);\n\n  return promise;\n}\n\nfunction WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var state = stream._state;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.resolve();\n  }\n\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n\n  return WritableStreamDefaultWriterClose(writer);\n}\n\nfunction WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n  if (writer._closedPromiseState === 'pending') {\n    defaultWriterClosedPromiseReject(writer, error);\n  } else {\n    defaultWriterClosedPromiseResetToRejected(writer, error);\n  }\n  writer._closedPromise.catch(function () {});\n}\n\nfunction WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n  if (writer._readyPromiseState === 'pending') {\n    defaultWriterReadyPromiseReject(writer, error);\n  } else {\n    defaultWriterReadyPromiseResetToRejected(writer, error);\n  }\n  writer._readyPromise.catch(function () {});\n}\n\nfunction WritableStreamDefaultWriterGetDesiredSize(writer) {\n  var stream = writer._ownerWritableStream;\n  var state = stream._state;\n\n  if (state === 'errored' || state === 'erroring') {\n    return null;\n  }\n\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n}\n\nfunction WritableStreamDefaultWriterRelease(writer) {\n  var stream = writer._ownerWritableStream;\n  assert(stream !== undefined);\n  assert(stream._writer === writer);\n\n  var releasedError = new TypeError('Writer was released and can no longer be used to monitor the stream\\'s closedness');\n\n  WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n\n  // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n  // rejected until afterwards. This means that simply testing state will not work.\n  WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n\n  stream._writer = undefined;\n  writer._ownerWritableStream = undefined;\n}\n\nfunction WritableStreamDefaultWriterWrite(writer, chunk) {\n  var stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  var controller = stream._writableStreamController;\n\n  var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n\n  if (stream !== writer._ownerWritableStream) {\n    return Promise.reject(defaultWriterLockException('write to'));\n  }\n\n  var state = stream._state;\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.reject(new TypeError('The stream is closing or closed and cannot be written to'));\n  }\n  if (state === 'erroring') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable');\n\n  var promise = WritableStreamAddWriteRequest(stream);\n\n  WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n\n  return promise;\n}\n\nvar WritableStreamDefaultController = function () {\n  function WritableStreamDefaultController(stream, underlyingSink, size, highWaterMark) {\n    _classCallCheck(this, WritableStreamDefaultController);\n\n    if (IsWritableStream(stream) === false) {\n      throw new TypeError('WritableStreamDefaultController can only be constructed with a WritableStream instance');\n    }\n\n    if (stream._writableStreamController !== undefined) {\n      throw new TypeError('WritableStreamDefaultController instances can only be created by the WritableStream constructor');\n    }\n\n    this._controlledWritableStream = stream;\n\n    this._underlyingSink = underlyingSink;\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = undefined;\n    this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._started = false;\n\n    var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n    this._strategySize = normalizedStrategy.size;\n    this._strategyHWM = normalizedStrategy.highWaterMark;\n\n    var backpressure = WritableStreamDefaultControllerGetBackpressure(this);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n  }\n\n  _createClass(WritableStreamDefaultController, [{\n    key: 'error',\n    value: function error(e) {\n      if (IsWritableStreamDefaultController(this) === false) {\n        throw new TypeError('WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');\n      }\n      var state = this._controlledWritableStream._state;\n      if (state !== 'writable') {\n        // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n        // just treat it as a no-op.\n        return;\n      }\n\n      WritableStreamDefaultControllerError(this, e);\n    }\n  }, {\n    key: '__abortSteps',\n    value: function __abortSteps(reason) {\n      return PromiseInvokeOrNoop(this._underlyingSink, 'abort', [reason]);\n    }\n  }, {\n    key: '__errorSteps',\n    value: function __errorSteps() {\n      ResetQueue(this);\n    }\n  }, {\n    key: '__startSteps',\n    value: function __startSteps() {\n      var _this = this;\n\n      var startResult = InvokeOrNoop(this._underlyingSink, 'start', [this]);\n      var stream = this._controlledWritableStream;\n\n      Promise.resolve(startResult).then(function () {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        _this._started = true;\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(_this);\n      }, function (r) {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        _this._started = true;\n        WritableStreamDealWithRejection(stream, r);\n      }).catch(rethrowAssertionErrorRejection);\n    }\n  }]);\n\n  return WritableStreamDefaultController;\n}();\n\n// Abstract operations implementing interface required by the WritableStream.\n\nfunction WritableStreamDefaultControllerClose(controller) {\n  EnqueueValueWithSize(controller, 'close', 0);\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\nfunction WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n  var strategySize = controller._strategySize;\n\n  if (strategySize === undefined) {\n    return 1;\n  }\n\n  try {\n    return strategySize(chunk);\n  } catch (chunkSizeE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n    return 1;\n  }\n}\n\nfunction WritableStreamDefaultControllerGetDesiredSize(controller) {\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n  var writeRecord = { chunk: chunk };\n\n  try {\n    EnqueueValueWithSize(controller, writeRecord, chunkSize);\n  } catch (enqueueE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n    return;\n  }\n\n  var stream = controller._controlledWritableStream;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._state === 'writable') {\n    var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n  }\n\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\n// Abstract operations for the WritableStreamDefaultController.\n\nfunction IsWritableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSink')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n  var stream = controller._controlledWritableStream;\n\n  if (controller._started === false) {\n    return;\n  }\n\n  if (stream._inFlightWriteRequest !== undefined) {\n    return;\n  }\n\n  var state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return;\n  }\n  if (state === 'erroring') {\n    WritableStreamFinishErroring(stream);\n    return;\n  }\n\n  if (controller._queue.length === 0) {\n    return;\n  }\n\n  var writeRecord = PeekQueueValue(controller);\n  if (writeRecord === 'close') {\n    WritableStreamDefaultControllerProcessClose(controller);\n  } else {\n    WritableStreamDefaultControllerProcessWrite(controller, writeRecord.chunk);\n  }\n}\n\nfunction WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n  if (controller._controlledWritableStream._state === 'writable') {\n    WritableStreamDefaultControllerError(controller, error);\n  }\n}\n\nfunction WritableStreamDefaultControllerProcessClose(controller) {\n  var stream = controller._controlledWritableStream;\n\n  WritableStreamMarkCloseRequestInFlight(stream);\n\n  DequeueValue(controller);\n  assert(controller._queue.length === 0, 'queue must be empty once the final write record is dequeued');\n\n  var sinkClosePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'close', []);\n  sinkClosePromise.then(function () {\n    WritableStreamFinishInFlightClose(stream);\n  }, function (reason) {\n    WritableStreamFinishInFlightCloseWithError(stream, reason);\n  }).catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n  var stream = controller._controlledWritableStream;\n\n  WritableStreamMarkFirstWriteRequestInFlight(stream);\n\n  var sinkWritePromise = PromiseInvokeOrNoop(controller._underlyingSink, 'write', [chunk, controller]);\n  sinkWritePromise.then(function () {\n    WritableStreamFinishInFlightWrite(stream);\n\n    var state = stream._state;\n    assert(state === 'writable' || state === 'erroring');\n\n    DequeueValue(controller);\n\n    if (WritableStreamCloseQueuedOrInFlight(stream) === false && state === 'writable') {\n      var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n      WritableStreamUpdateBackpressure(stream, backpressure);\n    }\n\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n  }, function (reason) {\n    WritableStreamFinishInFlightWriteWithError(stream, reason);\n  }).catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerGetBackpressure(controller) {\n  var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n  return desiredSize <= 0;\n}\n\n// A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultControllerError(controller, error) {\n  var stream = controller._controlledWritableStream;\n\n  assert(stream._state === 'writable');\n\n  WritableStreamStartErroring(stream, error);\n}\n\n// Helper functions for the WritableStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('WritableStream.prototype.' + name + ' can only be used on a WritableStream');\n}\n\n// Helper functions for the WritableStreamDefaultWriter.\n\nfunction defaultWriterBrandCheckException(name) {\n  return new TypeError('WritableStreamDefaultWriter.prototype.' + name + ' can only be used on a WritableStreamDefaultWriter');\n}\n\nfunction defaultWriterLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released writer');\n}\n\nfunction defaultWriterClosedPromiseInitialize(writer) {\n  writer._closedPromise = new Promise(function (resolve, reject) {\n    writer._closedPromise_resolve = resolve;\n    writer._closedPromise_reject = reject;\n    writer._closedPromiseState = 'pending';\n  });\n}\n\nfunction defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseInitializeAsResolved(writer) {\n  writer._closedPromise = Promise.resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterClosedPromiseReject(writer, reason) {\n  assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n  assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n  assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n  writer._closedPromise_reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResetToRejected(writer, reason) {\n  assert(writer._closedPromise_resolve === undefined, 'writer._closedPromise_resolve === undefined');\n  assert(writer._closedPromise_reject === undefined, 'writer._closedPromise_reject === undefined');\n  assert(writer._closedPromiseState !== 'pending', 'writer._closedPromiseState is not pending');\n\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResolve(writer) {\n  assert(writer._closedPromise_resolve !== undefined, 'writer._closedPromise_resolve !== undefined');\n  assert(writer._closedPromise_reject !== undefined, 'writer._closedPromise_reject !== undefined');\n  assert(writer._closedPromiseState === 'pending', 'writer._closedPromiseState is pending');\n\n  writer._closedPromise_resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterReadyPromiseInitialize(writer) {\n  writer._readyPromise = new Promise(function (resolve, reject) {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsResolved(writer) {\n  writer._readyPromise = Promise.resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n\nfunction defaultWriterReadyPromiseReject(writer, reason) {\n  assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n  assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n  writer._readyPromise_reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseReset(writer) {\n  assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n  assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n\n  writer._readyPromise = new Promise(function (resolve, reject) {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseResetToRejected(writer, reason) {\n  assert(writer._readyPromise_resolve === undefined, 'writer._readyPromise_resolve === undefined');\n  assert(writer._readyPromise_reject === undefined, 'writer._readyPromise_reject === undefined');\n\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseResolve(writer) {\n  assert(writer._readyPromise_resolve !== undefined, 'writer._readyPromise_resolve !== undefined');\n  assert(writer._readyPromise_reject !== undefined, 'writer._readyPromise_reject !== undefined');\n\n  writer._readyPromise_resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _require = __w_pdfjs_require__(0),\n    IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber;\n\nvar _require2 = __w_pdfjs_require__(1),\n    assert = _require2.assert;\n\nexports.DequeueValue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n  assert(container._queue.length > 0, 'Spec-level failure: should never dequeue from an empty queue.');\n\n  var pair = container._queue.shift();\n  container._queueTotalSize -= pair.size;\n  if (container._queueTotalSize < 0) {\n    container._queueTotalSize = 0;\n  }\n\n  return pair.value;\n};\n\nexports.EnqueueValueWithSize = function (container, value, size) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and ' + '[[queueTotalSize]].');\n\n  size = Number(size);\n  if (!IsFiniteNonNegativeNumber(size)) {\n    throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n  }\n\n  container._queue.push({ value: value, size: size });\n  container._queueTotalSize += size;\n};\n\nexports.PeekQueueValue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n  assert(container._queue.length > 0, 'Spec-level failure: should never peek at an empty queue.');\n\n  var pair = container._queue[0];\n  return pair.value;\n};\n\nexports.ResetQueue = function (container) {\n  assert('_queue' in container && '_queueTotalSize' in container, 'Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].');\n\n  container._queue = [];\n  container._queueTotalSize = 0;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(0),\n    ArrayBufferCopy = _require.ArrayBufferCopy,\n    CreateIterResultObject = _require.CreateIterResultObject,\n    IsFiniteNonNegativeNumber = _require.IsFiniteNonNegativeNumber,\n    InvokeOrNoop = _require.InvokeOrNoop,\n    PromiseInvokeOrNoop = _require.PromiseInvokeOrNoop,\n    TransferArrayBuffer = _require.TransferArrayBuffer,\n    ValidateAndNormalizeQueuingStrategy = _require.ValidateAndNormalizeQueuingStrategy,\n    ValidateAndNormalizeHighWaterMark = _require.ValidateAndNormalizeHighWaterMark;\n\nvar _require2 = __w_pdfjs_require__(0),\n    createArrayFromList = _require2.createArrayFromList,\n    createDataProperty = _require2.createDataProperty,\n    typeIsObject = _require2.typeIsObject;\n\nvar _require3 = __w_pdfjs_require__(1),\n    assert = _require3.assert,\n    rethrowAssertionErrorRejection = _require3.rethrowAssertionErrorRejection;\n\nvar _require4 = __w_pdfjs_require__(3),\n    DequeueValue = _require4.DequeueValue,\n    EnqueueValueWithSize = _require4.EnqueueValueWithSize,\n    ResetQueue = _require4.ResetQueue;\n\nvar _require5 = __w_pdfjs_require__(2),\n    AcquireWritableStreamDefaultWriter = _require5.AcquireWritableStreamDefaultWriter,\n    IsWritableStream = _require5.IsWritableStream,\n    IsWritableStreamLocked = _require5.IsWritableStreamLocked,\n    WritableStreamAbort = _require5.WritableStreamAbort,\n    WritableStreamDefaultWriterCloseWithErrorPropagation = _require5.WritableStreamDefaultWriterCloseWithErrorPropagation,\n    WritableStreamDefaultWriterRelease = _require5.WritableStreamDefaultWriterRelease,\n    WritableStreamDefaultWriterWrite = _require5.WritableStreamDefaultWriterWrite,\n    WritableStreamCloseQueuedOrInFlight = _require5.WritableStreamCloseQueuedOrInFlight;\n\nvar ReadableStream = function () {\n  function ReadableStream() {\n    var underlyingSource = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        size = _ref.size,\n        highWaterMark = _ref.highWaterMark;\n\n    _classCallCheck(this, ReadableStream);\n\n    // Exposed to controllers.\n    this._state = 'readable';\n\n    this._reader = undefined;\n    this._storedError = undefined;\n\n    this._disturbed = false;\n\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    this._readableStreamController = undefined;\n    var type = underlyingSource.type;\n    var typeString = String(type);\n    if (typeString === 'bytes') {\n      if (highWaterMark === undefined) {\n        highWaterMark = 0;\n      }\n      this._readableStreamController = new ReadableByteStreamController(this, underlyingSource, highWaterMark);\n    } else if (type === undefined) {\n      if (highWaterMark === undefined) {\n        highWaterMark = 1;\n      }\n      this._readableStreamController = new ReadableStreamDefaultController(this, underlyingSource, size, highWaterMark);\n    } else {\n      throw new RangeError('Invalid type is specified');\n    }\n  }\n\n  _createClass(ReadableStream, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (IsReadableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('cancel'));\n      }\n\n      if (IsReadableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('Cannot cancel a stream that already has a reader'));\n      }\n\n      return ReadableStreamCancel(this, reason);\n    }\n  }, {\n    key: 'getReader',\n    value: function getReader() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          mode = _ref2.mode;\n\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('getReader');\n      }\n\n      if (mode === undefined) {\n        return AcquireReadableStreamDefaultReader(this);\n      }\n\n      mode = String(mode);\n\n      if (mode === 'byob') {\n        return AcquireReadableStreamBYOBReader(this);\n      }\n\n      throw new RangeError('Invalid mode is specified');\n    }\n  }, {\n    key: 'pipeThrough',\n    value: function pipeThrough(_ref3, options) {\n      var writable = _ref3.writable,\n          readable = _ref3.readable;\n\n      var promise = this.pipeTo(writable, options);\n\n      ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise);\n\n      return readable;\n    }\n  }, {\n    key: 'pipeTo',\n    value: function pipeTo(dest) {\n      var _this = this;\n\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          preventClose = _ref4.preventClose,\n          preventAbort = _ref4.preventAbort,\n          preventCancel = _ref4.preventCancel;\n\n      if (IsReadableStream(this) === false) {\n        return Promise.reject(streamBrandCheckException('pipeTo'));\n      }\n      if (IsWritableStream(dest) === false) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo\\'s first argument must be a WritableStream'));\n      }\n\n      preventClose = Boolean(preventClose);\n      preventAbort = Boolean(preventAbort);\n      preventCancel = Boolean(preventCancel);\n\n      if (IsReadableStreamLocked(this) === true) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n      }\n      if (IsWritableStreamLocked(dest) === true) {\n        return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n      }\n\n      var reader = AcquireReadableStreamDefaultReader(this);\n      var writer = AcquireWritableStreamDefaultWriter(dest);\n\n      var shuttingDown = false;\n\n      // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n      var currentWrite = Promise.resolve();\n\n      return new Promise(function (resolve, reject) {\n        // Using reader and writer, read all chunks from this and write them to dest\n        // - Backpressure must be enforced\n        // - Shutdown must stop all activity\n        function pipeLoop() {\n          currentWrite = Promise.resolve();\n\n          if (shuttingDown === true) {\n            return Promise.resolve();\n          }\n\n          return writer._readyPromise.then(function () {\n            return ReadableStreamDefaultReaderRead(reader).then(function (_ref5) {\n              var value = _ref5.value,\n                  done = _ref5.done;\n\n              if (done === true) {\n                return;\n              }\n\n              currentWrite = WritableStreamDefaultWriterWrite(writer, value).catch(function () {});\n            });\n          }).then(pipeLoop);\n        }\n\n        // Errors must be propagated forward\n        isOrBecomesErrored(_this, reader._closedPromise, function (storedError) {\n          if (preventAbort === false) {\n            shutdownWithAction(function () {\n              return WritableStreamAbort(dest, storedError);\n            }, true, storedError);\n          } else {\n            shutdown(true, storedError);\n          }\n        });\n\n        // Errors must be propagated backward\n        isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n          if (preventCancel === false) {\n            shutdownWithAction(function () {\n              return ReadableStreamCancel(_this, storedError);\n            }, true, storedError);\n          } else {\n            shutdown(true, storedError);\n          }\n        });\n\n        // Closing must be propagated forward\n        isOrBecomesClosed(_this, reader._closedPromise, function () {\n          if (preventClose === false) {\n            shutdownWithAction(function () {\n              return WritableStreamDefaultWriterCloseWithErrorPropagation(writer);\n            });\n          } else {\n            shutdown();\n          }\n        });\n\n        // Closing must be propagated backward\n        if (WritableStreamCloseQueuedOrInFlight(dest) === true || dest._state === 'closed') {\n          var destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n\n          if (preventCancel === false) {\n            shutdownWithAction(function () {\n              return ReadableStreamCancel(_this, destClosed);\n            }, true, destClosed);\n          } else {\n            shutdown(true, destClosed);\n          }\n        }\n\n        pipeLoop().catch(function (err) {\n          currentWrite = Promise.resolve();\n          rethrowAssertionErrorRejection(err);\n        });\n\n        function waitForWritesToFinish() {\n          // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n          // for that too.\n          var oldCurrentWrite = currentWrite;\n          return currentWrite.then(function () {\n            return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined;\n          });\n        }\n\n        function isOrBecomesErrored(stream, promise, action) {\n          if (stream._state === 'errored') {\n            action(stream._storedError);\n          } else {\n            promise.catch(action).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function isOrBecomesClosed(stream, promise, action) {\n          if (stream._state === 'closed') {\n            action();\n          } else {\n            promise.then(action).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function shutdownWithAction(action, originalIsError, originalError) {\n          if (shuttingDown === true) {\n            return;\n          }\n          shuttingDown = true;\n\n          if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n            waitForWritesToFinish().then(doTheRest);\n          } else {\n            doTheRest();\n          }\n\n          function doTheRest() {\n            action().then(function () {\n              return finalize(originalIsError, originalError);\n            }, function (newError) {\n              return finalize(true, newError);\n            }).catch(rethrowAssertionErrorRejection);\n          }\n        }\n\n        function shutdown(isError, error) {\n          if (shuttingDown === true) {\n            return;\n          }\n          shuttingDown = true;\n\n          if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n            waitForWritesToFinish().then(function () {\n              return finalize(isError, error);\n            }).catch(rethrowAssertionErrorRejection);\n          } else {\n            finalize(isError, error);\n          }\n        }\n\n        function finalize(isError, error) {\n          WritableStreamDefaultWriterRelease(writer);\n          ReadableStreamReaderGenericRelease(reader);\n\n          if (isError) {\n            reject(error);\n          } else {\n            resolve(undefined);\n          }\n        }\n      });\n    }\n  }, {\n    key: 'tee',\n    value: function tee() {\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('tee');\n      }\n\n      var branches = ReadableStreamTee(this, false);\n      return createArrayFromList(branches);\n    }\n  }, {\n    key: 'locked',\n    get: function get() {\n      if (IsReadableStream(this) === false) {\n        throw streamBrandCheckException('locked');\n      }\n\n      return IsReadableStreamLocked(this);\n    }\n  }]);\n\n  return ReadableStream;\n}();\n\nmodule.exports = {\n  ReadableStream: ReadableStream,\n  IsReadableStreamDisturbed: IsReadableStreamDisturbed,\n  ReadableStreamDefaultControllerClose: ReadableStreamDefaultControllerClose,\n  ReadableStreamDefaultControllerEnqueue: ReadableStreamDefaultControllerEnqueue,\n  ReadableStreamDefaultControllerError: ReadableStreamDefaultControllerError,\n  ReadableStreamDefaultControllerGetDesiredSize: ReadableStreamDefaultControllerGetDesiredSize\n};\n\n// Abstract operations for the ReadableStream.\n\nfunction AcquireReadableStreamBYOBReader(stream) {\n  return new ReadableStreamBYOBReader(stream);\n}\n\nfunction AcquireReadableStreamDefaultReader(stream) {\n  return new ReadableStreamDefaultReader(stream);\n}\n\nfunction IsReadableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDisturbed(stream) {\n  assert(IsReadableStream(stream) === true, 'IsReadableStreamDisturbed should only be used on known readable streams');\n\n  return stream._disturbed;\n}\n\nfunction IsReadableStreamLocked(stream) {\n  assert(IsReadableStream(stream) === true, 'IsReadableStreamLocked should only be used on known readable streams');\n\n  if (stream._reader === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamTee(stream, cloneForBranch2) {\n  assert(IsReadableStream(stream) === true);\n  assert(typeof cloneForBranch2 === 'boolean');\n\n  var reader = AcquireReadableStreamDefaultReader(stream);\n\n  var teeState = {\n    closedOrErrored: false,\n    canceled1: false,\n    canceled2: false,\n    reason1: undefined,\n    reason2: undefined\n  };\n  teeState.promise = new Promise(function (resolve) {\n    teeState._resolve = resolve;\n  });\n\n  var pull = create_ReadableStreamTeePullFunction();\n  pull._reader = reader;\n  pull._teeState = teeState;\n  pull._cloneForBranch2 = cloneForBranch2;\n\n  var cancel1 = create_ReadableStreamTeeBranch1CancelFunction();\n  cancel1._stream = stream;\n  cancel1._teeState = teeState;\n\n  var cancel2 = create_ReadableStreamTeeBranch2CancelFunction();\n  cancel2._stream = stream;\n  cancel2._teeState = teeState;\n\n  var underlyingSource1 = Object.create(Object.prototype);\n  createDataProperty(underlyingSource1, 'pull', pull);\n  createDataProperty(underlyingSource1, 'cancel', cancel1);\n  var branch1Stream = new ReadableStream(underlyingSource1);\n\n  var underlyingSource2 = Object.create(Object.prototype);\n  createDataProperty(underlyingSource2, 'pull', pull);\n  createDataProperty(underlyingSource2, 'cancel', cancel2);\n  var branch2Stream = new ReadableStream(underlyingSource2);\n\n  pull._branch1 = branch1Stream._readableStreamController;\n  pull._branch2 = branch2Stream._readableStreamController;\n\n  reader._closedPromise.catch(function (r) {\n    if (teeState.closedOrErrored === true) {\n      return;\n    }\n\n    ReadableStreamDefaultControllerError(pull._branch1, r);\n    ReadableStreamDefaultControllerError(pull._branch2, r);\n    teeState.closedOrErrored = true;\n  });\n\n  return [branch1Stream, branch2Stream];\n}\n\nfunction create_ReadableStreamTeePullFunction() {\n  function f() {\n    var reader = f._reader,\n        branch1 = f._branch1,\n        branch2 = f._branch2,\n        teeState = f._teeState;\n\n\n    return ReadableStreamDefaultReaderRead(reader).then(function (result) {\n      assert(typeIsObject(result));\n      var value = result.value;\n      var done = result.done;\n      assert(typeof done === 'boolean');\n\n      if (done === true && teeState.closedOrErrored === false) {\n        if (teeState.canceled1 === false) {\n          ReadableStreamDefaultControllerClose(branch1);\n        }\n        if (teeState.canceled2 === false) {\n          ReadableStreamDefaultControllerClose(branch2);\n        }\n        teeState.closedOrErrored = true;\n      }\n\n      if (teeState.closedOrErrored === true) {\n        return;\n      }\n\n      var value1 = value;\n      var value2 = value;\n\n      // There is no way to access the cloning code right now in the reference implementation.\n      // If we add one then we'll need an implementation for serializable objects.\n      // if (teeState.canceled2 === false && cloneForBranch2 === true) {\n      //   value2 = StructuredDeserialize(StructuredSerialize(value2));\n      // }\n\n      if (teeState.canceled1 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch1, value1);\n      }\n\n      if (teeState.canceled2 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch2, value2);\n      }\n    });\n  }\n  return f;\n}\n\nfunction create_ReadableStreamTeeBranch1CancelFunction() {\n  function f(reason) {\n    var stream = f._stream,\n        teeState = f._teeState;\n\n\n    teeState.canceled1 = true;\n    teeState.reason1 = reason;\n    if (teeState.canceled2 === true) {\n      var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n      var cancelResult = ReadableStreamCancel(stream, compositeReason);\n      teeState._resolve(cancelResult);\n    }\n    return teeState.promise;\n  }\n  return f;\n}\n\nfunction create_ReadableStreamTeeBranch2CancelFunction() {\n  function f(reason) {\n    var stream = f._stream,\n        teeState = f._teeState;\n\n\n    teeState.canceled2 = true;\n    teeState.reason2 = reason;\n    if (teeState.canceled1 === true) {\n      var compositeReason = createArrayFromList([teeState.reason1, teeState.reason2]);\n      var cancelResult = ReadableStreamCancel(stream, compositeReason);\n      teeState._resolve(cancelResult);\n    }\n    return teeState.promise;\n  }\n  return f;\n}\n\n// ReadableStream API exposed for controllers.\n\nfunction ReadableStreamAddReadIntoRequest(stream) {\n  assert(IsReadableStreamBYOBReader(stream._reader) === true);\n  assert(stream._state === 'readable' || stream._state === 'closed');\n\n  var promise = new Promise(function (resolve, reject) {\n    var readIntoRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._reader._readIntoRequests.push(readIntoRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamAddReadRequest(stream) {\n  assert(IsReadableStreamDefaultReader(stream._reader) === true);\n  assert(stream._state === 'readable');\n\n  var promise = new Promise(function (resolve, reject) {\n    var readRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._reader._readRequests.push(readRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamCancel(stream, reason) {\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(undefined);\n  }\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  ReadableStreamClose(stream);\n\n  var sourceCancelPromise = stream._readableStreamController.__cancelSteps(reason);\n  return sourceCancelPromise.then(function () {\n    return undefined;\n  });\n}\n\nfunction ReadableStreamClose(stream) {\n  assert(stream._state === 'readable');\n\n  stream._state = 'closed';\n\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (var i = 0; i < reader._readRequests.length; i++) {\n      var _resolve = reader._readRequests[i]._resolve;\n\n      _resolve(CreateIterResultObject(undefined, true));\n    }\n    reader._readRequests = [];\n  }\n\n  defaultReaderClosedPromiseResolve(reader);\n\n  return undefined;\n}\n\nfunction ReadableStreamError(stream, e) {\n  assert(IsReadableStream(stream) === true, 'stream must be ReadableStream');\n  assert(stream._state === 'readable', 'state must be readable');\n\n  stream._state = 'errored';\n  stream._storedError = e;\n\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (var i = 0; i < reader._readRequests.length; i++) {\n      var readRequest = reader._readRequests[i];\n      readRequest._reject(e);\n    }\n\n    reader._readRequests = [];\n  } else {\n    assert(IsReadableStreamBYOBReader(reader), 'reader must be ReadableStreamBYOBReader');\n\n    for (var _i = 0; _i < reader._readIntoRequests.length; _i++) {\n      var readIntoRequest = reader._readIntoRequests[_i];\n      readIntoRequest._reject(e);\n    }\n\n    reader._readIntoRequests = [];\n  }\n\n  defaultReaderClosedPromiseReject(reader, e);\n  reader._closedPromise.catch(function () {});\n}\n\nfunction ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n  var reader = stream._reader;\n\n  assert(reader._readIntoRequests.length > 0);\n\n  var readIntoRequest = reader._readIntoRequests.shift();\n  readIntoRequest._resolve(CreateIterResultObject(chunk, done));\n}\n\nfunction ReadableStreamFulfillReadRequest(stream, chunk, done) {\n  var reader = stream._reader;\n\n  assert(reader._readRequests.length > 0);\n\n  var readRequest = reader._readRequests.shift();\n  readRequest._resolve(CreateIterResultObject(chunk, done));\n}\n\nfunction ReadableStreamGetNumReadIntoRequests(stream) {\n  return stream._reader._readIntoRequests.length;\n}\n\nfunction ReadableStreamGetNumReadRequests(stream) {\n  return stream._reader._readRequests.length;\n}\n\nfunction ReadableStreamHasBYOBReader(stream) {\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamBYOBReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamHasDefaultReader(stream) {\n  var reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\n// Readers\n\nvar ReadableStreamDefaultReader = function () {\n  function ReadableStreamDefaultReader(stream) {\n    _classCallCheck(this, ReadableStreamDefaultReader);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');\n    }\n    if (IsReadableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readRequests = [];\n  }\n\n  _createClass(ReadableStreamDefaultReader, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('cancel'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('cancel'));\n      }\n\n      return ReadableStreamReaderGenericCancel(this, reason);\n    }\n  }, {\n    key: 'read',\n    value: function read() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('read'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('read from'));\n      }\n\n      return ReadableStreamDefaultReaderRead(this);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        throw defaultReaderBrandCheckException('releaseLock');\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return;\n      }\n\n      if (this._readRequests.length > 0) {\n        throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n      }\n\n      ReadableStreamReaderGenericRelease(this);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (IsReadableStreamDefaultReader(this) === false) {\n        return Promise.reject(defaultReaderBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }]);\n\n  return ReadableStreamDefaultReader;\n}();\n\nvar ReadableStreamBYOBReader = function () {\n  function ReadableStreamBYOBReader(stream) {\n    _classCallCheck(this, ReadableStreamBYOBReader);\n\n    if (!IsReadableStream(stream)) {\n      throw new TypeError('ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a ' + 'byte source');\n    }\n    if (IsReadableByteStreamController(stream._readableStreamController) === false) {\n      throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' + 'source');\n    }\n    if (IsReadableStreamLocked(stream)) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readIntoRequests = [];\n  }\n\n  _createClass(ReadableStreamBYOBReader, [{\n    key: 'cancel',\n    value: function cancel(reason) {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('cancel'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('cancel'));\n      }\n\n      return ReadableStreamReaderGenericCancel(this, reason);\n    }\n  }, {\n    key: 'read',\n    value: function read(view) {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('read'));\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return Promise.reject(readerLockException('read from'));\n      }\n\n      if (!ArrayBuffer.isView(view)) {\n        return Promise.reject(new TypeError('view must be an array buffer view'));\n      }\n\n      if (view.byteLength === 0) {\n        return Promise.reject(new TypeError('view must have non-zero byteLength'));\n      }\n\n      return ReadableStreamBYOBReaderRead(this, view);\n    }\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock() {\n      if (!IsReadableStreamBYOBReader(this)) {\n        throw byobReaderBrandCheckException('releaseLock');\n      }\n\n      if (this._ownerReadableStream === undefined) {\n        return;\n      }\n\n      if (this._readIntoRequests.length > 0) {\n        throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n      }\n\n      ReadableStreamReaderGenericRelease(this);\n    }\n  }, {\n    key: 'closed',\n    get: function get() {\n      if (!IsReadableStreamBYOBReader(this)) {\n        return Promise.reject(byobReaderBrandCheckException('closed'));\n      }\n\n      return this._closedPromise;\n    }\n  }]);\n\n  return ReadableStreamBYOBReader;\n}();\n\n// Abstract operations for the readers.\n\nfunction IsReadableStreamBYOBReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDefaultReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamReaderGenericInitialize(reader, stream) {\n  reader._ownerReadableStream = stream;\n  stream._reader = reader;\n\n  if (stream._state === 'readable') {\n    defaultReaderClosedPromiseInitialize(reader);\n  } else if (stream._state === 'closed') {\n    defaultReaderClosedPromiseInitializeAsResolved(reader);\n  } else {\n    assert(stream._state === 'errored', 'state must be errored');\n\n    defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n    reader._closedPromise.catch(function () {});\n  }\n}\n\n// A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n// check.\n\nfunction ReadableStreamReaderGenericCancel(reader, reason) {\n  var stream = reader._ownerReadableStream;\n  assert(stream !== undefined);\n  return ReadableStreamCancel(stream, reason);\n}\n\nfunction ReadableStreamReaderGenericRelease(reader) {\n  assert(reader._ownerReadableStream !== undefined);\n  assert(reader._ownerReadableStream._reader === reader);\n\n  if (reader._ownerReadableStream._state === 'readable') {\n    defaultReaderClosedPromiseReject(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  } else {\n    defaultReaderClosedPromiseResetToRejected(reader, new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  }\n  reader._closedPromise.catch(function () {});\n\n  reader._ownerReadableStream._reader = undefined;\n  reader._ownerReadableStream = undefined;\n}\n\nfunction ReadableStreamBYOBReaderRead(reader, view) {\n  var stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  // Controllers must implement this.\n  return ReadableByteStreamControllerPullInto(stream._readableStreamController, view);\n}\n\nfunction ReadableStreamDefaultReaderRead(reader) {\n  var stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(CreateIterResultObject(undefined, true));\n  }\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(stream._state === 'readable');\n\n  return stream._readableStreamController.__pullSteps();\n}\n\n// Controllers\n\nvar ReadableStreamDefaultController = function () {\n  function ReadableStreamDefaultController(stream, underlyingSource, size, highWaterMark) {\n    _classCallCheck(this, ReadableStreamDefaultController);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableStreamDefaultController can only be constructed with a ReadableStream instance');\n    }\n\n    if (stream._readableStreamController !== undefined) {\n      throw new TypeError('ReadableStreamDefaultController instances can only be created by the ReadableStream constructor');\n    }\n\n    this._controlledReadableStream = stream;\n\n    this._underlyingSource = underlyingSource;\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = undefined;\n    this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._started = false;\n    this._closeRequested = false;\n    this._pullAgain = false;\n    this._pulling = false;\n\n    var normalizedStrategy = ValidateAndNormalizeQueuingStrategy(size, highWaterMark);\n    this._strategySize = normalizedStrategy.size;\n    this._strategyHWM = normalizedStrategy.highWaterMark;\n\n    var controller = this;\n\n    var startResult = InvokeOrNoop(underlyingSource, 'start', [this]);\n    Promise.resolve(startResult).then(function () {\n      controller._started = true;\n\n      assert(controller._pulling === false);\n      assert(controller._pullAgain === false);\n\n      ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }, function (r) {\n      ReadableStreamDefaultControllerErrorIfNeeded(controller, r);\n    }).catch(rethrowAssertionErrorRejection);\n  }\n\n  _createClass(ReadableStreamDefaultController, [{\n    key: 'close',\n    value: function close() {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('close');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('The stream has already been closed; do not close it again!');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n      }\n\n      ReadableStreamDefaultControllerClose(this);\n    }\n  }, {\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('enqueue');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('stream is closed or draining');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n      }\n\n      return ReadableStreamDefaultControllerEnqueue(this, chunk);\n    }\n  }, {\n    key: 'error',\n    value: function error(e) {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('error');\n      }\n\n      var stream = this._controlledReadableStream;\n      if (stream._state !== 'readable') {\n        throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n      }\n\n      ReadableStreamDefaultControllerError(this, e);\n    }\n  }, {\n    key: '__cancelSteps',\n    value: function __cancelSteps(reason) {\n      ResetQueue(this);\n      return PromiseInvokeOrNoop(this._underlyingSource, 'cancel', [reason]);\n    }\n  }, {\n    key: '__pullSteps',\n    value: function __pullSteps() {\n      var stream = this._controlledReadableStream;\n\n      if (this._queue.length > 0) {\n        var chunk = DequeueValue(this);\n\n        if (this._closeRequested === true && this._queue.length === 0) {\n          ReadableStreamClose(stream);\n        } else {\n          ReadableStreamDefaultControllerCallPullIfNeeded(this);\n        }\n\n        return Promise.resolve(CreateIterResultObject(chunk, false));\n      }\n\n      var pendingPromise = ReadableStreamAddReadRequest(stream);\n      ReadableStreamDefaultControllerCallPullIfNeeded(this);\n      return pendingPromise;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsReadableStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('desiredSize');\n      }\n\n      return ReadableStreamDefaultControllerGetDesiredSize(this);\n    }\n  }]);\n\n  return ReadableStreamDefaultController;\n}();\n\n// Abstract operations for the ReadableStreamDefaultController.\n\nfunction IsReadableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingSource')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n  var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  var pullPromise = PromiseInvokeOrNoop(controller._underlyingSource, 'pull', [controller]);\n  pullPromise.then(function () {\n    controller._pulling = false;\n\n    if (controller._pullAgain === true) {\n      controller._pullAgain = false;\n      return ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    return undefined;\n  }, function (e) {\n    ReadableStreamDefaultControllerErrorIfNeeded(controller, e);\n  }).catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerShouldCallPull(controller) {\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state === 'closed' || stream._state === 'errored') {\n    return false;\n  }\n\n  if (controller._closeRequested === true) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n  if (desiredSize > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction ReadableStreamDefaultControllerClose(controller) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  controller._closeRequested = true;\n\n  if (controller._queue.length === 0) {\n    ReadableStreamClose(stream);\n  }\n}\n\nfunction ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    ReadableStreamFulfillReadRequest(stream, chunk, false);\n  } else {\n    var chunkSize = 1;\n\n    if (controller._strategySize !== undefined) {\n      var strategySize = controller._strategySize;\n      try {\n        chunkSize = strategySize(chunk);\n      } catch (chunkSizeE) {\n        ReadableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n        throw chunkSizeE;\n      }\n    }\n\n    try {\n      EnqueueValueWithSize(controller, chunk, chunkSize);\n    } catch (enqueueE) {\n      ReadableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n      throw enqueueE;\n    }\n  }\n\n  ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerError(controller, e) {\n  var stream = controller._controlledReadableStream;\n\n  assert(stream._state === 'readable');\n\n  ResetQueue(controller);\n\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableStreamDefaultControllerErrorIfNeeded(controller, e) {\n  if (controller._controlledReadableStream._state === 'readable') {\n    ReadableStreamDefaultControllerError(controller, e);\n  }\n}\n\nfunction ReadableStreamDefaultControllerGetDesiredSize(controller) {\n  var stream = controller._controlledReadableStream;\n  var state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nvar ReadableStreamBYOBRequest = function () {\n  function ReadableStreamBYOBRequest(controller, view) {\n    _classCallCheck(this, ReadableStreamBYOBRequest);\n\n    this._associatedReadableByteStreamController = controller;\n    this._view = view;\n  }\n\n  _createClass(ReadableStreamBYOBRequest, [{\n    key: 'respond',\n    value: function respond(bytesWritten) {\n      if (IsReadableStreamBYOBRequest(this) === false) {\n        throw byobRequestBrandCheckException('respond');\n      }\n\n      if (this._associatedReadableByteStreamController === undefined) {\n        throw new TypeError('This BYOB request has been invalidated');\n      }\n\n      ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n    }\n  }, {\n    key: 'respondWithNewView',\n    value: function respondWithNewView(view) {\n      if (IsReadableStreamBYOBRequest(this) === false) {\n        throw byobRequestBrandCheckException('respond');\n      }\n\n      if (this._associatedReadableByteStreamController === undefined) {\n        throw new TypeError('This BYOB request has been invalidated');\n      }\n\n      if (!ArrayBuffer.isView(view)) {\n        throw new TypeError('You can only respond with array buffer views');\n      }\n\n      ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n    }\n  }, {\n    key: 'view',\n    get: function get() {\n      return this._view;\n    }\n  }]);\n\n  return ReadableStreamBYOBRequest;\n}();\n\nvar ReadableByteStreamController = function () {\n  function ReadableByteStreamController(stream, underlyingByteSource, highWaterMark) {\n    _classCallCheck(this, ReadableByteStreamController);\n\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableByteStreamController can only be constructed with a ReadableStream instance given ' + 'a byte source');\n    }\n\n    if (stream._readableStreamController !== undefined) {\n      throw new TypeError('ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte ' + 'source');\n    }\n\n    this._controlledReadableStream = stream;\n\n    this._underlyingByteSource = underlyingByteSource;\n\n    this._pullAgain = false;\n    this._pulling = false;\n\n    ReadableByteStreamControllerClearPendingPullIntos(this);\n\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    this._queue = this._queueTotalSize = undefined;\n    ResetQueue(this);\n\n    this._closeRequested = false;\n    this._started = false;\n\n    this._strategyHWM = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n    var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n    if (autoAllocateChunkSize !== undefined) {\n      if (Number.isInteger(autoAllocateChunkSize) === false || autoAllocateChunkSize <= 0) {\n        throw new RangeError('autoAllocateChunkSize must be a positive integer');\n      }\n    }\n    this._autoAllocateChunkSize = autoAllocateChunkSize;\n\n    this._pendingPullIntos = [];\n\n    var controller = this;\n\n    var startResult = InvokeOrNoop(underlyingByteSource, 'start', [this]);\n    Promise.resolve(startResult).then(function () {\n      controller._started = true;\n\n      assert(controller._pulling === false);\n      assert(controller._pullAgain === false);\n\n      ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }, function (r) {\n      if (stream._state === 'readable') {\n        ReadableByteStreamControllerError(controller, r);\n      }\n    }).catch(rethrowAssertionErrorRejection);\n  }\n\n  _createClass(ReadableByteStreamController, [{\n    key: 'close',\n    value: function close() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('close');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('The stream has already been closed; do not close it again!');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be closed');\n      }\n\n      ReadableByteStreamControllerClose(this);\n    }\n  }, {\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('enqueue');\n      }\n\n      if (this._closeRequested === true) {\n        throw new TypeError('stream is closed or draining');\n      }\n\n      var state = this._controlledReadableStream._state;\n      if (state !== 'readable') {\n        throw new TypeError('The stream (in ' + state + ' state) is not in the readable state and cannot be enqueued to');\n      }\n\n      if (!ArrayBuffer.isView(chunk)) {\n        throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');\n      }\n\n      ReadableByteStreamControllerEnqueue(this, chunk);\n    }\n  }, {\n    key: 'error',\n    value: function error(e) {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('error');\n      }\n\n      var stream = this._controlledReadableStream;\n      if (stream._state !== 'readable') {\n        throw new TypeError('The stream is ' + stream._state + ' and so cannot be errored');\n      }\n\n      ReadableByteStreamControllerError(this, e);\n    }\n  }, {\n    key: '__cancelSteps',\n    value: function __cancelSteps(reason) {\n      if (this._pendingPullIntos.length > 0) {\n        var firstDescriptor = this._pendingPullIntos[0];\n        firstDescriptor.bytesFilled = 0;\n      }\n\n      ResetQueue(this);\n\n      return PromiseInvokeOrNoop(this._underlyingByteSource, 'cancel', [reason]);\n    }\n  }, {\n    key: '__pullSteps',\n    value: function __pullSteps() {\n      var stream = this._controlledReadableStream;\n      assert(ReadableStreamHasDefaultReader(stream) === true);\n\n      if (this._queueTotalSize > 0) {\n        assert(ReadableStreamGetNumReadRequests(stream) === 0);\n\n        var entry = this._queue.shift();\n        this._queueTotalSize -= entry.byteLength;\n\n        ReadableByteStreamControllerHandleQueueDrain(this);\n\n        var view = void 0;\n        try {\n          view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n        } catch (viewE) {\n          return Promise.reject(viewE);\n        }\n\n        return Promise.resolve(CreateIterResultObject(view, false));\n      }\n\n      var autoAllocateChunkSize = this._autoAllocateChunkSize;\n      if (autoAllocateChunkSize !== undefined) {\n        var buffer = void 0;\n        try {\n          buffer = new ArrayBuffer(autoAllocateChunkSize);\n        } catch (bufferE) {\n          return Promise.reject(bufferE);\n        }\n\n        var pullIntoDescriptor = {\n          buffer: buffer,\n          byteOffset: 0,\n          byteLength: autoAllocateChunkSize,\n          bytesFilled: 0,\n          elementSize: 1,\n          ctor: Uint8Array,\n          readerType: 'default'\n        };\n\n        this._pendingPullIntos.push(pullIntoDescriptor);\n      }\n\n      var promise = ReadableStreamAddReadRequest(stream);\n\n      ReadableByteStreamControllerCallPullIfNeeded(this);\n\n      return promise;\n    }\n  }, {\n    key: 'byobRequest',\n    get: function get() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('byobRequest');\n      }\n\n      if (this._byobRequest === undefined && this._pendingPullIntos.length > 0) {\n        var firstDescriptor = this._pendingPullIntos[0];\n        var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n\n        this._byobRequest = new ReadableStreamBYOBRequest(this, view);\n      }\n\n      return this._byobRequest;\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsReadableByteStreamController(this) === false) {\n        throw byteStreamControllerBrandCheckException('desiredSize');\n      }\n\n      return ReadableByteStreamControllerGetDesiredSize(this);\n    }\n  }]);\n\n  return ReadableByteStreamController;\n}();\n\n// Abstract operations for the ReadableByteStreamController.\n\nfunction IsReadableByteStreamController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_underlyingByteSource')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamBYOBRequest(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableByteStreamControllerCallPullIfNeeded(controller) {\n  var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  // TODO: Test controller argument\n  var pullPromise = PromiseInvokeOrNoop(controller._underlyingByteSource, 'pull', [controller]);\n  pullPromise.then(function () {\n    controller._pulling = false;\n\n    if (controller._pullAgain === true) {\n      controller._pullAgain = false;\n      ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n  }, function (e) {\n    if (controller._controlledReadableStream._state === 'readable') {\n      ReadableByteStreamControllerError(controller, e);\n    }\n  }).catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableByteStreamControllerClearPendingPullIntos(controller) {\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  controller._pendingPullIntos = [];\n}\n\nfunction ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n  assert(stream._state !== 'errored', 'state must not be errored');\n\n  var done = false;\n  if (stream._state === 'closed') {\n    assert(pullIntoDescriptor.bytesFilled === 0);\n    done = true;\n  }\n\n  var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n  if (pullIntoDescriptor.readerType === 'default') {\n    ReadableStreamFulfillReadRequest(stream, filledView, done);\n  } else {\n    assert(pullIntoDescriptor.readerType === 'byob');\n    ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n  }\n}\n\nfunction ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n  var bytesFilled = pullIntoDescriptor.bytesFilled;\n  var elementSize = pullIntoDescriptor.elementSize;\n\n  assert(bytesFilled <= pullIntoDescriptor.byteLength);\n  assert(bytesFilled % elementSize === 0);\n\n  return new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n}\n\nfunction ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n  controller._queue.push({ buffer: buffer, byteOffset: byteOffset, byteLength: byteLength });\n  controller._queueTotalSize += byteLength;\n}\n\nfunction ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n  var elementSize = pullIntoDescriptor.elementSize;\n\n  var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n\n  var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n  var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n  var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n\n  var totalBytesToCopyRemaining = maxBytesToCopy;\n  var ready = false;\n  if (maxAlignedBytes > currentAlignedBytes) {\n    totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n    ready = true;\n  }\n\n  var queue = controller._queue;\n\n  while (totalBytesToCopyRemaining > 0) {\n    var headOfQueue = queue[0];\n\n    var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n\n    var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    ArrayBufferCopy(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n\n    if (headOfQueue.byteLength === bytesToCopy) {\n      queue.shift();\n    } else {\n      headOfQueue.byteOffset += bytesToCopy;\n      headOfQueue.byteLength -= bytesToCopy;\n    }\n    controller._queueTotalSize -= bytesToCopy;\n\n    ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n\n    totalBytesToCopyRemaining -= bytesToCopy;\n  }\n\n  if (ready === false) {\n    assert(controller._queueTotalSize === 0, 'queue must be empty');\n    assert(pullIntoDescriptor.bytesFilled > 0);\n    assert(pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize);\n  }\n\n  return ready;\n}\n\nfunction ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n  assert(controller._pendingPullIntos.length === 0 || controller._pendingPullIntos[0] === pullIntoDescriptor);\n\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  pullIntoDescriptor.bytesFilled += size;\n}\n\nfunction ReadableByteStreamControllerHandleQueueDrain(controller) {\n  assert(controller._controlledReadableStream._state === 'readable');\n\n  if (controller._queueTotalSize === 0 && controller._closeRequested === true) {\n    ReadableStreamClose(controller._controlledReadableStream);\n  } else {\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n  }\n}\n\nfunction ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n  if (controller._byobRequest === undefined) {\n    return;\n  }\n\n  controller._byobRequest._associatedReadableByteStreamController = undefined;\n  controller._byobRequest._view = undefined;\n  controller._byobRequest = undefined;\n}\n\nfunction ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n  assert(controller._closeRequested === false);\n\n  while (controller._pendingPullIntos.length > 0) {\n    if (controller._queueTotalSize === 0) {\n      return;\n    }\n\n    var pullIntoDescriptor = controller._pendingPullIntos[0];\n\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n      ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerPullInto(controller, view) {\n  var stream = controller._controlledReadableStream;\n\n  var elementSize = 1;\n  if (view.constructor !== DataView) {\n    elementSize = view.constructor.BYTES_PER_ELEMENT;\n  }\n\n  var ctor = view.constructor;\n\n  var pullIntoDescriptor = {\n    buffer: view.buffer,\n    byteOffset: view.byteOffset,\n    byteLength: view.byteLength,\n    bytesFilled: 0,\n    elementSize: elementSize,\n    ctor: ctor,\n    readerType: 'byob'\n  };\n\n  if (controller._pendingPullIntos.length > 0) {\n    pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n    controller._pendingPullIntos.push(pullIntoDescriptor);\n\n    // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n    // - No change happens on desiredSize\n    // - The source has already been notified of that there's at least 1 pending read(view)\n\n    return ReadableStreamAddReadIntoRequest(stream);\n  }\n\n  if (stream._state === 'closed') {\n    var emptyView = new view.constructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n    return Promise.resolve(CreateIterResultObject(emptyView, true));\n  }\n\n  if (controller._queueTotalSize > 0) {\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n\n      ReadableByteStreamControllerHandleQueueDrain(controller);\n\n      return Promise.resolve(CreateIterResultObject(filledView, false));\n    }\n\n    if (controller._closeRequested === true) {\n      var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      return Promise.reject(e);\n    }\n  }\n\n  pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n  controller._pendingPullIntos.push(pullIntoDescriptor);\n\n  var promise = ReadableStreamAddReadIntoRequest(stream);\n\n  ReadableByteStreamControllerCallPullIfNeeded(controller);\n\n  return promise;\n}\n\nfunction ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n  firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n\n  assert(firstDescriptor.bytesFilled === 0, 'bytesFilled must be 0');\n\n  var stream = controller._controlledReadableStream;\n  if (ReadableStreamHasBYOBReader(stream) === true) {\n    while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n      var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n      ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n  if (pullIntoDescriptor.bytesFilled + bytesWritten > pullIntoDescriptor.byteLength) {\n    throw new RangeError('bytesWritten out of range');\n  }\n\n  ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n\n  if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n    // TODO: Figure out whether we should detach the buffer or not here.\n    return;\n  }\n\n  ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n  var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n  if (remainderSize > 0) {\n    var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    var remainder = pullIntoDescriptor.buffer.slice(end - remainderSize, end);\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n  }\n\n  pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n  pullIntoDescriptor.bytesFilled -= remainderSize;\n  ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream, pullIntoDescriptor);\n\n  ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n}\n\nfunction ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n  var firstDescriptor = controller._pendingPullIntos[0];\n\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state === 'closed') {\n    if (bytesWritten !== 0) {\n      throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n    }\n\n    ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n  } else {\n    assert(stream._state === 'readable');\n\n    ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n  }\n}\n\nfunction ReadableByteStreamControllerShiftPendingPullInto(controller) {\n  var descriptor = controller._pendingPullIntos.shift();\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  return descriptor;\n}\n\nfunction ReadableByteStreamControllerShouldCallPull(controller) {\n  var stream = controller._controlledReadableStream;\n\n  if (stream._state !== 'readable') {\n    return false;\n  }\n\n  if (controller._closeRequested === true) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (ReadableStreamHasDefaultReader(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  if (ReadableStreamHasBYOBReader(stream) === true && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n    return true;\n  }\n\n  if (ReadableByteStreamControllerGetDesiredSize(controller) > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// A client of ReadableByteStreamController may use these functions directly to bypass state check.\n\nfunction ReadableByteStreamControllerClose(controller) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  if (controller._queueTotalSize > 0) {\n    controller._closeRequested = true;\n\n    return;\n  }\n\n  if (controller._pendingPullIntos.length > 0) {\n    var firstPendingPullInto = controller._pendingPullIntos[0];\n    if (firstPendingPullInto.bytesFilled > 0) {\n      var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      throw e;\n    }\n  }\n\n  ReadableStreamClose(stream);\n}\n\nfunction ReadableByteStreamControllerEnqueue(controller, chunk) {\n  var stream = controller._controlledReadableStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  var buffer = chunk.buffer;\n  var byteOffset = chunk.byteOffset;\n  var byteLength = chunk.byteLength;\n  var transferredBuffer = TransferArrayBuffer(buffer);\n\n  if (ReadableStreamHasDefaultReader(stream) === true) {\n    if (ReadableStreamGetNumReadRequests(stream) === 0) {\n      ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    } else {\n      assert(controller._queue.length === 0);\n\n      var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n      ReadableStreamFulfillReadRequest(stream, transferredView, false);\n    }\n  } else if (ReadableStreamHasBYOBReader(stream) === true) {\n    // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n  } else {\n    assert(IsReadableStreamLocked(stream) === false, 'stream must not be locked');\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n  }\n}\n\nfunction ReadableByteStreamControllerError(controller, e) {\n  var stream = controller._controlledReadableStream;\n\n  assert(stream._state === 'readable');\n\n  ReadableByteStreamControllerClearPendingPullIntos(controller);\n\n  ResetQueue(controller);\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableByteStreamControllerGetDesiredSize(controller) {\n  var stream = controller._controlledReadableStream;\n  var state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction ReadableByteStreamControllerRespond(controller, bytesWritten) {\n  bytesWritten = Number(bytesWritten);\n  if (IsFiniteNonNegativeNumber(bytesWritten) === false) {\n    throw new RangeError('bytesWritten must be a finite');\n  }\n\n  assert(controller._pendingPullIntos.length > 0);\n\n  ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n}\n\nfunction ReadableByteStreamControllerRespondWithNewView(controller, view) {\n  assert(controller._pendingPullIntos.length > 0);\n\n  var firstDescriptor = controller._pendingPullIntos[0];\n\n  if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n    throw new RangeError('The region specified by view does not match byobRequest');\n  }\n  if (firstDescriptor.byteLength !== view.byteLength) {\n    throw new RangeError('The buffer of view has different capacity than byobRequest');\n  }\n\n  firstDescriptor.buffer = view.buffer;\n\n  ReadableByteStreamControllerRespondInternal(controller, view.byteLength);\n}\n\n// Helper functions for the ReadableStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('ReadableStream.prototype.' + name + ' can only be used on a ReadableStream');\n}\n\n// Helper functions for the readers.\n\nfunction readerLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released reader');\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction defaultReaderBrandCheckException(name) {\n  return new TypeError('ReadableStreamDefaultReader.prototype.' + name + ' can only be used on a ReadableStreamDefaultReader');\n}\n\nfunction defaultReaderClosedPromiseInitialize(reader) {\n  reader._closedPromise = new Promise(function (resolve, reject) {\n    reader._closedPromise_resolve = resolve;\n    reader._closedPromise_reject = reject;\n  });\n}\n\nfunction defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n  reader._closedPromise = Promise.reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseInitializeAsResolved(reader) {\n  reader._closedPromise = Promise.resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseReject(reader, reason) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseResetToRejected(reader, reason) {\n  assert(reader._closedPromise_resolve === undefined);\n  assert(reader._closedPromise_reject === undefined);\n\n  reader._closedPromise = Promise.reject(reason);\n}\n\nfunction defaultReaderClosedPromiseResolve(reader) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction byobReaderBrandCheckException(name) {\n  return new TypeError('ReadableStreamBYOBReader.prototype.' + name + ' can only be used on a ReadableStreamBYOBReader');\n}\n\n// Helper functions for the ReadableStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError('ReadableStreamDefaultController.prototype.' + name + ' can only be used on a ReadableStreamDefaultController');\n}\n\n// Helper functions for the ReadableStreamBYOBRequest.\n\nfunction byobRequestBrandCheckException(name) {\n  return new TypeError('ReadableStreamBYOBRequest.prototype.' + name + ' can only be used on a ReadableStreamBYOBRequest');\n}\n\n// Helper functions for the ReadableByteStreamController.\n\nfunction byteStreamControllerBrandCheckException(name) {\n  return new TypeError('ReadableByteStreamController.prototype.' + name + ' can only be used on a ReadableByteStreamController');\n}\n\n// Helper function for ReadableStream pipeThrough\n\nfunction ifIsObjectAndHasAPromiseIsHandledInternalSlotSetPromiseIsHandledToTrue(promise) {\n  try {\n    // This relies on the brand-check that is enforced by Promise.prototype.then(). As with the rest of the reference\n    // implementation, it doesn't attempt to do the right thing if someone has modified the global environment.\n    Promise.prototype.then.call(promise, undefined, function () {});\n  } catch (e) {\n    // The brand check failed, therefore the internal slot is not present and there's nothing further to do.\n  }\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar transformStream = __w_pdfjs_require__(6);\nvar readableStream = __w_pdfjs_require__(4);\nvar writableStream = __w_pdfjs_require__(2);\n\nexports.TransformStream = transformStream.TransformStream;\nexports.ReadableStream = readableStream.ReadableStream;\nexports.IsReadableStreamDisturbed = readableStream.IsReadableStreamDisturbed;\nexports.ReadableStreamDefaultControllerClose = readableStream.ReadableStreamDefaultControllerClose;\nexports.ReadableStreamDefaultControllerEnqueue = readableStream.ReadableStreamDefaultControllerEnqueue;\nexports.ReadableStreamDefaultControllerError = readableStream.ReadableStreamDefaultControllerError;\nexports.ReadableStreamDefaultControllerGetDesiredSize = readableStream.ReadableStreamDefaultControllerGetDesiredSize;\nexports.AcquireWritableStreamDefaultWriter = writableStream.AcquireWritableStreamDefaultWriter;\nexports.IsWritableStream = writableStream.IsWritableStream;\nexports.IsWritableStreamLocked = writableStream.IsWritableStreamLocked;\nexports.WritableStream = writableStream.WritableStream;\nexports.WritableStreamAbort = writableStream.WritableStreamAbort;\nexports.WritableStreamDefaultControllerError = writableStream.WritableStreamDefaultControllerError;\nexports.WritableStreamDefaultWriterCloseWithErrorPropagation = writableStream.WritableStreamDefaultWriterCloseWithErrorPropagation;\nexports.WritableStreamDefaultWriterRelease = writableStream.WritableStreamDefaultWriterRelease;\nexports.WritableStreamDefaultWriterWrite = writableStream.WritableStreamDefaultWriterWrite;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __w_pdfjs_require__(1),\n    assert = _require.assert;\n\nvar _require2 = __w_pdfjs_require__(0),\n    InvokeOrNoop = _require2.InvokeOrNoop,\n    PromiseInvokeOrPerformFallback = _require2.PromiseInvokeOrPerformFallback,\n    PromiseInvokeOrNoop = _require2.PromiseInvokeOrNoop,\n    typeIsObject = _require2.typeIsObject;\n\nvar _require3 = __w_pdfjs_require__(4),\n    ReadableStream = _require3.ReadableStream,\n    ReadableStreamDefaultControllerClose = _require3.ReadableStreamDefaultControllerClose,\n    ReadableStreamDefaultControllerEnqueue = _require3.ReadableStreamDefaultControllerEnqueue,\n    ReadableStreamDefaultControllerError = _require3.ReadableStreamDefaultControllerError,\n    ReadableStreamDefaultControllerGetDesiredSize = _require3.ReadableStreamDefaultControllerGetDesiredSize;\n\nvar _require4 = __w_pdfjs_require__(2),\n    WritableStream = _require4.WritableStream,\n    WritableStreamDefaultControllerError = _require4.WritableStreamDefaultControllerError;\n\n// Methods on the transform stream controller object\n\nfunction TransformStreamCloseReadable(transformStream) {\n  // console.log('TransformStreamCloseReadable()');\n\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  if (transformStream._readableClosed === true) {\n    throw new TypeError('Readable side is already closed');\n  }\n\n  TransformStreamCloseReadableInternal(transformStream);\n}\n\nfunction TransformStreamEnqueueToReadable(transformStream, chunk) {\n  // console.log('TransformStreamEnqueueToReadable()');\n\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  if (transformStream._readableClosed === true) {\n    throw new TypeError('Readable side is already closed');\n  }\n\n  // We throttle transformer.transform invocation based on the backpressure of the ReadableStream, but we still\n  // accept TransformStreamEnqueueToReadable() calls.\n\n  var controller = transformStream._readableController;\n\n  try {\n    ReadableStreamDefaultControllerEnqueue(controller, chunk);\n  } catch (e) {\n    // This happens when readableStrategy.size() throws.\n    // The ReadableStream has already errored itself.\n    transformStream._readableClosed = true;\n    TransformStreamErrorIfNeeded(transformStream, e);\n\n    throw transformStream._storedError;\n  }\n\n  var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n  var maybeBackpressure = desiredSize <= 0;\n\n  if (maybeBackpressure === true && transformStream._backpressure === false) {\n    // This allows pull() again. When desiredSize is 0, it's possible that a pull() will happen immediately (but\n    // asynchronously) after this because of pending read()s and set _backpressure back to false.\n    //\n    // If pull() could be called from inside enqueue(), then this logic would be wrong. This cannot happen\n    // because there is always a promise pending from start() or pull() when _backpressure is false.\n    TransformStreamSetBackpressure(transformStream, true);\n  }\n}\n\nfunction TransformStreamError(transformStream, e) {\n  if (transformStream._errored === true) {\n    throw new TypeError('TransformStream is already errored');\n  }\n\n  TransformStreamErrorInternal(transformStream, e);\n}\n\n// Abstract operations.\n\nfunction TransformStreamCloseReadableInternal(transformStream) {\n  assert(transformStream._errored === false);\n  assert(transformStream._readableClosed === false);\n\n  try {\n    ReadableStreamDefaultControllerClose(transformStream._readableController);\n  } catch (e) {\n    assert(false);\n  }\n\n  transformStream._readableClosed = true;\n}\n\nfunction TransformStreamErrorIfNeeded(transformStream, e) {\n  if (transformStream._errored === false) {\n    TransformStreamErrorInternal(transformStream, e);\n  }\n}\n\nfunction TransformStreamErrorInternal(transformStream, e) {\n  // console.log('TransformStreamErrorInternal()');\n\n  assert(transformStream._errored === false);\n\n  transformStream._errored = true;\n  transformStream._storedError = e;\n\n  if (transformStream._writableDone === false) {\n    WritableStreamDefaultControllerError(transformStream._writableController, e);\n  }\n  if (transformStream._readableClosed === false) {\n    ReadableStreamDefaultControllerError(transformStream._readableController, e);\n  }\n}\n\n// Used for preventing the next write() call on TransformStreamSink until there\n// is no longer backpressure.\nfunction TransformStreamReadableReadyPromise(transformStream) {\n  assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n  if (transformStream._backpressure === false) {\n    return Promise.resolve();\n  }\n\n  assert(transformStream._backpressure === true, '_backpressure should have been initialized');\n\n  return transformStream._backpressureChangePromise;\n}\n\nfunction TransformStreamSetBackpressure(transformStream, backpressure) {\n  // console.log(`TransformStreamSetBackpressure(${backpressure})`);\n\n  // Passes also when called during construction.\n  assert(transformStream._backpressure !== backpressure, 'TransformStreamSetBackpressure() should be called only when backpressure is changed');\n\n  if (transformStream._backpressureChangePromise !== undefined) {\n    // The fulfillment value is just for a sanity check.\n    transformStream._backpressureChangePromise_resolve(backpressure);\n  }\n\n  transformStream._backpressureChangePromise = new Promise(function (resolve) {\n    transformStream._backpressureChangePromise_resolve = resolve;\n  });\n\n  transformStream._backpressureChangePromise.then(function (resolution) {\n    assert(resolution !== backpressure, '_backpressureChangePromise should be fulfilled only when backpressure is changed');\n  });\n\n  transformStream._backpressure = backpressure;\n}\n\nfunction TransformStreamDefaultTransform(chunk, transformStreamController) {\n  var transformStream = transformStreamController._controlledTransformStream;\n  TransformStreamEnqueueToReadable(transformStream, chunk);\n  return Promise.resolve();\n}\n\nfunction TransformStreamTransform(transformStream, chunk) {\n  // console.log('TransformStreamTransform()');\n\n  assert(transformStream._errored === false);\n  assert(transformStream._transforming === false);\n  assert(transformStream._backpressure === false);\n\n  transformStream._transforming = true;\n\n  var transformer = transformStream._transformer;\n  var controller = transformStream._transformStreamController;\n\n  var transformPromise = PromiseInvokeOrPerformFallback(transformer, 'transform', [chunk, controller], TransformStreamDefaultTransform, [chunk, controller]);\n\n  return transformPromise.then(function () {\n    transformStream._transforming = false;\n\n    return TransformStreamReadableReadyPromise(transformStream);\n  }, function (e) {\n    TransformStreamErrorIfNeeded(transformStream, e);\n    return Promise.reject(e);\n  });\n}\n\nfunction IsTransformStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsTransformStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nvar TransformStreamSink = function () {\n  function TransformStreamSink(transformStream, startPromise) {\n    _classCallCheck(this, TransformStreamSink);\n\n    this._transformStream = transformStream;\n    this._startPromise = startPromise;\n  }\n\n  _createClass(TransformStreamSink, [{\n    key: 'start',\n    value: function start(c) {\n      var transformStream = this._transformStream;\n\n      transformStream._writableController = c;\n\n      return this._startPromise.then(function () {\n        return TransformStreamReadableReadyPromise(transformStream);\n      });\n    }\n  }, {\n    key: 'write',\n    value: function write(chunk) {\n      // console.log('TransformStreamSink.write()');\n\n      var transformStream = this._transformStream;\n\n      return TransformStreamTransform(transformStream, chunk);\n    }\n  }, {\n    key: 'abort',\n    value: function abort() {\n      var transformStream = this._transformStream;\n      transformStream._writableDone = true;\n      TransformStreamErrorInternal(transformStream, new TypeError('Writable side aborted'));\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      // console.log('TransformStreamSink.close()');\n\n      var transformStream = this._transformStream;\n\n      assert(transformStream._transforming === false);\n\n      transformStream._writableDone = true;\n\n      var flushPromise = PromiseInvokeOrNoop(transformStream._transformer, 'flush', [transformStream._transformStreamController]);\n      // Return a promise that is fulfilled with undefined on success.\n      return flushPromise.then(function () {\n        if (transformStream._errored === true) {\n          return Promise.reject(transformStream._storedError);\n        }\n        if (transformStream._readableClosed === false) {\n          TransformStreamCloseReadableInternal(transformStream);\n        }\n        return Promise.resolve();\n      }).catch(function (r) {\n        TransformStreamErrorIfNeeded(transformStream, r);\n        return Promise.reject(transformStream._storedError);\n      });\n    }\n  }]);\n\n  return TransformStreamSink;\n}();\n\nvar TransformStreamSource = function () {\n  function TransformStreamSource(transformStream, startPromise) {\n    _classCallCheck(this, TransformStreamSource);\n\n    this._transformStream = transformStream;\n    this._startPromise = startPromise;\n  }\n\n  _createClass(TransformStreamSource, [{\n    key: 'start',\n    value: function start(c) {\n      var transformStream = this._transformStream;\n\n      transformStream._readableController = c;\n\n      return this._startPromise.then(function () {\n        // Prevent the first pull() call until there is backpressure.\n\n        assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n        if (transformStream._backpressure === true) {\n          return Promise.resolve();\n        }\n\n        assert(transformStream._backpressure === false, '_backpressure should have been initialized');\n\n        return transformStream._backpressureChangePromise;\n      });\n    }\n  }, {\n    key: 'pull',\n    value: function pull() {\n      // console.log('TransformStreamSource.pull()');\n\n      var transformStream = this._transformStream;\n\n      // Invariant. Enforced by the promises returned by start() and pull().\n      assert(transformStream._backpressure === true, 'pull() should be never called while _backpressure is false');\n\n      assert(transformStream._backpressureChangePromise !== undefined, '_backpressureChangePromise should have been initialized');\n\n      TransformStreamSetBackpressure(transformStream, false);\n\n      // Prevent the next pull() call until there is backpressure.\n      return transformStream._backpressureChangePromise;\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      var transformStream = this._transformStream;\n      transformStream._readableClosed = true;\n      TransformStreamErrorInternal(transformStream, new TypeError('Readable side canceled'));\n    }\n  }]);\n\n  return TransformStreamSource;\n}();\n\nvar TransformStreamDefaultController = function () {\n  function TransformStreamDefaultController(transformStream) {\n    _classCallCheck(this, TransformStreamDefaultController);\n\n    if (IsTransformStream(transformStream) === false) {\n      throw new TypeError('TransformStreamDefaultController can only be ' + 'constructed with a TransformStream instance');\n    }\n\n    if (transformStream._transformStreamController !== undefined) {\n      throw new TypeError('TransformStreamDefaultController instances can ' + 'only be created by the TransformStream constructor');\n    }\n\n    this._controlledTransformStream = transformStream;\n  }\n\n  _createClass(TransformStreamDefaultController, [{\n    key: 'enqueue',\n    value: function enqueue(chunk) {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('enqueue');\n      }\n\n      TransformStreamEnqueueToReadable(this._controlledTransformStream, chunk);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('close');\n      }\n\n      TransformStreamCloseReadable(this._controlledTransformStream);\n    }\n  }, {\n    key: 'error',\n    value: function error(reason) {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('error');\n      }\n\n      TransformStreamError(this._controlledTransformStream, reason);\n    }\n  }, {\n    key: 'desiredSize',\n    get: function get() {\n      if (IsTransformStreamDefaultController(this) === false) {\n        throw defaultControllerBrandCheckException('desiredSize');\n      }\n\n      var transformStream = this._controlledTransformStream;\n      var readableController = transformStream._readableController;\n\n      return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n    }\n  }]);\n\n  return TransformStreamDefaultController;\n}();\n\nvar TransformStream = function () {\n  function TransformStream() {\n    var transformer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransformStream);\n\n    this._transformer = transformer;\n    var readableStrategy = transformer.readableStrategy,\n        writableStrategy = transformer.writableStrategy;\n\n\n    this._transforming = false;\n    this._errored = false;\n    this._storedError = undefined;\n\n    this._writableController = undefined;\n    this._readableController = undefined;\n    this._transformStreamController = undefined;\n\n    this._writableDone = false;\n    this._readableClosed = false;\n\n    this._backpressure = undefined;\n    this._backpressureChangePromise = undefined;\n    this._backpressureChangePromise_resolve = undefined;\n\n    this._transformStreamController = new TransformStreamDefaultController(this);\n\n    var startPromise_resolve = void 0;\n    var startPromise = new Promise(function (resolve) {\n      startPromise_resolve = resolve;\n    });\n\n    var source = new TransformStreamSource(this, startPromise);\n\n    this._readable = new ReadableStream(source, readableStrategy);\n\n    var sink = new TransformStreamSink(this, startPromise);\n\n    this._writable = new WritableStream(sink, writableStrategy);\n\n    assert(this._writableController !== undefined);\n    assert(this._readableController !== undefined);\n\n    var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(this._readableController);\n    // Set _backpressure based on desiredSize. As there is no read() at this point, we can just interpret\n    // desiredSize being non-positive as backpressure.\n    TransformStreamSetBackpressure(this, desiredSize <= 0);\n\n    var transformStream = this;\n    var startResult = InvokeOrNoop(transformer, 'start', [transformStream._transformStreamController]);\n    startPromise_resolve(startResult);\n    startPromise.catch(function (e) {\n      // The underlyingSink and underlyingSource will error the readable and writable ends on their own.\n      if (transformStream._errored === false) {\n        transformStream._errored = true;\n        transformStream._storedError = e;\n      }\n    });\n  }\n\n  _createClass(TransformStream, [{\n    key: 'readable',\n    get: function get() {\n      if (IsTransformStream(this) === false) {\n        throw streamBrandCheckException('readable');\n      }\n\n      return this._readable;\n    }\n  }, {\n    key: 'writable',\n    get: function get() {\n      if (IsTransformStream(this) === false) {\n        throw streamBrandCheckException('writable');\n      }\n\n      return this._writable;\n    }\n  }]);\n\n  return TransformStream;\n}();\n\nmodule.exports = { TransformStream: TransformStream };\n\n// Helper functions for the TransformStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError('TransformStreamDefaultController.prototype.' + name + ' can only be used on a TransformStreamDefaultController');\n}\n\n// Helper functions for the TransformStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError('TransformStream.prototype.' + name + ' can only be used on a TransformStream');\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __w_pdfjs_require__) {\n\nmodule.exports = __w_pdfjs_require__(5);\n\n\n/***/ })\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// external/streams/streams-lib.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX, IDENTITY_MATRIX, ImageKind, info, isArray,\n  isLittleEndian, isNum, OPS, shadow, TextRenderingMode, Util, warn\n} from '../shared/util';\nimport { getShadingPatternFromIR, TilingPattern } from './pattern_helper';\nimport { WebGLUtils } from './webgl';\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n\n// Minimal font size that would be used during canvas fillText operations.\nvar MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nvar MAX_FONT_SIZE = 100;\nvar MAX_GROUP_SIZE = 4096;\n\n// Heuristic value used when enforcing minimum line widths.\nvar MIN_WIDTH_FACTOR = 0.65;\n\nvar COMPILE_TYPE3_GLYPHS = true;\nvar MAX_SIZE_TO_COMPILE = 1000;\n\nvar FULL_CHUNK_HEIGHT = 16;\n\nvar IsLittleEndianCached = {\n  get value() {\n    return shadow(IsLittleEndianCached, 'value', isLittleEndian());\n  },\n};\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (!ctx.mozCurrentTransform) {\n    ctx._originalSave = ctx.save;\n    ctx._originalRestore = ctx.restore;\n    ctx._originalRotate = ctx.rotate;\n    ctx._originalScale = ctx.scale;\n    ctx._originalTranslate = ctx.translate;\n    ctx._originalTransform = ctx.transform;\n    ctx._originalSetTransform = ctx.setTransform;\n\n    ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n    ctx._transformStack = [];\n\n    Object.defineProperty(ctx, 'mozCurrentTransform', {\n      get: function getCurrentTransform() {\n        return this._transformMatrix;\n      },\n    });\n\n    Object.defineProperty(ctx, 'mozCurrentTransformInverse', {\n      get: function getCurrentTransformInverse() {\n        // Calculation done using WolframAlpha:\n        // http://www.wolframalpha.com/input/?\n        //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n        var m = this._transformMatrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n\n        var ad_bc = a * d - b * c;\n        var bc_ad = b * c - a * d;\n\n        return [\n          d / ad_bc,\n          b / bc_ad,\n          c / bc_ad,\n          a / ad_bc,\n          (d * e - c * f) / bc_ad,\n          (b * e - a * f) / ad_bc\n        ];\n      },\n    });\n\n    ctx.save = function ctxSave() {\n      var old = this._transformMatrix;\n      this._transformStack.push(old);\n      this._transformMatrix = old.slice(0, 6);\n\n      this._originalSave();\n    };\n\n    ctx.restore = function ctxRestore() {\n      var prev = this._transformStack.pop();\n      if (prev) {\n        this._transformMatrix = prev;\n        this._originalRestore();\n      }\n    };\n\n    ctx.translate = function ctxTranslate(x, y) {\n      var m = this._transformMatrix;\n      m[4] = m[0] * x + m[2] * y + m[4];\n      m[5] = m[1] * x + m[3] * y + m[5];\n\n      this._originalTranslate(x, y);\n    };\n\n    ctx.scale = function ctxScale(x, y) {\n      var m = this._transformMatrix;\n      m[0] = m[0] * x;\n      m[1] = m[1] * x;\n      m[2] = m[2] * y;\n      m[3] = m[3] * y;\n\n      this._originalScale(x, y);\n    };\n\n    ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * a + m[2] * b,\n        m[1] * a + m[3] * b,\n        m[0] * c + m[2] * d,\n        m[1] * c + m[3] * d,\n        m[0] * e + m[2] * f + m[4],\n        m[1] * e + m[3] * f + m[5]\n      ];\n\n      ctx._originalTransform(a, b, c, d, e, f);\n    };\n\n    ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n      this._transformMatrix = [a, b, c, d, e, f];\n\n      ctx._originalSetTransform(a, b, c, d, e, f);\n    };\n\n    ctx.rotate = function ctxRotate(angle) {\n      var cosValue = Math.cos(angle);\n      var sinValue = Math.sin(angle);\n\n      var m = this._transformMatrix;\n      this._transformMatrix = [\n        m[0] * cosValue + m[2] * sinValue,\n        m[1] * cosValue + m[3] * sinValue,\n        m[0] * (-sinValue) + m[2] * cosValue,\n        m[1] * (-sinValue) + m[3] * cosValue,\n        m[4],\n        m[5]\n      ];\n\n      this._originalRotate(angle);\n    };\n  }\n}\n\nvar CachedCanvases = (function CachedCanvasesClosure() {\n  function CachedCanvases(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  CachedCanvases.prototype = {\n    getCanvas: function CachedCanvases_getCanvas(id, width, height,\n                                                 trackTransform) {\n      var canvasEntry;\n      if (this.cache[id] !== undefined) {\n        canvasEntry = this.cache[id];\n        this.canvasFactory.reset(canvasEntry, width, height);\n        // reset canvas transform for emulated mozCurrentTransform, if needed\n        canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n      } else {\n        canvasEntry = this.canvasFactory.create(width, height);\n        this.cache[id] = canvasEntry;\n      }\n      if (trackTransform) {\n        addContextCurrentTransform(canvasEntry.context);\n      }\n      return canvasEntry;\n    },\n    clear() {\n      for (var id in this.cache) {\n        var canvasEntry = this.cache[id];\n        this.canvasFactory.destroy(canvasEntry);\n        delete this.cache[id];\n      }\n    },\n  };\n  return CachedCanvases;\n})();\n\nfunction compileType3Glyph(imgData) {\n  var POINT_TO_PROCESS_LIMIT = 1000;\n\n  var width = imgData.width, height = imgData.height;\n  var i, j, j0, width1 = width + 1;\n  var points = new Uint8Array(width1 * (height + 1));\n  var POINT_TYPES =\n      new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n\n  // decodes bit-packed mask data\n  var lineSize = (width + 7) & ~7, data0 = imgData.data;\n  var data = new Uint8Array(lineSize * height), pos = 0, ii;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    var mask = 128, elem = data0[i];\n    while (mask > 0) {\n      data[pos++] = (elem & mask) ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding iteresting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  var count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    var sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) +\n            (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  var steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  var outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    var p = i * width1;\n    var end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    var coords = [p % width1, i];\n\n    var type = points[p], p0 = p, pp;\n    do {\n      var step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else { // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2 | type << 2);\n      }\n\n      coords.push(p % width1);\n      coords.push((p / width1) | 0);\n      --count;\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  var drawOutline = function(c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (var i = 0, ii = outlines.length; i < ii; i++) {\n      var o = outlines[i];\n      c.moveTo(o[0], o[1]);\n      for (var j = 2, jj = o.length; j < jj; j += 2) {\n        c.lineTo(o[j], o[j + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nvar CanvasExtraState = (function CanvasExtraStateClosure() {\n  function CanvasExtraState() {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = '#000000';\n    this.strokeColor = '#000000';\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.resumeSMaskCtx = null; // nonclonable field (see the save method below)\n  }\n\n  CanvasExtraState.prototype = {\n    clone: function CanvasExtraState_clone() {\n      return Object.create(this);\n    },\n    setCurrentPoint: function CanvasExtraState_setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    },\n  };\n  return CanvasExtraState;\n})();\n\nvar CanvasGraphics = (function CanvasGraphicsClosure() {\n  // Defines the time the executeOperatorList is going to be executing\n  // before it stops and shedules a continue of execution.\n  var EXECUTION_TIME = 15;\n  // Defines the number of steps before checking the execution time\n  var EXECUTION_STEPS = 10;\n\n  function CanvasGraphics(canvasCtx, commonObjs, objs, canvasFactory,\n                          imageLayer) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState();\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see pdf\n    // spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this.cachedGetSinglePixelWidth = null;\n  }\n\n  function putBinaryImageData(ctx, imgData) {\n    if (typeof ImageData !== 'undefined' && imgData instanceof ImageData) {\n      ctx.putImageData(imgData, 0, 0);\n      return;\n    }\n\n    // Put the image data to the canvas in chunks, rather than putting the\n    // whole image at once.  This saves JS memory, because the ImageData object\n    // is smaller. It also possibly saves C++ memory within the implementation\n    // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n    // the data passed to putImageData()). |n| shouldn't be too small, however,\n    // because too many putImageData() calls will slow things down.\n    //\n    // Note: as written, if the last chunk is partial, the putImageData() call\n    // will (conceptually) put pixels past the bounds of the canvas.  But\n    // that's ok; any such pixels are ignored.\n\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0, destPos;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n    var i, j, thisChunkHeight, elemsInThisChunk;\n\n    // There are multiple forms in which the pixel data can be passed, and\n    // imgData.kind tells us which one this is.\n    if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n      // Grayscale, 1 bit per pixel (i.e. black-and-white).\n      var srcLength = src.byteLength;\n      var dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n      var dest32DataLength = dest32.length;\n      var fullSrcDiff = (width + 7) >> 3;\n      var white = 0xFFFFFFFF;\n      var black = IsLittleEndianCached.value ? 0xFF000000 : 0x000000FF;\n      for (i = 0; i < totalChunks; i++) {\n        thisChunkHeight =\n          (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n        destPos = 0;\n        for (j = 0; j < thisChunkHeight; j++) {\n          var srcDiff = srcLength - srcPos;\n          var k = 0;\n          var kEnd = (srcDiff > fullSrcDiff) ? width : srcDiff * 8 - 7;\n          var kEndUnrolled = kEnd & ~7;\n          var mask = 0;\n          var srcByte = 0;\n          for (; k < kEndUnrolled; k += 8) {\n            srcByte = src[srcPos++];\n            dest32[destPos++] = (srcByte & 128) ? white : black;\n            dest32[destPos++] = (srcByte & 64) ? white : black;\n            dest32[destPos++] = (srcByte & 32) ? white : black;\n            dest32[destPos++] = (srcByte & 16) ? white : black;\n            dest32[destPos++] = (srcByte & 8) ? white : black;\n            dest32[destPos++] = (srcByte & 4) ? white : black;\n            dest32[destPos++] = (srcByte & 2) ? white : black;\n            dest32[destPos++] = (srcByte & 1) ? white : black;\n          }\n          for (; k < kEnd; k++) {\n             if (mask === 0) {\n               srcByte = src[srcPos++];\n               mask = 128;\n             }\n\n            dest32[destPos++] = (srcByte & mask) ? white : black;\n            mask >>= 1;\n          }\n        }\n        // We ran out of input. Make all remaining pixels transparent.\n        while (destPos < dest32DataLength) {\n          dest32[destPos++] = 0;\n        }\n\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n      // RGBA, 32-bits per pixel.\n\n      j = 0;\n      elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n      for (i = 0; i < fullChunks; i++) {\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        srcPos += elemsInThisChunk;\n\n        ctx.putImageData(chunkImgData, 0, j);\n        j += FULL_CHUNK_HEIGHT;\n      }\n      if (i < totalChunks) {\n        elemsInThisChunk = width * partialChunkHeight * 4;\n        dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n        ctx.putImageData(chunkImgData, 0, j);\n      }\n\n    } else if (imgData.kind === ImageKind.RGB_24BPP) {\n      // RGB, 24-bits per pixel.\n      thisChunkHeight = FULL_CHUNK_HEIGHT;\n      elemsInThisChunk = width * thisChunkHeight;\n      for (i = 0; i < totalChunks; i++) {\n        if (i >= fullChunks) {\n          thisChunkHeight = partialChunkHeight;\n          elemsInThisChunk = width * thisChunkHeight;\n        }\n\n        destPos = 0;\n        for (j = elemsInThisChunk; j--;) {\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = src[srcPos++];\n          dest[destPos++] = 255;\n        }\n        ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n      }\n    } else {\n      throw new Error(`bad image kind: ${imgData.kind}`);\n    }\n  }\n\n  function putBinaryImageMask(ctx, imgData) {\n    var height = imgData.height, width = imgData.width;\n    var partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n    var fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n    var totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n    var chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n    var srcPos = 0;\n    var src = imgData.data;\n    var dest = chunkImgData.data;\n\n    for (var i = 0; i < totalChunks; i++) {\n      var thisChunkHeight =\n        (i < fullChunks) ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n      // Expand the mask so it can be used by the canvas.  Any required\n      // inversion has already been handled.\n      var destPos = 3; // alpha component offset\n      for (var j = 0; j < thisChunkHeight; j++) {\n        var mask = 0;\n        for (var k = 0; k < width; k++) {\n          if (!mask) {\n            var elem = src[srcPos++];\n            mask = 128;\n          }\n          dest[destPos] = (elem & mask) ? 0 : 255;\n          destPos += 4;\n          mask >>= 1;\n        }\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  }\n\n  function copyCtxState(sourceCtx, destCtx) {\n    var properties = ['strokeStyle', 'fillStyle', 'fillRule', 'globalAlpha',\n                      'lineWidth', 'lineCap', 'lineJoin', 'miterLimit',\n                      'globalCompositeOperation', 'font'];\n    for (var i = 0, ii = properties.length; i < ii; i++) {\n      var property = properties[i];\n      if (sourceCtx[property] !== undefined) {\n        destCtx[property] = sourceCtx[property];\n      }\n    }\n    if (sourceCtx.setLineDash !== undefined) {\n      destCtx.setLineDash(sourceCtx.getLineDash());\n      destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n    }\n  }\n\n  function resetCtxToDefault(ctx) {\n    ctx.strokeStyle = '#000000';\n    ctx.fillStyle = '#000000';\n    ctx.fillRule = 'nonzero';\n    ctx.globalAlpha = 1;\n    ctx.lineWidth = 1;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 10;\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.font = '10px sans-serif';\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash([]);\n      ctx.lineDashOffset = 0;\n    }\n  }\n\n  function composeSMaskBackdrop(bytes, r0, g0, b0) {\n    var length = bytes.length;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = bytes[i];\n      if (alpha === 0) {\n        bytes[i - 3] = r0;\n        bytes[i - 2] = g0;\n        bytes[i - 1] = b0;\n      } else if (alpha < 255) {\n        var alpha_ = 255 - alpha;\n        bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n        bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n        bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n      }\n    }\n  }\n\n  function composeSMaskAlpha(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    var scale = 1 / 255;\n    for (var i = 3; i < length; i += 4) {\n      var alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n      layerData[i] = (layerData[i] * alpha * scale) | 0;\n    }\n  }\n\n  function composeSMaskLuminosity(maskData, layerData, transferMap) {\n    var length = maskData.length;\n    for (var i = 3; i < length; i += 4) {\n      var y = (maskData[i - 3] * 77) +  // * 0.3 / 255 * 0x10000\n              (maskData[i - 2] * 152) + // * 0.59 ....\n              (maskData[i - 1] * 28);   // * 0.11 ....\n      layerData[i] = transferMap ?\n        (layerData[i] * transferMap[y >> 8]) >> 8 :\n        (layerData[i] * y) >> 16;\n    }\n  }\n\n  function genericComposeSMask(maskCtx, layerCtx, width, height,\n                               subtype, backdrop, transferMap) {\n    var hasBackdrop = !!backdrop;\n    var r0 = hasBackdrop ? backdrop[0] : 0;\n    var g0 = hasBackdrop ? backdrop[1] : 0;\n    var b0 = hasBackdrop ? backdrop[2] : 0;\n\n    var composeFn;\n    if (subtype === 'Luminosity') {\n      composeFn = composeSMaskLuminosity;\n    } else {\n      composeFn = composeSMaskAlpha;\n    }\n\n    // processing image in chunks to save memory\n    var PIXELS_TO_PROCESS = 1048576;\n    var chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n    for (var row = 0; row < height; row += chunkSize) {\n      var chunkHeight = Math.min(chunkSize, height - row);\n      var maskData = maskCtx.getImageData(0, row, width, chunkHeight);\n      var layerData = layerCtx.getImageData(0, row, width, chunkHeight);\n\n      if (hasBackdrop) {\n        composeSMaskBackdrop(maskData.data, r0, g0, b0);\n      }\n      composeFn(maskData.data, layerData.data, transferMap);\n\n      maskCtx.putImageData(layerData, 0, row);\n    }\n  }\n\n  function composeSMask(ctx, smask, layerCtx) {\n    var mask = smask.canvas;\n    var maskCtx = smask.context;\n\n    ctx.setTransform(smask.scaleX, 0, 0, smask.scaleY,\n                     smask.offsetX, smask.offsetY);\n\n    var backdrop = smask.backdrop || null;\n    if (!smask.transferMap && WebGLUtils.isEnabled) {\n      var composed = WebGLUtils.composeSMask(layerCtx.canvas, mask,\n        { subtype: smask.subtype, backdrop, });\n      ctx.setTransform(1, 0, 0, 1, 0, 0);\n      ctx.drawImage(composed, smask.offsetX, smask.offsetY);\n      return;\n    }\n    genericComposeSMask(maskCtx, layerCtx, mask.width, mask.height,\n                        smask.subtype, backdrop, smask.transferMap);\n    ctx.drawImage(mask, 0, 0);\n  }\n\n  var LINE_CAP_STYLES = ['butt', 'round', 'square'];\n  var LINE_JOIN_STYLES = ['miter', 'round', 'bevel'];\n  var NORMAL_CLIP = {};\n  var EO_CLIP = {};\n\n  CanvasGraphics.prototype = {\n\n    beginDrawing({ transform, viewport, transparency,\n                   background = null, }) {\n      // For pdfs that use blend modes we have to clear the canvas else certain\n      // blend modes can look wrong since we'd be blending with a white\n      // backdrop. The problem with a transparent backdrop though is we then\n      // don't get sub pixel anti aliasing on text, creating temporary\n      // transparent canvas when we have blend modes.\n      var width = this.ctx.canvas.width;\n      var height = this.ctx.canvas.height;\n\n      this.ctx.save();\n      this.ctx.fillStyle = background || 'rgb(255, 255, 255)';\n      this.ctx.fillRect(0, 0, width, height);\n      this.ctx.restore();\n\n      if (transparency) {\n        var transparentCanvas = this.cachedCanvases.getCanvas(\n          'transparent', width, height, true);\n        this.compositeCtx = this.ctx;\n        this.transparentCanvas = transparentCanvas.canvas;\n        this.ctx = transparentCanvas.context;\n        this.ctx.save();\n        // The transform can be applied before rendering, transferring it to\n        // the new canvas.\n        this.ctx.transform.apply(this.ctx,\n                                 this.compositeCtx.mozCurrentTransform);\n      }\n\n      this.ctx.save();\n      resetCtxToDefault(this.ctx);\n      if (transform) {\n        this.ctx.transform.apply(this.ctx, transform);\n      }\n      this.ctx.transform.apply(this.ctx, viewport.transform);\n\n      this.baseTransform = this.ctx.mozCurrentTransform.slice();\n\n      if (this.imageLayer) {\n        this.imageLayer.beginLayout();\n      }\n    },\n\n    executeOperatorList: function CanvasGraphics_executeOperatorList(\n                                    operatorList,\n                                    executionStartIdx, continueCallback,\n                                    stepper) {\n      var argsArray = operatorList.argsArray;\n      var fnArray = operatorList.fnArray;\n      var i = executionStartIdx || 0;\n      var argsArrayLen = argsArray.length;\n\n      // Sometimes the OperatorList to execute is empty.\n      if (argsArrayLen === i) {\n        return i;\n      }\n\n      var chunkOperations = (argsArrayLen - i > EXECUTION_STEPS &&\n                             typeof continueCallback === 'function');\n      var endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n      var steps = 0;\n\n      var commonObjs = this.commonObjs;\n      var objs = this.objs;\n      var fnId;\n\n      while (true) {\n        if (stepper !== undefined && i === stepper.nextBreakPoint) {\n          stepper.breakIt(i, continueCallback);\n          return i;\n        }\n\n        fnId = fnArray[i];\n\n        if (fnId !== OPS.dependency) {\n          this[fnId].apply(this, argsArray[i]);\n        } else {\n          var deps = argsArray[i];\n          for (var n = 0, nn = deps.length; n < nn; n++) {\n            var depObjId = deps[n];\n            var common = depObjId[0] === 'g' && depObjId[1] === '_';\n            var objsPool = common ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.isResolved(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n\n        i++;\n\n        // If the entire operatorList was executed, stop as were done.\n        if (i === argsArrayLen) {\n          return i;\n        }\n\n        // If the execution took longer then a certain amount of time and\n        // `continueCallback` is specified, interrupt the execution.\n        if (chunkOperations && ++steps > EXECUTION_STEPS) {\n          if (Date.now() > endTime) {\n            continueCallback();\n            return i;\n          }\n          steps = 0;\n        }\n\n        // If the operatorList isn't executed completely yet OR the execution\n        // time was short enough, do another execution round.\n      }\n    },\n\n    endDrawing: function CanvasGraphics_endDrawing() {\n      // Finishing all opened operations such as SMask group painting.\n      if (this.current.activeSMask !== null) {\n        this.endSMaskGroup();\n      }\n\n      this.ctx.restore();\n\n      if (this.transparentCanvas) {\n        this.ctx = this.compositeCtx;\n        this.ctx.save();\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n        this.ctx.drawImage(this.transparentCanvas, 0, 0);\n        this.ctx.restore();\n        this.transparentCanvas = null;\n      }\n\n      this.cachedCanvases.clear();\n      WebGLUtils.clear();\n\n      if (this.imageLayer) {\n        this.imageLayer.endLayout();\n      }\n    },\n\n    // Graphics state\n    setLineWidth: function CanvasGraphics_setLineWidth(width) {\n      this.current.lineWidth = width;\n      this.ctx.lineWidth = width;\n    },\n    setLineCap: function CanvasGraphics_setLineCap(style) {\n      this.ctx.lineCap = LINE_CAP_STYLES[style];\n    },\n    setLineJoin: function CanvasGraphics_setLineJoin(style) {\n      this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n    },\n    setMiterLimit: function CanvasGraphics_setMiterLimit(limit) {\n      this.ctx.miterLimit = limit;\n    },\n    setDash: function CanvasGraphics_setDash(dashArray, dashPhase) {\n      var ctx = this.ctx;\n      if (ctx.setLineDash !== undefined) {\n        ctx.setLineDash(dashArray);\n        ctx.lineDashOffset = dashPhase;\n      }\n    },\n    setRenderingIntent: function CanvasGraphics_setRenderingIntent(intent) {\n      // Maybe if we one day fully support color spaces this will be important\n      // for now we can ignore.\n      // TODO set rendering intent?\n    },\n    setFlatness: function CanvasGraphics_setFlatness(flatness) {\n      // There's no way to control this with canvas, but we can safely ignore.\n      // TODO set flatness?\n    },\n    setGState: function CanvasGraphics_setGState(states) {\n      for (var i = 0, ii = states.length; i < ii; i++) {\n        var state = states[i];\n        var key = state[0];\n        var value = state[1];\n\n        switch (key) {\n          case 'LW':\n            this.setLineWidth(value);\n            break;\n          case 'LC':\n            this.setLineCap(value);\n            break;\n          case 'LJ':\n            this.setLineJoin(value);\n            break;\n          case 'ML':\n            this.setMiterLimit(value);\n            break;\n          case 'D':\n            this.setDash(value[0], value[1]);\n            break;\n          case 'RI':\n            this.setRenderingIntent(value);\n            break;\n          case 'FL':\n            this.setFlatness(value);\n            break;\n          case 'Font':\n            this.setFont(value[0], value[1]);\n            break;\n          case 'CA':\n            this.current.strokeAlpha = state[1];\n            break;\n          case 'ca':\n            this.current.fillAlpha = state[1];\n            this.ctx.globalAlpha = state[1];\n            break;\n          case 'BM':\n            this.ctx.globalCompositeOperation = value;\n            break;\n          case 'SMask':\n            if (this.current.activeSMask) {\n              // If SMask is currrenly used, it needs to be suspended or\n              // finished. Suspend only makes sense when at least one save()\n              // was performed and state needs to be reverted on restore().\n              if (this.stateStack.length > 0 &&\n                  (this.stateStack[this.stateStack.length - 1].activeSMask ===\n                   this.current.activeSMask)) {\n                this.suspendSMaskGroup();\n              } else {\n                this.endSMaskGroup();\n              }\n            }\n            this.current.activeSMask = value ? this.tempSMask : null;\n            if (this.current.activeSMask) {\n              this.beginSMaskGroup();\n            }\n            this.tempSMask = null;\n            break;\n        }\n      }\n    },\n    beginSMaskGroup: function CanvasGraphics_beginSMaskGroup() {\n\n      var activeSMask = this.current.activeSMask;\n      var drawnWidth = activeSMask.canvas.width;\n      var drawnHeight = activeSMask.canvas.height;\n      var cacheId = 'smaskGroupAt' + this.groupLevel;\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n\n      var currentCtx = this.ctx;\n      var currentTransform = currentCtx.mozCurrentTransform;\n      this.ctx.save();\n\n      var groupCtx = scratchCanvas.context;\n      groupCtx.scale(1 / activeSMask.scaleX, 1 / activeSMask.scaleY);\n      groupCtx.translate(-activeSMask.offsetX, -activeSMask.offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      activeSMask.startTransformInverse = groupCtx.mozCurrentTransformInverse;\n\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'source-over'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    suspendSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Similar to endSMaskGroup, the intermediate canvas has to be composed\n      // and future ctx state restored.\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n      this.ctx.restore();\n      this.ctx.save(); // save is needed since SMask will be resumed.\n      copyCtxState(groupCtx, this.ctx);\n\n      // Saving state for resuming.\n      this.current.resumeSMaskCtx = groupCtx;\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform);\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n\n      // SMask was composed, the results at the groupCtx can be cleared.\n      groupCtx.save();\n      groupCtx.setTransform(1, 0, 0, 1, 0, 0);\n      groupCtx.clearRect(0, 0, groupCtx.canvas.width, groupCtx.canvas.height);\n      groupCtx.restore();\n    },\n    resumeSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      // Resuming state saved by suspendSMaskGroup. We don't need to restore\n      // any groupCtx state since restore() command (the only caller) will do\n      // that for us. See also beginSMaskGroup.\n      var groupCtx = this.current.resumeSMaskCtx;\n      var currentCtx = this.ctx;\n      this.ctx = groupCtx;\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n    },\n    endSMaskGroup: function CanvasGraphics_endSMaskGroup() {\n      var groupCtx = this.ctx;\n      this.groupLevel--;\n      this.ctx = this.groupStack.pop();\n\n      composeSMask(this.ctx, this.current.activeSMask, groupCtx);\n      this.ctx.restore();\n      copyCtxState(groupCtx, this.ctx);\n      // Transform was changed in the SMask canvas, reflecting this change on\n      // this.ctx.\n      var deltaTransform = Util.transform(\n        this.current.activeSMask.startTransformInverse,\n        groupCtx.mozCurrentTransform);\n      this.ctx.transform.apply(this.ctx, deltaTransform);\n    },\n    save: function CanvasGraphics_save() {\n      this.ctx.save();\n      var old = this.current;\n      this.stateStack.push(old);\n      this.current = old.clone();\n      this.current.resumeSMaskCtx = null;\n    },\n    restore: function CanvasGraphics_restore() {\n      // SMask was suspended, we just need to resume it.\n      if (this.current.resumeSMaskCtx) {\n        this.resumeSMaskGroup();\n      }\n      // SMask has to be finished once there is no states that are using the\n      // same SMask.\n      if (this.current.activeSMask !== null && (this.stateStack.length === 0 ||\n          this.stateStack[this.stateStack.length - 1].activeSMask !==\n          this.current.activeSMask)) {\n        this.endSMaskGroup();\n      }\n\n      if (this.stateStack.length !== 0) {\n        this.current = this.stateStack.pop();\n        this.ctx.restore();\n\n        // Ensure that the clipping path is reset (fixes issue6413.pdf).\n        this.pendingClip = null;\n\n        this.cachedGetSinglePixelWidth = null;\n      }\n    },\n    transform: function CanvasGraphics_transform(a, b, c, d, e, f) {\n      this.ctx.transform(a, b, c, d, e, f);\n\n      this.cachedGetSinglePixelWidth = null;\n    },\n\n    // Path\n    constructPath: function CanvasGraphics_constructPath(ops, args) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var x = current.x, y = current.y;\n      for (var i = 0, j = 0, ii = ops.length; i < ii; i++) {\n        switch (ops[i] | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            var width = args[j++];\n            var height = args[j++];\n            if (width === 0) {\n              width = this.getSinglePixelWidth();\n            }\n            if (height === 0) {\n              height = this.getSinglePixelWidth();\n            }\n            var xw = x + width;\n            var yh = y + height;\n            this.ctx.moveTo(x, y);\n            this.ctx.lineTo(xw, y);\n            this.ctx.lineTo(xw, yh);\n            this.ctx.lineTo(x, yh);\n            this.ctx.lineTo(x, y);\n            this.ctx.closePath();\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.moveTo(x, y);\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            ctx.lineTo(x, y);\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3],\n                              x, y);\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            ctx.bezierCurveTo(x, y, args[j], args[j + 1],\n                              args[j + 2], args[j + 3]);\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n            j += 4;\n            break;\n          case OPS.closePath:\n            ctx.closePath();\n            break;\n        }\n      }\n      current.setCurrentPoint(x, y);\n    },\n    closePath: function CanvasGraphics_closePath() {\n      this.ctx.closePath();\n    },\n    stroke: function CanvasGraphics_stroke(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var strokeColor = this.current.strokeColor;\n      // Prevent drawing too thin lines by enforcing a minimum line width.\n      ctx.lineWidth = Math.max(this.getSinglePixelWidth() * MIN_WIDTH_FACTOR,\n                               this.current.lineWidth);\n      // For stroke we want to temporarily change the global alpha to the\n      // stroking alpha.\n      ctx.globalAlpha = this.current.strokeAlpha;\n      if (strokeColor && strokeColor.hasOwnProperty('type') &&\n          strokeColor.type === 'Pattern') {\n        // for patterns, we transform to pattern space, calculate\n        // the pattern, call stroke, and restore to user space\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        ctx.stroke();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n      // Restore the global alpha to the fill alpha\n      ctx.globalAlpha = this.current.fillAlpha;\n    },\n    closeStroke: function CanvasGraphics_closeStroke() {\n      this.closePath();\n      this.stroke();\n    },\n    fill: function CanvasGraphics_fill(consumePath) {\n      consumePath = typeof consumePath !== 'undefined' ? consumePath : true;\n      var ctx = this.ctx;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      var needRestore = false;\n\n      if (isPatternFill) {\n        ctx.save();\n        if (this.baseTransform) {\n          ctx.setTransform.apply(ctx, this.baseTransform);\n        }\n        ctx.fillStyle = fillColor.getPattern(ctx, this);\n        needRestore = true;\n      }\n\n      if (this.pendingEOFill) {\n        ctx.fill('evenodd');\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n\n      if (needRestore) {\n        ctx.restore();\n      }\n      if (consumePath) {\n        this.consumePath();\n      }\n    },\n    eoFill: function CanvasGraphics_eoFill() {\n      this.pendingEOFill = true;\n      this.fill();\n    },\n    fillStroke: function CanvasGraphics_fillStroke() {\n      this.fill(false);\n      this.stroke(false);\n\n      this.consumePath();\n    },\n    eoFillStroke: function CanvasGraphics_eoFillStroke() {\n      this.pendingEOFill = true;\n      this.fillStroke();\n    },\n    closeFillStroke: function CanvasGraphics_closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    },\n    closeEOFillStroke: function CanvasGraphics_closeEOFillStroke() {\n      this.pendingEOFill = true;\n      this.closePath();\n      this.fillStroke();\n    },\n    endPath: function CanvasGraphics_endPath() {\n      this.consumePath();\n    },\n\n    // Clipping\n    clip: function CanvasGraphics_clip() {\n      this.pendingClip = NORMAL_CLIP;\n    },\n    eoClip: function CanvasGraphics_eoClip() {\n      this.pendingClip = EO_CLIP;\n    },\n\n    // Text\n    beginText: function CanvasGraphics_beginText() {\n      this.current.textMatrix = IDENTITY_MATRIX;\n      this.current.textMatrixScale = 1;\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    endText: function CanvasGraphics_endText() {\n      var paths = this.pendingTextPaths;\n      var ctx = this.ctx;\n      if (paths === undefined) {\n        ctx.beginPath();\n        return;\n      }\n\n      ctx.save();\n      ctx.beginPath();\n      for (var i = 0; i < paths.length; i++) {\n        var path = paths[i];\n        ctx.setTransform.apply(ctx, path.transform);\n        ctx.translate(path.x, path.y);\n        path.addToPath(ctx, path.fontSize);\n      }\n      ctx.restore();\n      ctx.clip();\n      ctx.beginPath();\n      delete this.pendingTextPaths;\n    },\n    setCharSpacing: function CanvasGraphics_setCharSpacing(spacing) {\n      this.current.charSpacing = spacing;\n    },\n    setWordSpacing: function CanvasGraphics_setWordSpacing(spacing) {\n      this.current.wordSpacing = spacing;\n    },\n    setHScale: function CanvasGraphics_setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    },\n    setLeading: function CanvasGraphics_setLeading(leading) {\n      this.current.leading = -leading;\n    },\n    setFont: function CanvasGraphics_setFont(fontRefName, size) {\n      var fontObj = this.commonObjs.get(fontRefName);\n      var current = this.current;\n\n      if (!fontObj) {\n        throw new Error(`Can't find font for ${fontRefName}`);\n      }\n\n      current.fontMatrix = (fontObj.fontMatrix ?\n                            fontObj.fontMatrix : FONT_IDENTITY_MATRIX);\n\n      // A valid matrix needs all main diagonal elements to be non-zero\n      // This also ensures we bypass FF bugzilla bug #719844.\n      if (current.fontMatrix[0] === 0 ||\n          current.fontMatrix[3] === 0) {\n        warn('Invalid font matrix for font ' + fontRefName);\n      }\n\n      // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n      // and in some docs this can be negative (inverted x-y axes).\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n\n      this.current.font = fontObj;\n      this.current.fontSize = size;\n\n      if (fontObj.isType3Font) {\n        return; // we don't need ctx.font for Type3 fonts\n      }\n\n      var name = fontObj.loadedName || 'sans-serif';\n      var bold = fontObj.black ? '900' : (fontObj.bold ? 'bold' : 'normal');\n      var italic = fontObj.italic ? 'italic' : 'normal';\n      var typeface = '\"' + name + '\", ' + fontObj.fallbackName;\n\n      // Some font backends cannot handle fonts below certain size.\n      // Keeping the font at minimal size and using the fontSizeScale to change\n      // the current transformation matrix before the fillText/strokeText.\n      // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n      var browserFontSize = size < MIN_FONT_SIZE ? MIN_FONT_SIZE :\n                            size > MAX_FONT_SIZE ? MAX_FONT_SIZE : size;\n      this.current.fontSizeScale = size / browserFontSize;\n\n      var rule = italic + ' ' + bold + ' ' + browserFontSize + 'px ' + typeface;\n      this.ctx.font = rule;\n    },\n    setTextRenderingMode: function CanvasGraphics_setTextRenderingMode(mode) {\n      this.current.textRenderingMode = mode;\n    },\n    setTextRise: function CanvasGraphics_setTextRise(rise) {\n      this.current.textRise = rise;\n    },\n    moveText: function CanvasGraphics_moveText(x, y) {\n      this.current.x = this.current.lineX += x;\n      this.current.y = this.current.lineY += y;\n    },\n    setLeadingMoveText: function CanvasGraphics_setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    },\n    setTextMatrix: function CanvasGraphics_setTextMatrix(a, b, c, d, e, f) {\n      this.current.textMatrix = [a, b, c, d, e, f];\n      this.current.textMatrixScale = Math.sqrt(a * a + b * b);\n\n      this.current.x = this.current.lineX = 0;\n      this.current.y = this.current.lineY = 0;\n    },\n    nextLine: function CanvasGraphics_nextLine() {\n      this.moveText(0, this.current.leading);\n    },\n\n    paintChar: function CanvasGraphics_paintChar(character, x, y) {\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var textRenderingMode = current.textRenderingMode;\n      var fontSize = current.fontSize / current.fontSizeScale;\n      var fillStrokeMode = textRenderingMode &\n        TextRenderingMode.FILL_STROKE_MASK;\n      var isAddToPathSet = !!(textRenderingMode &\n        TextRenderingMode.ADD_TO_PATH_FLAG);\n\n      var addToPath;\n      if (font.disableFontFace || isAddToPathSet) {\n        addToPath = font.getPathGenerator(this.commonObjs, character);\n      }\n\n      if (font.disableFontFace) {\n        ctx.save();\n        ctx.translate(x, y);\n        ctx.beginPath();\n        addToPath(ctx, fontSize);\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fill();\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.stroke();\n        }\n        ctx.restore();\n      } else {\n        if (fillStrokeMode === TextRenderingMode.FILL ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.fillText(character, x, y);\n        }\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          ctx.strokeText(character, x, y);\n        }\n      }\n\n      if (isAddToPathSet) {\n        var paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n        paths.push({\n          transform: ctx.mozCurrentTransform,\n          x,\n          y,\n          fontSize,\n          addToPath,\n        });\n      }\n    },\n\n    get isFontSubpixelAAEnabled() {\n      // Checks if anti-aliasing is enabled when scaled text is painted.\n      // On Windows GDI scaled fonts looks bad.\n      var ctx = this.canvasFactory.create(10, 10).context;\n      ctx.scale(1.5, 1);\n      ctx.fillText('I', 0, 10);\n      var data = ctx.getImageData(0, 0, 10, 10).data;\n      var enabled = false;\n      for (var i = 3; i < data.length; i += 4) {\n        if (data[i] > 0 && data[i] < 255) {\n          enabled = true;\n          break;\n        }\n      }\n      return shadow(this, 'isFontSubpixelAAEnabled', enabled);\n    },\n\n    showText: function CanvasGraphics_showText(glyphs) {\n      var current = this.current;\n      var font = current.font;\n      if (font.isType3Font) {\n        return this.showType3Text(glyphs);\n      }\n\n      var fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      var ctx = this.ctx;\n      var fontSizeScale = current.fontSizeScale;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var fontDirection = current.fontDirection;\n      var textHScale = current.textHScale * fontDirection;\n      var glyphsLength = glyphs.length;\n      var vertical = font.vertical;\n      var spacingDir = vertical ? 1 : -1;\n      var defaultVMetrics = font.defaultVMetrics;\n      var widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      var simpleFillText =\n        current.textRenderingMode === TextRenderingMode.FILL &&\n        !font.disableFontFace;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y + current.textRise);\n\n      if (current.patternFill) {\n        // TODO: Some shading patterns are not applied correctly to text,\n        //       e.g. issues 3988 and 5432, and ShowText-ShadingPattern.pdf.\n        ctx.fillStyle = current.fillColor.getPattern(ctx, this);\n      }\n\n      if (fontDirection > 0) {\n        ctx.scale(textHScale, -1);\n      } else {\n        ctx.scale(textHScale, 1);\n      }\n\n      var lineWidth = current.lineWidth;\n      var scale = current.textMatrixScale;\n      if (scale === 0 || lineWidth === 0) {\n        var fillStrokeMode = current.textRenderingMode &\n          TextRenderingMode.FILL_STROKE_MASK;\n        if (fillStrokeMode === TextRenderingMode.STROKE ||\n            fillStrokeMode === TextRenderingMode.FILL_STROKE) {\n          this.cachedGetSinglePixelWidth = null;\n          lineWidth = this.getSinglePixelWidth() * MIN_WIDTH_FACTOR;\n        }\n      } else {\n        lineWidth /= scale;\n      }\n\n      if (fontSizeScale !== 1.0) {\n        ctx.scale(fontSizeScale, fontSizeScale);\n        lineWidth /= fontSizeScale;\n      }\n\n      ctx.lineWidth = lineWidth;\n\n      var x = 0, i;\n      for (i = 0; i < glyphsLength; ++i) {\n        var glyph = glyphs[i];\n        if (isNum(glyph)) {\n          x += spacingDir * glyph * fontSize / 1000;\n          continue;\n        }\n\n        var restoreNeeded = false;\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var character = glyph.fontChar;\n        var accent = glyph.accent;\n        var scaledX, scaledY, scaledAccentX, scaledAccentY;\n        var width = glyph.width;\n        if (vertical) {\n          var vmetric, vx, vy;\n          vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (font.remeasure && width > 0) {\n          // Some standard fonts may not have the exact width: rescale per\n          // character if measured width is greater than expected glyph width\n          // and subpixel-aa is enabled, otherwise just center the glyph.\n          var measuredWidth = ctx.measureText(character).width * 1000 /\n            fontSize * fontSizeScale;\n          if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n            var characterScaleX = width / measuredWidth;\n            restoreNeeded = true;\n            ctx.save();\n            ctx.scale(characterScaleX, 1);\n            scaledX /= characterScaleX;\n          } else if (width !== measuredWidth) {\n            scaledX += (width - measuredWidth) / 2000 *\n              fontSize / fontSizeScale;\n          }\n        }\n\n        // Only attempt to draw the glyph if it is actually in the embedded font\n        // file or if there isn't a font file so the fallback font is shown.\n        if (glyph.isInFont || font.missingFile) {\n          if (simpleFillText && !accent) {\n            // common case\n            ctx.fillText(character, scaledX, scaledY);\n          } else {\n            this.paintChar(character, scaledX, scaledY);\n            if (accent) {\n              scaledAccentX = scaledX + accent.offset.x / fontSizeScale;\n              scaledAccentY = scaledY - accent.offset.y / fontSizeScale;\n              this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY);\n            }\n          }\n        }\n\n        var charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        x += charWidth;\n\n        if (restoreNeeded) {\n          ctx.restore();\n        }\n      }\n      if (vertical) {\n        current.y -= x * textHScale;\n      } else {\n        current.x += x * textHScale;\n      }\n      ctx.restore();\n    },\n\n    showType3Text: function CanvasGraphics_showType3Text(glyphs) {\n      // Type3 fonts - each glyph is a \"mini-PDF\"\n      var ctx = this.ctx;\n      var current = this.current;\n      var font = current.font;\n      var fontSize = current.fontSize;\n      var fontDirection = current.fontDirection;\n      var spacingDir = font.vertical ? 1 : -1;\n      var charSpacing = current.charSpacing;\n      var wordSpacing = current.wordSpacing;\n      var textHScale = current.textHScale * fontDirection;\n      var fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n      var glyphsLength = glyphs.length;\n      var isTextInvisible =\n        current.textRenderingMode === TextRenderingMode.INVISIBLE;\n      var i, glyph, width, spacingLength;\n\n      if (isTextInvisible || fontSize === 0) {\n        return;\n      }\n      this.cachedGetSinglePixelWidth = null;\n\n      ctx.save();\n      ctx.transform.apply(ctx, current.textMatrix);\n      ctx.translate(current.x, current.y);\n\n      ctx.scale(textHScale, fontDirection);\n\n      for (i = 0; i < glyphsLength; ++i) {\n        glyph = glyphs[i];\n        if (isNum(glyph)) {\n          spacingLength = spacingDir * glyph * fontSize / 1000;\n          this.ctx.translate(spacingLength, 0);\n          current.x += spacingLength * textHScale;\n          continue;\n        }\n\n        var spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        var operatorList = font.charProcOperatorList[glyph.operatorListId];\n        if (!operatorList) {\n          warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n          continue;\n        }\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n\n        var transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n        width = transformed[0] * fontSize + spacing;\n\n        ctx.translate(width, 0);\n        current.x += width * textHScale;\n      }\n      ctx.restore();\n      this.processingType3 = null;\n    },\n\n    // Type3 fonts\n    setCharWidth: function CanvasGraphics_setCharWidth(xWidth, yWidth) {\n      // We can safely ignore this since the width should be the same\n      // as the width in the Widths array.\n    },\n    setCharWidthAndBounds: function CanvasGraphics_setCharWidthAndBounds(xWidth,\n                                                                        yWidth,\n                                                                        llx,\n                                                                        lly,\n                                                                        urx,\n                                                                        ury) {\n      // TODO According to the spec we're also suppose to ignore any operators\n      // that set color or include images while processing this type3 font.\n      this.ctx.rect(llx, lly, urx - llx, ury - lly);\n      this.clip();\n      this.endPath();\n    },\n\n    // Color\n    getColorN_Pattern: function CanvasGraphics_getColorN_Pattern(IR) {\n      var pattern;\n      if (IR[0] === 'TilingPattern') {\n        var color = IR[1];\n        var baseTransform = this.baseTransform ||\n                            this.ctx.mozCurrentTransform.slice();\n        var canvasGraphicsFactory = {\n          createCanvasGraphics: (ctx) => {\n            return new CanvasGraphics(ctx, this.commonObjs, this.objs,\n                                      this.canvasFactory);\n          },\n        };\n        pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory,\n                                    baseTransform);\n      } else {\n        pattern = getShadingPatternFromIR(IR);\n      }\n      return pattern;\n    },\n    setStrokeColorN: function CanvasGraphics_setStrokeColorN() {\n      this.current.strokeColor = this.getColorN_Pattern(arguments);\n    },\n    setFillColorN: function CanvasGraphics_setFillColorN() {\n      this.current.fillColor = this.getColorN_Pattern(arguments);\n      this.current.patternFill = true;\n    },\n    setStrokeRGBColor: function CanvasGraphics_setStrokeRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.strokeStyle = color;\n      this.current.strokeColor = color;\n    },\n    setFillRGBColor: function CanvasGraphics_setFillRGBColor(r, g, b) {\n      var color = Util.makeCssRgb(r, g, b);\n      this.ctx.fillStyle = color;\n      this.current.fillColor = color;\n      this.current.patternFill = false;\n    },\n\n    shadingFill: function CanvasGraphics_shadingFill(patternIR) {\n      var ctx = this.ctx;\n\n      this.save();\n      var pattern = getShadingPatternFromIR(patternIR);\n      ctx.fillStyle = pattern.getPattern(ctx, this, true);\n\n      var inv = ctx.mozCurrentTransformInverse;\n      if (inv) {\n        var canvas = ctx.canvas;\n        var width = canvas.width;\n        var height = canvas.height;\n\n        var bl = Util.applyTransform([0, 0], inv);\n        var br = Util.applyTransform([0, height], inv);\n        var ul = Util.applyTransform([width, 0], inv);\n        var ur = Util.applyTransform([width, height], inv);\n\n        var x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n        var y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n        var x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n        var y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n        this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n      } else {\n        // HACK to draw the gradient onto an infinite rectangle.\n        // PDF gradients are drawn across the entire image while\n        // Canvas only allows gradients to be drawn in a rectangle\n        // The following bug should allow us to remove this.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n        this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n      }\n\n      this.restore();\n    },\n\n    // Images\n    beginInlineImage: function CanvasGraphics_beginInlineImage() {\n      throw new Error('Should not call beginInlineImage');\n    },\n    beginImageData: function CanvasGraphics_beginImageData() {\n      throw new Error('Should not call beginImageData');\n    },\n\n    paintFormXObjectBegin: function CanvasGraphics_paintFormXObjectBegin(matrix,\n                                                                        bbox) {\n      this.save();\n      this.baseTransformStack.push(this.baseTransform);\n\n      if (isArray(matrix) && matrix.length === 6) {\n        this.transform.apply(this, matrix);\n      }\n\n      this.baseTransform = this.ctx.mozCurrentTransform;\n\n      if (isArray(bbox) && bbox.length === 4) {\n        var width = bbox[2] - bbox[0];\n        var height = bbox[3] - bbox[1];\n        this.ctx.rect(bbox[0], bbox[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    },\n\n    paintFormXObjectEnd: function CanvasGraphics_paintFormXObjectEnd() {\n      this.restore();\n      this.baseTransform = this.baseTransformStack.pop();\n    },\n\n    beginGroup: function CanvasGraphics_beginGroup(group) {\n      this.save();\n      var currentCtx = this.ctx;\n      // TODO non-isolated groups - according to Rik at adobe non-isolated\n      // group results aren't usually that different and they even have tools\n      // that ignore this setting. Notes from Rik on implementing:\n      // - When you encounter an transparency group, create a new canvas with\n      // the dimensions of the bbox\n      // - copy the content from the previous canvas to the new canvas\n      // - draw as usual\n      // - remove the backdrop alpha:\n      // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n      // value of your transparency group and 'alphaBackdrop' the alpha of the\n      // backdrop\n      // - remove background color:\n      // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n      if (!group.isolated) {\n        info('TODO: Support non-isolated groups.');\n      }\n\n      // TODO knockout - supposedly possible with the clever use of compositing\n      // modes.\n      if (group.knockout) {\n        warn('Knockout groups not supported.');\n      }\n\n      var currentTransform = currentCtx.mozCurrentTransform;\n      if (group.matrix) {\n        currentCtx.transform.apply(currentCtx, group.matrix);\n      }\n      if (!group.bbox) {\n        throw new Error('Bounding box is required.');\n      }\n\n      // Based on the current transform figure out how big the bounding box\n      // will actually be.\n      var bounds = Util.getAxialAlignedBoundingBox(\n                    group.bbox,\n                    currentCtx.mozCurrentTransform);\n      // Clip the bounding box to the current canvas.\n      var canvasBounds = [0,\n                          0,\n                          currentCtx.canvas.width,\n                          currentCtx.canvas.height];\n      bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n      // Use ceil in case we're between sizes so we don't create canvas that is\n      // too small and make the canvas at least 1x1 pixels.\n      var offsetX = Math.floor(bounds[0]);\n      var offsetY = Math.floor(bounds[1]);\n      var drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n      var drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n      var scaleX = 1, scaleY = 1;\n      if (drawnWidth > MAX_GROUP_SIZE) {\n        scaleX = drawnWidth / MAX_GROUP_SIZE;\n        drawnWidth = MAX_GROUP_SIZE;\n      }\n      if (drawnHeight > MAX_GROUP_SIZE) {\n        scaleY = drawnHeight / MAX_GROUP_SIZE;\n        drawnHeight = MAX_GROUP_SIZE;\n      }\n\n      var cacheId = 'groupAt' + this.groupLevel;\n      if (group.smask) {\n        // Using two cache entries is case if masks are used one after another.\n        cacheId += '_smask_' + ((this.smaskCounter++) % 2);\n      }\n      var scratchCanvas = this.cachedCanvases.getCanvas(\n        cacheId, drawnWidth, drawnHeight, true);\n      var groupCtx = scratchCanvas.context;\n\n      // Since we created a new canvas that is just the size of the bounding box\n      // we have to translate the group ctx.\n      groupCtx.scale(1 / scaleX, 1 / scaleY);\n      groupCtx.translate(-offsetX, -offsetY);\n      groupCtx.transform.apply(groupCtx, currentTransform);\n\n      if (group.smask) {\n        // Saving state and cached mask to be used in setGState.\n        this.smaskStack.push({\n          canvas: scratchCanvas.canvas,\n          context: groupCtx,\n          offsetX,\n          offsetY,\n          scaleX,\n          scaleY,\n          subtype: group.smask.subtype,\n          backdrop: group.smask.backdrop,\n          transferMap: group.smask.transferMap || null,\n          startTransformInverse: null, // used during suspend operation\n        });\n      } else {\n        // Setup the current ctx so when the group is popped we draw it at the\n        // right location.\n        currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n        currentCtx.translate(offsetX, offsetY);\n        currentCtx.scale(scaleX, scaleY);\n      }\n      // The transparency group inherits all off the current graphics state\n      // except the blend mode, soft mask, and alpha constants.\n      copyCtxState(currentCtx, groupCtx);\n      this.ctx = groupCtx;\n      this.setGState([\n        ['BM', 'source-over'],\n        ['ca', 1],\n        ['CA', 1]\n      ]);\n      this.groupStack.push(currentCtx);\n      this.groupLevel++;\n\n      // Reseting mask state, masks will be applied on restore of the group.\n      this.current.activeSMask = null;\n    },\n\n    endGroup: function CanvasGraphics_endGroup(group) {\n      this.groupLevel--;\n      var groupCtx = this.ctx;\n      this.ctx = this.groupStack.pop();\n      // Turn off image smoothing to avoid sub pixel interpolation which can\n      // look kind of blurry for some pdfs.\n      if (this.ctx.imageSmoothingEnabled !== undefined) {\n        this.ctx.imageSmoothingEnabled = false;\n      } else {\n        this.ctx.mozImageSmoothingEnabled = false;\n      }\n      if (group.smask) {\n        this.tempSMask = this.smaskStack.pop();\n      } else {\n        this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      }\n      this.restore();\n    },\n\n    beginAnnotations: function CanvasGraphics_beginAnnotations() {\n      this.save();\n      if (this.baseTransform) {\n        this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n      }\n    },\n\n    endAnnotations: function CanvasGraphics_endAnnotations() {\n      this.restore();\n    },\n\n    beginAnnotation: function CanvasGraphics_beginAnnotation(rect, transform,\n                                                             matrix) {\n      this.save();\n      resetCtxToDefault(this.ctx);\n      this.current = new CanvasExtraState();\n\n      if (isArray(rect) && rect.length === 4) {\n        var width = rect[2] - rect[0];\n        var height = rect[3] - rect[1];\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n\n      this.transform.apply(this, transform);\n      this.transform.apply(this, matrix);\n    },\n\n    endAnnotation: function CanvasGraphics_endAnnotation() {\n      this.restore();\n    },\n\n    paintJpegXObject: function CanvasGraphics_paintJpegXObject(objId, w, h) {\n      var domImage = this.objs.get(objId);\n      if (!domImage) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.save();\n\n      var ctx = this.ctx;\n      // scale the image to the unit square\n      ctx.scale(1 / w, -1 / h);\n\n      ctx.drawImage(domImage, 0, 0, domImage.width, domImage.height,\n                    0, -h, w, h);\n      if (this.imageLayer) {\n        var currentTransform = ctx.mozCurrentTransformInverse;\n        var position = this.getCanvasPosition(0, 0);\n        this.imageLayer.appendImage({\n          objId,\n          left: position[0],\n          top: position[1],\n          width: w / currentTransform[0],\n          height: h / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintImageMaskXObject: function CanvasGraphics_paintImageMaskXObject(img) {\n      var ctx = this.ctx;\n      var width = img.width, height = img.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var glyph = this.processingType3;\n\n      if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n        if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n          glyph.compiled =\n            compileType3Glyph({ data: img.data, width, height, });\n        } else {\n          glyph.compiled = null;\n        }\n      }\n\n      if (glyph && glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n\n      var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                     width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      this.paintInlineImageXObject(maskCanvas.canvas);\n    },\n\n    paintImageMaskXObjectRepeat:\n      function CanvasGraphics_paintImageMaskXObjectRepeat(imgData, scaleX,\n                                                          scaleY, positions) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n\n      var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                     width, height);\n      var maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, imgData);\n\n      maskCtx.globalCompositeOperation = 'source-in';\n\n      maskCtx.fillStyle = isPatternFill ?\n                          fillColor.getPattern(maskCtx, this) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      var ctx = this.ctx;\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        ctx.save();\n        ctx.transform(scaleX, 0, 0, scaleY, positions[i], positions[i + 1]);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n          0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageMaskXObjectGroup:\n      function CanvasGraphics_paintImageMaskXObjectGroup(images) {\n      var ctx = this.ctx;\n\n      var fillColor = this.current.fillColor;\n      var isPatternFill = this.current.patternFill;\n      for (var i = 0, ii = images.length; i < ii; i++) {\n        var image = images[i];\n        var width = image.width, height = image.height;\n\n        var maskCanvas = this.cachedCanvases.getCanvas('maskCanvas',\n                                                       width, height);\n        var maskCtx = maskCanvas.context;\n        maskCtx.save();\n\n        putBinaryImageMask(maskCtx, image);\n\n        maskCtx.globalCompositeOperation = 'source-in';\n\n        maskCtx.fillStyle = isPatternFill ?\n                            fillColor.getPattern(maskCtx, this) : fillColor;\n        maskCtx.fillRect(0, 0, width, height);\n\n        maskCtx.restore();\n\n        ctx.save();\n        ctx.transform.apply(ctx, image.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(maskCanvas.canvas, 0, 0, width, height,\n                      0, -1, 1, 1);\n        ctx.restore();\n      }\n    },\n\n    paintImageXObject: function CanvasGraphics_paintImageXObject(objId) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      this.paintInlineImageXObject(imgData);\n    },\n\n    paintImageXObjectRepeat:\n      function CanvasGraphics_paintImageXObjectRepeat(objId, scaleX, scaleY,\n                                                          positions) {\n      var imgData = this.objs.get(objId);\n      if (!imgData) {\n        warn('Dependent image isn\\'t ready yet');\n        return;\n      }\n\n      var width = imgData.width;\n      var height = imgData.height;\n      var map = [];\n      for (var i = 0, ii = positions.length; i < ii; i += 2) {\n        map.push({ transform: [scaleX, 0, 0, scaleY, positions[i],\n                   positions[i + 1]], x: 0, y: 0, w: width, h: height, });\n      }\n      this.paintInlineImageXObjectGroup(imgData, map);\n    },\n\n    paintInlineImageXObject:\n      function CanvasGraphics_paintInlineImageXObject(imgData) {\n      var width = imgData.width;\n      var height = imgData.height;\n      var ctx = this.ctx;\n\n      this.save();\n      // scale the image to the unit square\n      ctx.scale(1 / width, -1 / height);\n\n      var currentTransform = ctx.mozCurrentTransformInverse;\n      var a = currentTransform[0], b = currentTransform[1];\n      var widthScale = Math.max(Math.sqrt(a * a + b * b), 1);\n      var c = currentTransform[2], d = currentTransform[3];\n      var heightScale = Math.max(Math.sqrt(c * c + d * d), 1);\n\n      var imgToPaint, tmpCanvas;\n      // instanceof HTMLElement does not work in jsdom node.js module\n      if (imgData instanceof HTMLElement || !imgData.data) {\n        imgToPaint = imgData;\n      } else {\n        tmpCanvas = this.cachedCanvases.getCanvas('inlineImage',\n                                                  width, height);\n        var tmpCtx = tmpCanvas.context;\n        putBinaryImageData(tmpCtx, imgData);\n        imgToPaint = tmpCanvas.canvas;\n      }\n\n      var paintWidth = width, paintHeight = height;\n      var tmpCanvasId = 'prescale1';\n      // Vertial or horizontal scaling shall not be more than 2 to not loose the\n      // pixels during drawImage operation, painting on the temporary canvas(es)\n      // that are twice smaller in size\n      while ((widthScale > 2 && paintWidth > 1) ||\n             (heightScale > 2 && paintHeight > 1)) {\n        var newWidth = paintWidth, newHeight = paintHeight;\n        if (widthScale > 2 && paintWidth > 1) {\n          newWidth = Math.ceil(paintWidth / 2);\n          widthScale /= paintWidth / newWidth;\n        }\n        if (heightScale > 2 && paintHeight > 1) {\n          newHeight = Math.ceil(paintHeight / 2);\n          heightScale /= paintHeight / newHeight;\n        }\n        tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId,\n                                                  newWidth, newHeight);\n        tmpCtx = tmpCanvas.context;\n        tmpCtx.clearRect(0, 0, newWidth, newHeight);\n        tmpCtx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                     0, 0, newWidth, newHeight);\n        imgToPaint = tmpCanvas.canvas;\n        paintWidth = newWidth;\n        paintHeight = newHeight;\n        tmpCanvasId = tmpCanvasId === 'prescale1' ? 'prescale2' : 'prescale1';\n      }\n      ctx.drawImage(imgToPaint, 0, 0, paintWidth, paintHeight,\n                                0, -height, width, height);\n\n      if (this.imageLayer) {\n        var position = this.getCanvasPosition(0, -height);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: width / currentTransform[0],\n          height: height / currentTransform[3],\n        });\n      }\n      this.restore();\n    },\n\n    paintInlineImageXObjectGroup:\n      function CanvasGraphics_paintInlineImageXObjectGroup(imgData, map) {\n      var ctx = this.ctx;\n      var w = imgData.width;\n      var h = imgData.height;\n\n      var tmpCanvas = this.cachedCanvases.getCanvas('inlineImage', w, h);\n      var tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n\n      for (var i = 0, ii = map.length; i < ii; i++) {\n        var entry = map[i];\n        ctx.save();\n        ctx.transform.apply(ctx, entry.transform);\n        ctx.scale(1, -1);\n        ctx.drawImage(tmpCanvas.canvas, entry.x, entry.y, entry.w, entry.h,\n                      0, -1, 1, 1);\n        if (this.imageLayer) {\n          var position = this.getCanvasPosition(entry.x, entry.y);\n          this.imageLayer.appendImage({\n            imgData,\n            left: position[0],\n            top: position[1],\n            width: w,\n            height: h,\n          });\n        }\n        ctx.restore();\n      }\n    },\n\n    paintSolidColorImageMask:\n      function CanvasGraphics_paintSolidColorImageMask() {\n        this.ctx.fillRect(0, 0, 1, 1);\n    },\n\n    paintXObject: function CanvasGraphics_paintXObject() {\n      warn('Unsupported \\'paintXObject\\' command.');\n    },\n\n    // Marked content\n\n    markPoint: function CanvasGraphics_markPoint(tag) {\n      // TODO Marked content.\n    },\n    markPointProps: function CanvasGraphics_markPointProps(tag, properties) {\n      // TODO Marked content.\n    },\n    beginMarkedContent: function CanvasGraphics_beginMarkedContent(tag) {\n      // TODO Marked content.\n    },\n    beginMarkedContentProps: function CanvasGraphics_beginMarkedContentProps(\n                                        tag, properties) {\n      // TODO Marked content.\n    },\n    endMarkedContent: function CanvasGraphics_endMarkedContent() {\n      // TODO Marked content.\n    },\n\n    // Compatibility\n\n    beginCompat: function CanvasGraphics_beginCompat() {\n      // TODO ignore undefined operators (should we do that anyway?)\n    },\n    endCompat: function CanvasGraphics_endCompat() {\n      // TODO stop ignoring undefined operators\n    },\n\n    // Helper functions\n\n    consumePath: function CanvasGraphics_consumePath() {\n      var ctx = this.ctx;\n      if (this.pendingClip) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip('evenodd');\n        } else {\n          ctx.clip();\n        }\n        this.pendingClip = null;\n      }\n      ctx.beginPath();\n    },\n    getSinglePixelWidth: function CanvasGraphics_getSinglePixelWidth(scale) {\n      if (this.cachedGetSinglePixelWidth === null) {\n        // NOTE: The `save` and `restore` commands used below is a workaround\n        // that is necessary in order to prevent `mozCurrentTransformInverse`\n        // from intermittently returning incorrect values in Firefox, see:\n        // https://github.com/mozilla/pdf.js/issues/7188.\n        this.ctx.save();\n        var inverse = this.ctx.mozCurrentTransformInverse;\n        this.ctx.restore();\n        // max of the current horizontal and vertical scale\n        this.cachedGetSinglePixelWidth = Math.sqrt(Math.max(\n          (inverse[0] * inverse[0] + inverse[1] * inverse[1]),\n          (inverse[2] * inverse[2] + inverse[3] * inverse[3])));\n      }\n      return this.cachedGetSinglePixelWidth;\n    },\n    getCanvasPosition: function CanvasGraphics_getCanvasPosition(x, y) {\n      var transform = this.ctx.mozCurrentTransform;\n      return [\n        transform[0] * x + transform[2] * y + transform[4],\n        transform[1] * x + transform[3] * y + transform[5]\n      ];\n    },\n  };\n\n  for (var op in OPS) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n\n  return CanvasGraphics;\n})();\n\nexport {\n  CanvasGraphics,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/canvas.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert, bytesToString, isEvalSupported, shadow, string32, warn\n} from '../shared/util';\n\nfunction FontLoader(docId) {\n  this.docId = docId;\n  this.styleElement = null;\n  if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n    this.nativeFontFaces = [];\n    this.loadTestFontId = 0;\n    this.loadingContext = {\n      requests: [],\n      nextRequestId: 0,\n    };\n  }\n}\nFontLoader.prototype = {\n  insertRule: function fontLoaderInsertRule(rule) {\n    var styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = document.createElement('style');\n      styleElement.id = 'PDFJS_FONT_STYLE_TAG_' + this.docId;\n      document.documentElement.getElementsByTagName('head')[0].appendChild(\n        styleElement);\n    }\n\n    var styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  },\n\n  clear: function fontLoaderClear() {\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n    if (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n      this.nativeFontFaces.forEach(function(nativeFontFace) {\n        document.fonts.delete(nativeFontFace);\n      });\n      this.nativeFontFaces.length = 0;\n    }\n  },\n};\n\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n  var getLoadTestFont = function () {\n    // This is a CFF font with 1 glyph for '.' that fills its entire width and\n    // height.\n    return atob(\n      'T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQ' +\n      'AABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwA' +\n      'AAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbm' +\n      'FtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAA' +\n      'AADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6A' +\n      'ABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAA' +\n      'MQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAA' +\n      'AAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAA' +\n      'AAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQ' +\n      'AAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMA' +\n      'AQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAA' +\n      'EAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAA' +\n      'AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' +\n      'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAA' +\n      'AAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgc' +\n      'A/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF' +\n      'hYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQA' +\n      'AAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAg' +\n      'ABAAAAAAAAAAAD6AAAAAAAAA==');\n  };\n  Object.defineProperty(FontLoader.prototype, 'loadTestFont', {\n    get() {\n      return shadow(this, 'loadTestFont', getLoadTestFont());\n    },\n    configurable: true,\n  });\n\n  FontLoader.prototype.addNativeFontFace =\n      function fontLoader_addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    document.fonts.add(nativeFontFace);\n  };\n\n  FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n    var rules = [];\n    var fontsToLoad = [];\n    var fontLoadPromises = [];\n    var getNativeFontPromise = function(nativeFontFace) {\n      // Return a promise that is always fulfilled, even when the font fails to\n      // load.\n      return nativeFontFace.loaded.catch(function(e) {\n        warn('Failed to load font \"' + nativeFontFace.family + '\": ' + e);\n      });\n    };\n    // Firefox Font Loading API does not work with mozPrintCallback --\n    // disabling it in this case.\n    var isFontLoadingAPISupported = FontLoader.isFontLoadingAPISupported &&\n                                    !FontLoader.isSyncFontLoadingSupported;\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n\n      // Add the font to the DOM only once or skip if the font\n      // is already loaded.\n      if (font.attached || font.loading === false) {\n        continue;\n      }\n      font.attached = true;\n\n      if (isFontLoadingAPISupported) {\n        var nativeFontFace = font.createNativeFontFace();\n        if (nativeFontFace) {\n          this.addNativeFontFace(nativeFontFace);\n          fontLoadPromises.push(getNativeFontPromise(nativeFontFace));\n        }\n      } else {\n        var rule = font.createFontFaceRule();\n        if (rule) {\n          this.insertRule(rule);\n          rules.push(rule);\n          fontsToLoad.push(font);\n        }\n      }\n    }\n\n    var request = this.queueLoadingCallback(callback);\n    if (isFontLoadingAPISupported) {\n      Promise.all(fontLoadPromises).then(function() {\n        request.complete();\n      });\n    } else if (rules.length > 0 && !FontLoader.isSyncFontLoadingSupported) {\n      this.prepareFontLoadEvent(rules, fontsToLoad, request);\n    } else {\n      request.complete();\n    }\n  };\n\n  FontLoader.prototype.queueLoadingCallback =\n      function FontLoader_queueLoadingCallback(callback) {\n    function LoadLoader_completeRequest() {\n      assert(!request.end, 'completeRequest() cannot be called twice');\n      request.end = Date.now();\n\n      // sending all completed requests in order how they were queued\n      while (context.requests.length > 0 && context.requests[0].end) {\n        var otherRequest = context.requests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    var context = this.loadingContext;\n    var requestId = 'pdfjs-font-loading-' + (context.nextRequestId++);\n    var request = {\n      id: requestId,\n      complete: LoadLoader_completeRequest,\n      callback,\n      started: Date.now(),\n    };\n    context.requests.push(request);\n    return request;\n  };\n\n  FontLoader.prototype.prepareFontLoadEvent =\n        function fontLoaderPrepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is\n      // ready. It's assumed fonts are loaded in order, so add a known test\n      // font after the desired fonts and then test for the loading of that\n      // test font.\n\n      function int32(data, offset) {\n        return (data.charCodeAt(offset) << 24) |\n               (data.charCodeAt(offset + 1) << 16) |\n               (data.charCodeAt(offset + 2) << 8) |\n               (data.charCodeAt(offset + 3) & 0xff);\n      }\n\n      function spliceString(s, offset, remove, insert) {\n        var chunk1 = s.substr(0, offset);\n        var chunk2 = s.substr(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n\n      var i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      var canvas = document.createElement('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n\n      var called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn('Load test font never loaded.');\n          callback();\n          return;\n        }\n        ctx.font = '30px ' + name;\n        ctx.fillText('.', 0, 20);\n        var imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      var loadTestFontId = 'lt' + Date.now() + this.loadTestFontId++;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      var data = this.loadTestFont;\n      var COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length,\n                          loadTestFontId);\n      // CFF checksum is important for IE, adjusting it\n      var CFF_CHECKSUM_OFFSET = 16;\n      var XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      var checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) { // align to 4 bytes boundary\n        checksum = (checksum - XXXX_VALUE +\n                    int32(loadTestFontId + 'XXX', i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      var url = 'url(data:font/opentype;base64,' + btoa(data) + ');';\n      var rule = '@font-face { font-family:\"' + loadTestFontId + '\";src:' +\n                 url + '}';\n      this.insertRule(rule);\n\n      var names = [];\n      for (i = 0, ii = fonts.length; i < ii; i++) {\n        names.push(fonts[i].loadedName);\n      }\n      names.push(loadTestFontId);\n\n      var div = document.createElement('div');\n      div.setAttribute('style',\n                       'visibility: hidden;' +\n                       'width: 10px; height: 10px;' +\n                       'position: absolute; top: 0px; left: 0px;');\n      for (i = 0, ii = names.length; i < ii; ++i) {\n        var span = document.createElement('span');\n        span.textContent = 'Hi';\n        span.style.fontFamily = names[i];\n        div.appendChild(span);\n      }\n      document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, function() {\n        document.body.removeChild(div);\n        request.complete();\n      });\n      /** Hack end */\n  };\n} else {\n  FontLoader.prototype.bind = function fontLoaderBind(fonts, callback) {\n    for (var i = 0, ii = fonts.length; i < ii; i++) {\n      var font = fonts[i];\n      if (font.attached) {\n        continue;\n      }\n\n      font.attached = true;\n      var rule = font.createFontFaceRule();\n      if (rule) {\n        this.insertRule(rule);\n      }\n    }\n\n    setTimeout(callback);\n  };\n}\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL')) {\n  FontLoader.isFontLoadingAPISupported = typeof document !== 'undefined' &&\n                                         !!document.fonts;\n}\nif (typeof PDFJSDev === 'undefined' || !PDFJSDev.test('MOZCENTRAL || CHROME')) {\n  var isSyncFontLoadingSupported = function isSyncFontLoadingSupported() {\n    if (typeof navigator === 'undefined') {\n      // node.js - we can pretend sync font loading is supported.\n      return true;\n    }\n\n    var supported = false;\n\n    // User agent string sniffing is bad, but there is no reliable way to tell\n    // if font is fully loaded and ready to be used with canvas.\n    var m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(navigator.userAgent);\n    if (m && m[1] >= 14) {\n      supported = true;\n    }\n    // TODO other browsers\n    return supported;\n  };\n  Object.defineProperty(FontLoader, 'isSyncFontLoadingSupported', {\n    get() {\n      return shadow(FontLoader, 'isSyncFontLoadingSupported',\n                    isSyncFontLoadingSupported());\n    },\n    enumerable: true,\n    configurable: true,\n  });\n}\n\nvar IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, 'value', isEvalSupported());\n  },\n};\n\nvar FontFaceObject = (function FontFaceObjectClosure() {\n  function FontFaceObject(translatedData, options) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (var i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.options = options;\n  }\n  FontFaceObject.prototype = {\n    createNativeFontFace: function FontFaceObject_createNativeFontFace() {\n      if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('MOZCENTRAL')) {\n        throw new Error('Not implemented: createNativeFontFace');\n      }\n\n      if (!this.data) {\n        return null;\n      }\n\n      if (this.options.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var nativeFontFace = new FontFace(this.loadedName, this.data, {});\n\n      if (this.options.fontRegistry) {\n        this.options.fontRegistry.registerFont(this);\n      }\n      return nativeFontFace;\n    },\n\n    createFontFaceRule: function FontFaceObject_createFontFaceRule() {\n      if (!this.data) {\n        return null;\n      }\n\n      if (this.options.disableFontFace) {\n        this.disableFontFace = true;\n        return null;\n      }\n\n      var data = bytesToString(new Uint8Array(this.data));\n      var fontName = this.loadedName;\n\n      // Add the font-face rule to the document\n      var url = ('url(data:' + this.mimetype + ';base64,' + btoa(data) + ');');\n      var rule = '@font-face { font-family:\"' + fontName + '\";src:' + url + '}';\n\n      if (this.options.fontRegistry) {\n        this.options.fontRegistry.registerFont(this, url);\n      }\n\n      return rule;\n    },\n\n    getPathGenerator:\n        function FontFaceObject_getPathGenerator(objs, character) {\n      if (!(character in this.compiledGlyphs)) {\n        var cmds = objs.get(this.loadedName + '_path_' + character);\n        var current, i, len;\n\n        // If we can, compile cmds into JS for MAXIMUM SPEED\n        if (this.options.isEvalSupported && IsEvalSupportedCached.value) {\n          var args, js = '';\n          for (i = 0, len = cmds.length; i < len; i++) {\n            current = cmds[i];\n\n            if (current.args !== undefined) {\n              args = current.args.join(',');\n            } else {\n              args = '';\n            }\n\n            js += 'c.' + current.cmd + '(' + args + ');\\n';\n          }\n          // eslint-disable-next-line no-new-func\n          this.compiledGlyphs[character] = new Function('c', 'size', js);\n        } else {\n          // But fall back on using Function.prototype.apply() if we're\n          // blocked from using eval() for whatever reason (like CSP policies)\n          this.compiledGlyphs[character] = function(c, size) {\n            for (i = 0, len = cmds.length; i < len; i++) {\n              current = cmds[i];\n\n              if (current.cmd === 'scale') {\n                current.args = [size, -size];\n              }\n\n              c[current.cmd].apply(c, current.args);\n            }\n          };\n        }\n      }\n      return this.compiledGlyphs[character];\n    },\n  };\n\n  return FontFaceObject;\n})();\n\nexport {\n  FontFaceObject,\n  FontLoader,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/font_loader.js","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, isArray, Util } from '../shared/util';\nimport { WebGLUtils } from './webgl';\n\nvar ShadingIRs = {};\n\nShadingIRs.RadialAxial = {\n  fromIR: function RadialAxial_fromIR(raw) {\n    var type = raw[1];\n    var colorStops = raw[2];\n    var p0 = raw[3];\n    var p1 = raw[4];\n    var r0 = raw[5];\n    var r1 = raw[6];\n    return {\n      type: 'Pattern',\n      getPattern: function RadialAxial_getPattern(ctx) {\n        var grad;\n        if (type === 'axial') {\n          grad = ctx.createLinearGradient(p0[0], p0[1], p1[0], p1[1]);\n        } else if (type === 'radial') {\n          grad = ctx.createRadialGradient(p0[0], p0[1], r0, p1[0], p1[1], r1);\n        }\n\n        for (var i = 0, ii = colorStops.length; i < ii; ++i) {\n          var c = colorStops[i];\n          grad.addColorStop(c[0], c[1]);\n        }\n        return grad;\n      },\n    };\n  },\n};\n\nvar createMeshCanvas = (function createMeshCanvasClosure() {\n  function drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n    // Very basic Gouraud-shaded triangle rasterization algorithm.\n    var coords = context.coords, colors = context.colors;\n    var bytes = data.data, rowSize = data.width * 4;\n    var tmp;\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    if (coords[p2 + 1] > coords[p3 + 1]) {\n      tmp = p2; p2 = p3; p3 = tmp; tmp = c2; c2 = c3; c3 = tmp;\n    }\n    if (coords[p1 + 1] > coords[p2 + 1]) {\n      tmp = p1; p1 = p2; p2 = tmp; tmp = c1; c1 = c2; c2 = tmp;\n    }\n    var x1 = (coords[p1] + context.offsetX) * context.scaleX;\n    var y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n    var x2 = (coords[p2] + context.offsetX) * context.scaleX;\n    var y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n    var x3 = (coords[p3] + context.offsetX) * context.scaleX;\n    var y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n    if (y1 >= y3) {\n      return;\n    }\n    var c1r = colors[c1], c1g = colors[c1 + 1], c1b = colors[c1 + 2];\n    var c2r = colors[c2], c2g = colors[c2 + 1], c2b = colors[c2 + 2];\n    var c3r = colors[c3], c3g = colors[c3 + 1], c3b = colors[c3 + 2];\n\n    var minY = Math.round(y1), maxY = Math.round(y3);\n    var xa, car, cag, cab;\n    var xb, cbr, cbg, cbb;\n    var k;\n    for (var y = minY; y <= maxY; y++) {\n      if (y < y2) {\n        k = y < y1 ? 0 : y1 === y2 ? 1 : (y1 - y) / (y1 - y2);\n        xa = x1 - (x1 - x2) * k;\n        car = c1r - (c1r - c2r) * k;\n        cag = c1g - (c1g - c2g) * k;\n        cab = c1b - (c1b - c2b) * k;\n      } else {\n        k = y > y3 ? 1 : y2 === y3 ? 0 : (y2 - y) / (y2 - y3);\n        xa = x2 - (x2 - x3) * k;\n        car = c2r - (c2r - c3r) * k;\n        cag = c2g - (c2g - c3g) * k;\n        cab = c2b - (c2b - c3b) * k;\n      }\n      k = y < y1 ? 0 : y > y3 ? 1 : (y1 - y) / (y1 - y3);\n      xb = x1 - (x1 - x3) * k;\n      cbr = c1r - (c1r - c3r) * k;\n      cbg = c1g - (c1g - c3g) * k;\n      cbb = c1b - (c1b - c3b) * k;\n      var x1_ = Math.round(Math.min(xa, xb));\n      var x2_ = Math.round(Math.max(xa, xb));\n      var j = rowSize * y + x1_ * 4;\n      for (var x = x1_; x <= x2_; x++) {\n        k = (xa - x) / (xa - xb);\n        k = k < 0 ? 0 : k > 1 ? 1 : k;\n        bytes[j++] = (car - (car - cbr) * k) | 0;\n        bytes[j++] = (cag - (cag - cbg) * k) | 0;\n        bytes[j++] = (cab - (cab - cbb) * k) | 0;\n        bytes[j++] = 255;\n      }\n    }\n  }\n\n  function drawFigure(data, figure, context) {\n    var ps = figure.coords;\n    var cs = figure.colors;\n    var i, ii;\n    switch (figure.type) {\n      case 'lattice':\n        var verticesPerRow = figure.verticesPerRow;\n        var rows = Math.floor(ps.length / verticesPerRow) - 1;\n        var cols = verticesPerRow - 1;\n        for (i = 0; i < rows; i++) {\n          var q = i * verticesPerRow;\n          for (var j = 0; j < cols; j++, q++) {\n            drawTriangle(data, context,\n              ps[q], ps[q + 1], ps[q + verticesPerRow],\n              cs[q], cs[q + 1], cs[q + verticesPerRow]);\n            drawTriangle(data, context,\n              ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow],\n              cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n          }\n        }\n        break;\n      case 'triangles':\n        for (i = 0, ii = ps.length; i < ii; i += 3) {\n          drawTriangle(data, context,\n            ps[i], ps[i + 1], ps[i + 2],\n            cs[i], cs[i + 1], cs[i + 2]);\n        }\n        break;\n      default:\n        throw new Error('illegal figure');\n    }\n  }\n\n  function createMeshCanvas(bounds, combinesScale, coords, colors, figures,\n                            backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    var EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    var BORDER_SIZE = 2;\n\n    var offsetX = Math.floor(bounds[0]);\n    var offsetY = Math.floor(bounds[1]);\n    var boundsWidth = Math.ceil(bounds[2]) - offsetX;\n    var boundsHeight = Math.ceil(bounds[3]) - offsetY;\n\n    var width = Math.min(Math.ceil(Math.abs(boundsWidth * combinesScale[0] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var height = Math.min(Math.ceil(Math.abs(boundsHeight * combinesScale[1] *\n      EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    var scaleX = boundsWidth / width;\n    var scaleY = boundsHeight / height;\n\n    var context = {\n      coords,\n      colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    var paddedWidth = width + BORDER_SIZE * 2;\n    var paddedHeight = height + BORDER_SIZE * 2;\n\n    var canvas, tmpCanvas, i, ii;\n    if (WebGLUtils.isEnabled) {\n      canvas = WebGLUtils.drawFigures(width, height, backgroundColor,\n                                      figures, context);\n\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=972126\n      tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n                                           false);\n      tmpCanvas.context.drawImage(canvas, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    } else {\n      tmpCanvas = cachedCanvases.getCanvas('mesh', paddedWidth, paddedHeight,\n                                           false);\n      var tmpCtx = tmpCanvas.context;\n\n      var data = tmpCtx.createImageData(width, height);\n      if (backgroundColor) {\n        var bytes = data.data;\n        for (i = 0, ii = bytes.length; i < ii; i += 4) {\n          bytes[i] = backgroundColor[0];\n          bytes[i + 1] = backgroundColor[1];\n          bytes[i + 2] = backgroundColor[2];\n          bytes[i + 3] = 255;\n        }\n      }\n      for (i = 0; i < figures.length; i++) {\n        drawFigure(data, figures[i], context);\n      }\n      tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n      canvas = tmpCanvas.canvas;\n    }\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n  return createMeshCanvas;\n})();\n\nShadingIRs.Mesh = {\n  fromIR: function Mesh_fromIR(raw) {\n    // var type = raw[1];\n    var coords = raw[2];\n    var colors = raw[3];\n    var figures = raw[4];\n    var bounds = raw[5];\n    var matrix = raw[6];\n    // var bbox = raw[7];\n    var background = raw[8];\n    return {\n      type: 'Pattern',\n      getPattern: function Mesh_getPattern(ctx, owner, shadingFill) {\n        var scale;\n        if (shadingFill) {\n          scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n        } else {\n          // Obtain scale from matrix and current transformation matrix.\n          scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n          if (matrix) {\n            var matrixScale = Util.singularValueDecompose2dScale(matrix);\n            scale = [scale[0] * matrixScale[0],\n                     scale[1] * matrixScale[1]];\n          }\n        }\n\n\n        // Rasterizing on the main thread since sending/queue large canvases\n        // might cause OOM.\n        var temporaryPatternCanvas = createMeshCanvas(bounds, scale, coords,\n          colors, figures, shadingFill ? null : background,\n          owner.cachedCanvases);\n\n        if (!shadingFill) {\n          ctx.setTransform.apply(ctx, owner.baseTransform);\n          if (matrix) {\n            ctx.transform.apply(ctx, matrix);\n          }\n        }\n\n        ctx.translate(temporaryPatternCanvas.offsetX,\n                      temporaryPatternCanvas.offsetY);\n        ctx.scale(temporaryPatternCanvas.scaleX,\n                  temporaryPatternCanvas.scaleY);\n\n        return ctx.createPattern(temporaryPatternCanvas.canvas, 'no-repeat');\n      },\n    };\n  },\n};\n\nShadingIRs.Dummy = {\n  fromIR: function Dummy_fromIR() {\n    return {\n      type: 'Pattern',\n      getPattern: function Dummy_fromIR_getPattern() {\n        return 'hotpink';\n      },\n    };\n  },\n};\n\nfunction getShadingPatternFromIR(raw) {\n  var shadingIR = ShadingIRs[raw[0]];\n  if (!shadingIR) {\n    throw new Error(`Unknown IR type: ${raw[0]}`);\n  }\n  return shadingIR.fromIR(raw);\n}\n\nvar TilingPattern = (function TilingPatternClosure() {\n  var PaintType = {\n    COLORED: 1,\n    UNCOLORED: 2,\n  };\n\n  var MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n\n  function TilingPattern(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n    this.type = 'Pattern';\n    this.ctx = ctx;\n  }\n\n  TilingPattern.prototype = {\n    createPatternCanvas: function TilinPattern_createPatternCanvas(owner) {\n      var operatorList = this.operatorList;\n      var bbox = this.bbox;\n      var xstep = this.xstep;\n      var ystep = this.ystep;\n      var paintType = this.paintType;\n      var tilingType = this.tilingType;\n      var color = this.color;\n      var canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n      info('TilingType: ' + tilingType);\n\n      var x0 = bbox[0], y0 = bbox[1], x1 = bbox[2], y1 = bbox[3];\n\n      var topLeft = [x0, y0];\n      // we want the canvas to be as large as the step size\n      var botRight = [x0 + xstep, y0 + ystep];\n\n      var width = botRight[0] - topLeft[0];\n      var height = botRight[1] - topLeft[1];\n\n      // Obtain scale from matrix and current transformation matrix.\n      var matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n      var curMatrixScale = Util.singularValueDecompose2dScale(\n        this.baseTransform);\n      var combinedScale = [matrixScale[0] * curMatrixScale[0],\n        matrixScale[1] * curMatrixScale[1]];\n\n      // MAX_PATTERN_SIZE is used to avoid OOM situation.\n      // Use width and height values that are as close as possible to the end\n      // result when the pattern is used. Too low value makes the pattern look\n      // blurry. Too large value makes it look too crispy.\n      width = Math.min(Math.ceil(Math.abs(width * combinedScale[0])),\n        MAX_PATTERN_SIZE);\n\n      height = Math.min(Math.ceil(Math.abs(height * combinedScale[1])),\n        MAX_PATTERN_SIZE);\n\n      var tmpCanvas = owner.cachedCanvases.getCanvas('pattern',\n        width, height, true);\n      var tmpCtx = tmpCanvas.context;\n      var graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n      graphics.groupLevel = owner.groupLevel;\n\n      this.setFillAndStrokeStyleToContext(tmpCtx, paintType, color);\n\n      this.setScale(width, height, xstep, ystep);\n      this.transformToScale(graphics);\n\n      // transform coordinates to pattern space\n      var tmpTranslate = [1, 0, 0, 1, -topLeft[0], -topLeft[1]];\n      graphics.transform.apply(graphics, tmpTranslate);\n\n      this.clipBbox(graphics, bbox, x0, y0, x1, y1);\n\n      graphics.executeOperatorList(operatorList);\n      return tmpCanvas.canvas;\n    },\n\n    setScale: function TilingPattern_setScale(width, height, xstep, ystep) {\n      this.scale = [width / xstep, height / ystep];\n    },\n\n    transformToScale: function TilingPattern_transformToScale(graphics) {\n      var scale = this.scale;\n      var tmpScale = [scale[0], 0, 0, scale[1], 0, 0];\n      graphics.transform.apply(graphics, tmpScale);\n    },\n\n    scaleToContext: function TilingPattern_scaleToContext() {\n      var scale = this.scale;\n      this.ctx.scale(1 / scale[0], 1 / scale[1]);\n    },\n\n    clipBbox: function clipBbox(graphics, bbox, x0, y0, x1, y1) {\n      if (isArray(bbox) && bbox.length === 4) {\n        var bboxWidth = x1 - x0;\n        var bboxHeight = y1 - y0;\n        graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n        graphics.clip();\n        graphics.endPath();\n      }\n    },\n\n    setFillAndStrokeStyleToContext:\n      function setFillAndStrokeStyleToContext(context, paintType, color) {\n        switch (paintType) {\n          case PaintType.COLORED:\n            var ctx = this.ctx;\n            context.fillStyle = ctx.fillStyle;\n            context.strokeStyle = ctx.strokeStyle;\n            break;\n          case PaintType.UNCOLORED:\n            var cssColor = Util.makeCssRgb(color[0], color[1], color[2]);\n            context.fillStyle = cssColor;\n            context.strokeStyle = cssColor;\n            break;\n          default:\n            throw new FormatError(`Unsupported paint type: ${paintType}`);\n        }\n      },\n\n    getPattern: function TilingPattern_getPattern(ctx, owner) {\n      var temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n      ctx = this.ctx;\n      ctx.setTransform.apply(ctx, this.baseTransform);\n      ctx.transform.apply(ctx, this.matrix);\n      this.scaleToContext();\n\n      return ctx.createPattern(temporaryPatternCanvas, 'repeat');\n    },\n  };\n\n  return TilingPattern;\n})();\n\nexport {\n  getShadingPatternFromIR,\n  TilingPattern,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/pattern_helper.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability } from '../shared/util';\n\n /** @implements {IPDFStream} */\nvar PDFDataTransportStream = (function PDFDataTransportStreamClosure() {\n  function PDFDataTransportStream(params, pdfDataRangeTransport) {\n    assert(pdfDataRangeTransport);\n\n    this._queuedChunks = [];\n    var initialData = params.initialData;\n    if (initialData && initialData.length > 0) {\n      let buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isRangeSupported = !(params.disableRange);\n    this._isStreamingSupported = !(params.disableStream);\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk, });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded) => {\n      this._onProgress({ loaded, });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener((chunk) => {\n      this._onReceiveData({ chunk, });\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n  PDFDataTransportStream.prototype = {\n    _onReceiveData: function PDFDataTransportStream_onReceiveData(args) {\n       let buffer = new Uint8Array(args.chunk).buffer;\n       if (args.begin === undefined) {\n         if (this._fullRequestReader) {\n           this._fullRequestReader._enqueue(buffer);\n         } else {\n           this._queuedChunks.push(buffer);\n         }\n       } else {\n         var found = this._rangeReaders.some(function (rangeReader) {\n           if (rangeReader._begin !== args.begin) {\n             return false;\n           }\n           rangeReader._enqueue(buffer);\n           return true;\n         });\n         assert(found);\n       }\n    },\n\n    _onProgress: function PDFDataTransportStream_onDataProgress(evt) {\n       if (this._rangeReaders.length > 0) {\n         // Reporting to first range reader.\n         var firstReader = this._rangeReaders[0];\n         if (firstReader.onProgress) {\n           firstReader.onProgress({ loaded: evt.loaded, });\n         }\n       }\n    },\n\n    _removeRangeReader:\n        function PDFDataTransportStream_removeRangeReader(reader) {\n      var i = this._rangeReaders.indexOf(reader);\n      if (i >= 0) {\n        this._rangeReaders.splice(i, 1);\n      }\n    },\n\n    getFullReader: function PDFDataTransportStream_getFullReader() {\n      assert(!this._fullRequestReader);\n      var queuedChunks = this._queuedChunks;\n      this._queuedChunks = null;\n      return new PDFDataTransportStreamReader(this, queuedChunks);\n    },\n\n    getRangeReader: function PDFDataTransportStream_getRangeReader(begin, end) {\n      var reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n      this._pdfDataRangeTransport.requestDataRange(begin, end);\n      this._rangeReaders.push(reader);\n      return reader;\n    },\n\n    cancelAllRequests:\n        function PDFDataTransportStream_cancelAllRequests(reason) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader.cancel(reason);\n      }\n      var readers = this._rangeReaders.slice(0);\n      readers.forEach(function (rangeReader) {\n        rangeReader.cancel(reason);\n      });\n      this._pdfDataRangeTransport.abort();\n    },\n  };\n\n  /** @implements {IPDFStreamReader} */\n  function PDFDataTransportStreamReader(stream, queuedChunks) {\n    this._stream = stream;\n    this._done = false;\n    this._queuedChunks = queuedChunks || [];\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null; // not used\n  }\n  PDFDataTransportStreamReader.prototype = {\n    _enqueue: function PDFDataTransportStreamReader_enqueue(chunk) {\n      if (this._done) {\n        return; // ignore new data\n      }\n      if (this._requests.length > 0) {\n        var requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: chunk, done: false, });\n        return;\n      }\n      this._queuedChunks.push(chunk);\n    },\n\n    get headersReady() {\n      return this._headersReady;\n    },\n\n    get isRangeSupported() {\n      return this._stream._isRangeSupported;\n    },\n\n    get isStreamingSupported() {\n      return this._stream._isStreamingSupported;\n    },\n\n    get contentLength() {\n      return this._stream._contentLength;\n    },\n\n    read: function PDFDataTransportStreamReader_read() {\n      if (this._queuedChunks.length > 0) {\n        var chunk = this._queuedChunks.shift();\n        return Promise.resolve({ value: chunk, done: false, });\n      }\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      var requestCapability = createPromiseCapability();\n      this._requests.push(requestCapability);\n      return requestCapability.promise;\n    },\n\n    cancel: function PDFDataTransportStreamReader_cancel(reason) {\n      this._done = true;\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true, });\n      });\n      this._requests = [];\n    },\n  };\n\n  /** @implements {IPDFStreamRangeReader} */\n  function PDFDataTransportStreamRangeReader(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n  PDFDataTransportStreamRangeReader.prototype = {\n    _enqueue: function PDFDataTransportStreamRangeReader_enqueue(chunk) {\n      if (this._done) {\n        return; // ignore new data\n      }\n      if (this._requests.length === 0) {\n        this._queuedChunk = chunk;\n      } else {\n        var requestsCapability = this._requests.shift();\n        requestsCapability.resolve({ value: chunk, done: false, });\n        this._requests.forEach(function (requestCapability) {\n          requestCapability.resolve({ value: undefined, done: true, });\n        });\n        this._requests = [];\n      }\n      this._done = true;\n      this._stream._removeRangeReader(this);\n    },\n\n    get isStreamingSupported() {\n      return false;\n    },\n\n    read: function PDFDataTransportStreamRangeReader_read() {\n      if (this._queuedChunk) {\n        let chunk = this._queuedChunk;\n        this._queuedChunk = null;\n        return Promise.resolve({ value: chunk, done: false, });\n      }\n      if (this._done) {\n        return Promise.resolve({ value: undefined, done: true, });\n      }\n      var requestCapability = createPromiseCapability();\n      this._requests.push(requestCapability);\n      return requestCapability.promise;\n    },\n\n    cancel: function PDFDataTransportStreamRangeReader_cancel(reason) {\n      this._done = true;\n      this._requests.forEach(function (requestCapability) {\n        requestCapability.resolve({ value: undefined, done: true, });\n      });\n      this._requests = [];\n      this._stream._removeRangeReader(this);\n    },\n  };\n\n  return PDFDataTransportStream;\n})();\n\nexport {\n  PDFDataTransportStream,\n};\n\n\n\n// WEBPACK FOOTER //\n// src/display/transport_stream.js","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-unused-vars */\n\n'use strict';\n\nvar pdfjsVersion =\n  typeof PDFJSDev !== 'undefined' ? PDFJSDev.eval('BUNDLE_VERSION') : void 0;\nvar pdfjsBuild =\n  typeof PDFJSDev !== 'undefined' ? PDFJSDev.eval('BUNDLE_BUILD') : void 0;\n\nvar pdfjsSharedUtil = require('./shared/util.js');\nvar pdfjsDisplayGlobal = require('./display/global.js');\nvar pdfjsDisplayAPI = require('./display/api.js');\nvar pdfjsDisplayTextLayer = require('./display/text_layer.js');\nvar pdfjsDisplayAnnotationLayer = require('./display/annotation_layer.js');\nvar pdfjsDisplayDOMUtils = require('./display/dom_utils.js');\nvar pdfjsDisplaySVG = require('./display/svg.js');\n\nif (typeof PDFJSDev === 'undefined' ||\n    !PDFJSDev.test('FIREFOX || MOZCENTRAL')) {\n  require('./display/network.js');\n}\n\nexports.PDFJS = pdfjsDisplayGlobal.PDFJS;\nexports.build = pdfjsDisplayAPI.build;\nexports.version = pdfjsDisplayAPI.version;\nexports.getDocument = pdfjsDisplayAPI.getDocument;\nexports.LoopbackPort = pdfjsDisplayAPI.LoopbackPort;\nexports.PDFDataRangeTransport = pdfjsDisplayAPI.PDFDataRangeTransport;\nexports.PDFWorker = pdfjsDisplayAPI.PDFWorker;\nexports.renderTextLayer = pdfjsDisplayTextLayer.renderTextLayer;\nexports.AnnotationLayer = pdfjsDisplayAnnotationLayer.AnnotationLayer;\nexports.CustomStyle = pdfjsDisplayDOMUtils.CustomStyle;\nexports.createPromiseCapability = pdfjsSharedUtil.createPromiseCapability;\nexports.PasswordResponses = pdfjsSharedUtil.PasswordResponses;\nexports.InvalidPDFException = pdfjsSharedUtil.InvalidPDFException;\nexports.MissingPDFException = pdfjsSharedUtil.MissingPDFException;\nexports.SVGGraphics = pdfjsDisplaySVG.SVGGraphics;\nexports.NativeImageDecoding = pdfjsSharedUtil.NativeImageDecoding;\nexports.UnexpectedResponseException =\n  pdfjsSharedUtil.UnexpectedResponseException;\nexports.OPS = pdfjsSharedUtil.OPS;\nexports.UNSUPPORTED_FEATURES = pdfjsSharedUtil.UNSUPPORTED_FEATURES;\nexports.isValidUrl = pdfjsDisplayDOMUtils.isValidUrl;\nexports.createValidAbsoluteUrl = pdfjsSharedUtil.createValidAbsoluteUrl;\nexports.createObjectURL = pdfjsSharedUtil.createObjectURL;\nexports.removeNullCharacters = pdfjsSharedUtil.removeNullCharacters;\nexports.shadow = pdfjsSharedUtil.shadow;\nexports.createBlob = pdfjsSharedUtil.createBlob;\nexports.RenderingCancelledException =\n  pdfjsDisplayDOMUtils.RenderingCancelledException;\nexports.getFilenameFromUrl = pdfjsDisplayDOMUtils.getFilenameFromUrl;\nexports.addLinkAttributes = pdfjsDisplayDOMUtils.addLinkAttributes;\nexports.StatTimer = pdfjsSharedUtil.StatTimer;\n\n\n\n// WEBPACK FOOTER //\n// src/pdf.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable no-extend-native */\n/* globals VBArray, PDFJS, global */\n\n// Skip compatibility checks for the extensions and if we already ran\n// this module.\nif ((typeof PDFJSDev === 'undefined' ||\n     !PDFJSDev.test('FIREFOX || MOZCENTRAL || CHROME')) &&\n    (typeof PDFJS === 'undefined' || !PDFJS.compatibilityChecked)) {\n\nvar globalScope =\n  (typeof window !== 'undefined' && window.Math === Math) ? window :\n  (typeof global !== 'undefined' && global.Math === Math) ? global :\n  (typeof self !== 'undefined' && self.Math === Math) ? self :\n  (typeof this !== 'undefined' && this.Math === Math) ? this : {};\n\nvar userAgent = (typeof navigator !== 'undefined' && navigator.userAgent) || '';\nvar isAndroid = /Android/.test(userAgent);\nvar isAndroidPre3 = /Android\\s[0-2][^\\d]/.test(userAgent);\nvar isAndroidPre5 = /Android\\s[0-4][^\\d]/.test(userAgent);\nvar isChrome = userAgent.indexOf('Chrom') >= 0;\nvar isChromeWithRangeBug = /Chrome\\/(39|40)\\./.test(userAgent);\nvar isIOSChrome = userAgent.indexOf('CriOS') >= 0;\nvar isIE = userAgent.indexOf('Trident') >= 0;\nvar isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent);\nvar isOpera = userAgent.indexOf('Opera') >= 0;\nvar isSafari = /Safari\\//.test(userAgent) &&\n               !/(Chrome\\/|Android\\s)/.test(userAgent);\n\nvar hasDOM = typeof window === 'object' && typeof document === 'object';\n\n// Initializing PDFJS global object here, it case if we need to change/disable\n// some PDF.js features, e.g. range requests\nif (typeof PDFJS === 'undefined') {\n  globalScope.PDFJS = {};\n}\n\nPDFJS.compatibilityChecked = true;\n\n// Checking if the typed arrays are supported\n// Support: iOS<6.0 (subarray), IE<10, Android<4.0\n(function checkTypedArrayCompatibility() {\n  if (typeof Uint8Array !== 'undefined') {\n    // Support: iOS<6.0\n    if (typeof Uint8Array.prototype.subarray === 'undefined') {\n      Uint8Array.prototype.subarray = function subarray(start, end) {\n        return new Uint8Array(this.slice(start, end));\n      };\n      Float32Array.prototype.subarray = function subarray(start, end) {\n        return new Float32Array(this.slice(start, end));\n      };\n    }\n\n    // Support: Android<4.1\n    if (typeof Float64Array === 'undefined') {\n      globalScope.Float64Array = Float32Array;\n    }\n    return;\n  }\n\n  function subarray(start, end) {\n    return new TypedArray(this.slice(start, end));\n  }\n\n  function setArrayOffset(array, offset) {\n    if (arguments.length < 2) {\n      offset = 0;\n    }\n    for (var i = 0, n = array.length; i < n; ++i, ++offset) {\n      this[offset] = array[i] & 0xFF;\n    }\n  }\n\n  function Uint32ArrayView(buffer, length) {\n    this.buffer = buffer;\n    this.byteLength = buffer.length;\n    this.length = length;\n    ensureUint32ArrayViewProps(this.length);\n  }\n  Uint32ArrayView.prototype = Object.create(null);\n\n  var uint32ArrayViewSetters = 0;\n  function createUint32ArrayProp(index) {\n    return {\n      get() {\n        var buffer = this.buffer, offset = index << 2;\n        return (buffer[offset] | (buffer[offset + 1] << 8) |\n          (buffer[offset + 2] << 16) | (buffer[offset + 3] << 24)) >>> 0;\n      },\n      set(value) {\n        var buffer = this.buffer, offset = index << 2;\n        buffer[offset] = value & 255;\n        buffer[offset + 1] = (value >> 8) & 255;\n        buffer[offset + 2] = (value >> 16) & 255;\n        buffer[offset + 3] = (value >>> 24) & 255;\n      },\n    };\n  }\n\n  function ensureUint32ArrayViewProps(length) {\n    while (uint32ArrayViewSetters < length) {\n      Object.defineProperty(Uint32ArrayView.prototype,\n        uint32ArrayViewSetters,\n        createUint32ArrayProp(uint32ArrayViewSetters));\n      uint32ArrayViewSetters++;\n    }\n  }\n\n  function TypedArray(arg1) {\n    var result, i, n;\n    if (typeof arg1 === 'number') {\n      result = [];\n      for (i = 0; i < arg1; ++i) {\n        result[i] = 0;\n      }\n    } else if ('slice' in arg1) {\n      result = arg1.slice(0);\n    } else {\n      result = [];\n      for (i = 0, n = arg1.length; i < n; ++i) {\n        result[i] = arg1[i];\n      }\n    }\n\n    result.subarray = subarray;\n    result.buffer = result;\n    result.byteLength = result.length;\n    result.set = setArrayOffset;\n\n    if (typeof arg1 === 'object' && arg1.buffer) {\n      result.buffer = arg1.buffer;\n    }\n    return result;\n  }\n\n  globalScope.Uint8Array = TypedArray;\n  globalScope.Int8Array = TypedArray;\n\n  // we don't need support for set, byteLength for 32-bit array\n  // so we can use the TypedArray as well\n  globalScope.Int32Array = TypedArray;\n  globalScope.Uint16Array = TypedArray;\n  globalScope.Float32Array = TypedArray;\n  globalScope.Float64Array = TypedArray;\n\n  globalScope.Uint32Array = function () {\n    if (arguments.length === 3) {\n      // Building view for buffer, offset, and length\n      if (arguments[1] !== 0) {\n        throw new Error('offset !== 0 is not supported');\n      }\n      return new Uint32ArrayView(arguments[0], arguments[2]);\n    }\n    return TypedArray.apply(this, arguments);\n  };\n})();\n\n// window.CanvasPixelArray.buffer/.byteLength\n// Support: IE9\n(function canvasPixelArrayBuffer() {\n  if (!hasDOM || !window.CanvasPixelArray) {\n    return;\n  }\n  var cpaProto = window.CanvasPixelArray.prototype;\n  if ('buffer' in cpaProto) {\n    return;\n  }\n  // Trying to fake CanvasPixelArray as Uint8ClampedArray.\n  Object.defineProperty(cpaProto, 'buffer', {\n    get() {\n      return this;\n    },\n    enumerable: false,\n    configurable: true,\n  });\n  Object.defineProperty(cpaProto, 'byteLength', {\n    get() {\n      return this.length;\n    },\n    enumerable: false,\n    configurable: true,\n  });\n})();\n\n// URL = URL || webkitURL\n// Support: Safari<7, Android 4.2+\n(function normalizeURLObject() {\n  if (!globalScope.URL) {\n    globalScope.URL = globalScope.webkitURL;\n  }\n})();\n\n// Object.defineProperty()?\n// Support: Android<4.0, Safari<5.1\n(function checkObjectDefinePropertyCompatibility() {\n  if (typeof Object.defineProperty !== 'undefined') {\n    var definePropertyPossible = true;\n    try {\n      if (hasDOM) {\n        // some browsers (e.g. safari) cannot use defineProperty() on DOM\n        // objects and thus the native version is not sufficient\n        Object.defineProperty(new Image(), 'id', { value: 'test', });\n      }\n      // ... another test for android gb browser for non-DOM objects\n      var Test = function Test() {};\n      Test.prototype = { get id() { }, };\n      Object.defineProperty(new Test(), 'id',\n        { value: '', configurable: true, enumerable: true, writable: false, });\n    } catch (e) {\n      definePropertyPossible = false;\n    }\n    if (definePropertyPossible) {\n      return;\n    }\n  }\n\n  Object.defineProperty = function objectDefineProperty(obj, name, def) {\n    delete obj[name];\n    if ('get' in def) {\n      obj.__defineGetter__(name, def['get']);\n    }\n    if ('set' in def) {\n      obj.__defineSetter__(name, def['set']);\n    }\n    if ('value' in def) {\n      obj.__defineSetter__(name, function objectDefinePropertySetter(value) {\n        this.__defineGetter__(name, function objectDefinePropertyGetter() {\n          return value;\n        });\n        return value;\n      });\n      obj[name] = def.value;\n    }\n  };\n})();\n\n\n// No XMLHttpRequest#response?\n// Support: IE<11, Android <4.0\n(function checkXMLHttpRequestResponseCompatibility() {\n  if (typeof XMLHttpRequest === 'undefined') {\n    return;\n  }\n  var xhrPrototype = XMLHttpRequest.prototype;\n  var xhr = new XMLHttpRequest();\n  if (!('overrideMimeType' in xhr)) {\n    // IE10 might have response, but not overrideMimeType\n    // Support: IE10\n    Object.defineProperty(xhrPrototype, 'overrideMimeType', {\n      value: function xmlHttpRequestOverrideMimeType(mimeType) {},\n    });\n  }\n  if ('responseType' in xhr) {\n    return;\n  }\n\n  Object.defineProperty(xhrPrototype, 'responseType', {\n    get: function xmlHttpRequestGetResponseType() {\n      return this._responseType || 'text';\n    },\n    set: function xmlHttpRequestSetResponseType(value) {\n      if (value === 'text' || value === 'arraybuffer') {\n        this._responseType = value;\n        if (value === 'arraybuffer' &&\n            typeof this.overrideMimeType === 'function') {\n          this.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n      }\n    },\n  });\n\n  // Support: IE9\n  if (typeof VBArray !== 'undefined') {\n    Object.defineProperty(xhrPrototype, 'response', {\n      get: function xmlHttpRequestResponseGet() {\n        if (this.responseType === 'arraybuffer') {\n          return new Uint8Array(new VBArray(this.responseBody).toArray());\n        }\n        return this.responseText;\n      },\n    });\n    return;\n  }\n\n  Object.defineProperty(xhrPrototype, 'response', {\n    get: function xmlHttpRequestResponseGet() {\n      if (this.responseType !== 'arraybuffer') {\n        return this.responseText;\n      }\n      var text = this.responseText;\n      var i, n = text.length;\n      var result = new Uint8Array(n);\n      for (i = 0; i < n; ++i) {\n        result[i] = text.charCodeAt(i) & 0xFF;\n      }\n      return result.buffer;\n    },\n  });\n})();\n\n// window.btoa (base64 encode function) ?\n// Support: IE<10\n(function checkWindowBtoaCompatibility() {\n  if ('btoa' in globalScope) {\n    return;\n  }\n\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  globalScope.btoa = function (chars) {\n    var buffer = '';\n    var i, n;\n    for (i = 0, n = chars.length; i < n; i += 3) {\n      var b1 = chars.charCodeAt(i) & 0xFF;\n      var b2 = chars.charCodeAt(i + 1) & 0xFF;\n      var b3 = chars.charCodeAt(i + 2) & 0xFF;\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      var d3 = i + 1 < n ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\n      var d4 = i + 2 < n ? (b3 & 0x3F) : 64;\n      buffer += (digits.charAt(d1) + digits.charAt(d2) +\n                 digits.charAt(d3) + digits.charAt(d4));\n    }\n    return buffer;\n  };\n})();\n\n// window.atob (base64 encode function)?\n// Support: IE<10\n(function checkWindowAtobCompatibility() {\n  if ('atob' in globalScope) {\n    return;\n  }\n\n  // https://github.com/davidchambers/Base64.js\n  var digits =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  globalScope.atob = function (input) {\n    input = input.replace(/=+$/, '');\n    if (input.length % 4 === 1) {\n      throw new Error('bad atob input');\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      (buffer = input.charAt(idx++));\n      // character found in table?\n      // initialize bit storage and add its ascii value\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = digits.indexOf(buffer);\n    }\n    return output;\n  };\n})();\n\n// Function.prototype.bind?\n// Support: Android<4.0, iOS<6.0\n(function checkFunctionPrototypeBindCompatibility() {\n  if (typeof Function.prototype.bind !== 'undefined') {\n    return;\n  }\n\n  Function.prototype.bind = function functionPrototypeBind(obj) {\n    var fn = this, headArgs = Array.prototype.slice.call(arguments, 1);\n    var bound = function functionPrototypeBindBound() {\n      var args = headArgs.concat(Array.prototype.slice.call(arguments));\n      return fn.apply(obj, args);\n    };\n    return bound;\n  };\n})();\n\n// HTMLElement dataset property\n// Support: IE<11, Safari<5.1, Android<4.0\n(function checkDatasetProperty() {\n  if (!hasDOM) {\n    return;\n  }\n  var div = document.createElement('div');\n  if ('dataset' in div) {\n    return; // dataset property exists\n  }\n\n  Object.defineProperty(HTMLElement.prototype, 'dataset', {\n    get() {\n      if (this._dataset) {\n        return this._dataset;\n      }\n\n      var dataset = {};\n      for (var j = 0, jj = this.attributes.length; j < jj; j++) {\n        var attribute = this.attributes[j];\n        if (attribute.name.substring(0, 5) !== 'data-') {\n          continue;\n        }\n        var key = attribute.name.substring(5).replace(/\\-([a-z])/g,\n          function(all, ch) {\n            return ch.toUpperCase();\n          });\n        dataset[key] = attribute.value;\n      }\n\n      Object.defineProperty(this, '_dataset', {\n        value: dataset,\n        writable: false,\n        enumerable: false,\n      });\n      return dataset;\n    },\n    enumerable: true,\n  });\n})();\n\n// HTMLElement classList property\n// Support: IE<10, Android<4.0, iOS<5.0\n(function checkClassListProperty() {\n  function changeList(element, itemName, add, remove) {\n    var s = element.className || '';\n    var list = s.split(/\\s+/g);\n    if (list[0] === '') {\n      list.shift();\n    }\n    var index = list.indexOf(itemName);\n    if (index < 0 && add) {\n      list.push(itemName);\n    }\n    if (index >= 0 && remove) {\n      list.splice(index, 1);\n    }\n    element.className = list.join(' ');\n    return (index >= 0);\n  }\n\n  if (!hasDOM) {\n    return;\n  }\n\n  var div = document.createElement('div');\n  if ('classList' in div) {\n    return; // classList property exists\n  }\n\n  var classListPrototype = {\n    add(name) {\n      changeList(this.element, name, true, false);\n    },\n    contains(name) {\n      return changeList(this.element, name, false, false);\n    },\n    remove(name) {\n      changeList(this.element, name, false, true);\n    },\n    toggle(name) {\n      changeList(this.element, name, true, true);\n    },\n  };\n\n  Object.defineProperty(HTMLElement.prototype, 'classList', {\n    get() {\n      if (this._classList) {\n        return this._classList;\n      }\n\n      var classList = Object.create(classListPrototype, {\n        element: {\n          value: this,\n          writable: false,\n          enumerable: true,\n        },\n      });\n      Object.defineProperty(this, '_classList', {\n        value: classList,\n        writable: false,\n        enumerable: false,\n      });\n      return classList;\n    },\n    enumerable: true,\n  });\n})();\n\n// Checking if worker has console support. Forwarding all messages to the main\n// thread if console object is absent.\n(function checkWorkerConsoleCompatibility() {\n  if (typeof importScripts === 'undefined' || 'console' in globalScope) {\n    return;\n  }\n\n  var consoleTimer = {};\n\n  var workerConsole = {\n    log: function log() {\n      var args = Array.prototype.slice.call(arguments);\n      globalScope.postMessage({\n        targetName: 'main',\n        action: 'console_log',\n        data: args,\n      });\n    },\n\n    error: function error() {\n      var args = Array.prototype.slice.call(arguments);\n      globalScope.postMessage({\n        targetName: 'main',\n        action: 'console_error',\n        data: args,\n      });\n    },\n\n    time: function time(name) {\n      consoleTimer[name] = Date.now();\n    },\n\n    timeEnd: function timeEnd(name) {\n      var time = consoleTimer[name];\n      if (!time) {\n        throw new Error('Unknown timer name ' + name);\n      }\n      this.log('Timer:', name, Date.now() - time);\n    },\n  };\n\n  globalScope.console = workerConsole;\n})();\n\n// Check console compatibility\n// In older IE versions the console object is not available\n// unless console is open.\n// Support: IE<10\n(function checkConsoleCompatibility() {\n  if (!hasDOM) {\n    return;\n  }\n  if (!('console' in window)) {\n    window.console = {\n      log() {},\n      error() {},\n      warn() {},\n    };\n    return;\n  }\n  if (!('bind' in console.log)) {\n    // native functions in IE9 might not have bind\n    console.log = (function(fn) {\n      return function(msg) {\n        return fn(msg);\n      };\n    })(console.log);\n    console.error = (function(fn) {\n      return function(msg) {\n        return fn(msg);\n      };\n    })(console.error);\n    console.warn = (function(fn) {\n      return function(msg) {\n        return fn(msg);\n      };\n    })(console.warn);\n    return;\n  }\n})();\n\n// Check onclick compatibility in Opera\n// Support: Opera<15\n(function checkOnClickCompatibility() {\n  // workaround for reported Opera bug DSK-354448:\n  // onclick fires on disabled buttons with opaque content\n  function ignoreIfTargetDisabled(event) {\n    if (isDisabled(event.target)) {\n      event.stopPropagation();\n    }\n  }\n  function isDisabled(node) {\n    return node.disabled || (node.parentNode && isDisabled(node.parentNode));\n  }\n  if (isOpera) {\n    // use browser detection since we cannot feature-check this bug\n    document.addEventListener('click', ignoreIfTargetDisabled, true);\n  }\n})();\n\n// Checks if possible to use URL.createObjectURL()\n// Support: IE, Chrome on iOS\n(function checkOnBlobSupport() {\n  // sometimes IE and Chrome on iOS loosing the data created with\n  // createObjectURL(), see #3977 and #8081\n  if (isIE || isIOSChrome) {\n    PDFJS.disableCreateObjectURL = true;\n  }\n})();\n\n// Checks if navigator.language is supported\n(function checkNavigatorLanguage() {\n  if (typeof navigator === 'undefined') {\n    return;\n  }\n  if ('language' in navigator) {\n    return;\n  }\n  PDFJS.locale = navigator.userLanguage || 'en-US';\n})();\n\n// Support: Safari 6.0+, Android<3.0, Chrome 39/40, iOS\n(function checkRangeRequests() {\n  // Safari has issues with cached range requests see:\n  // https://github.com/mozilla/pdf.js/issues/3260\n  // Last tested with version 6.0.4.\n\n  // Older versions of Android (pre 3.0) has issues with range requests, see:\n  // https://github.com/mozilla/pdf.js/issues/3381.\n  // Make sure that we only match webkit-based Android browsers,\n  // since Firefox/Fennec works as expected.\n\n  // Range requests are broken in Chrome 39 and 40, https://crbug.com/442318\n  if (isSafari || isAndroidPre3 || isChromeWithRangeBug || isIOS) {\n    PDFJS.disableRange = true;\n    PDFJS.disableStream = true;\n  }\n})();\n\n// Check if the browser supports manipulation of the history.\n// Support: IE<10, Android<4.2\n(function checkHistoryManipulation() {\n  if (!hasDOM) {\n    return;\n  }\n  // Android 2.x has so buggy pushState support that it was removed in\n  // Android 3.0 and restored as late as in Android 4.2.\n  // Support: Android 2.x\n  if (!history.pushState || isAndroidPre3) {\n    PDFJS.disableHistory = true;\n  }\n})();\n\n// Support: IE<11, Chrome<21, Android<4.4, Safari<6\n(function checkSetPresenceInImageData() {\n  if (!hasDOM) {\n    return;\n  }\n  // IE < 11 will use window.CanvasPixelArray which lacks set function.\n  if (window.CanvasPixelArray) {\n    if (typeof window.CanvasPixelArray.prototype.set !== 'function') {\n      window.CanvasPixelArray.prototype.set = function(arr) {\n        for (var i = 0, ii = this.length; i < ii; i++) {\n          this[i] = arr[i];\n        }\n      };\n    }\n  } else {\n    // Old Chrome and Android use an inaccessible CanvasPixelArray prototype.\n    // Because we cannot feature detect it, we rely on user agent parsing.\n    var polyfill = false, versionMatch;\n    if (isChrome) {\n      versionMatch = userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n      // Chrome < 21 lacks the set function.\n      polyfill = versionMatch && parseInt(versionMatch[2]) < 21;\n    } else if (isAndroid) {\n      // Android < 4.4 lacks the set function.\n      // Android >= 4.4 will contain Chrome in the user agent,\n      // thus pass the Chrome check above and not reach this block.\n      polyfill = isAndroidPre5;\n    } else if (isSafari) {\n      versionMatch = userAgent.\n        match(/Version\\/([0-9]+)\\.([0-9]+)\\.([0-9]+) Safari\\//);\n      // Safari < 6 lacks the set function.\n      polyfill = versionMatch && parseInt(versionMatch[1]) < 6;\n    }\n\n    if (polyfill) {\n      var contextPrototype = window.CanvasRenderingContext2D.prototype;\n      var createImageData = contextPrototype.createImageData;\n      contextPrototype.createImageData = function(w, h) {\n        var imageData = createImageData.call(this, w, h);\n        imageData.data.set = function(arr) {\n          for (var i = 0, ii = this.length; i < ii; i++) {\n            this[i] = arr[i];\n          }\n        };\n        return imageData;\n      };\n      // this closure will be kept referenced, so clear its vars\n      contextPrototype = null;\n    }\n  }\n})();\n\n// Support: IE<10, Android<4.0, iOS\n(function checkRequestAnimationFrame() {\n  function installFakeAnimationFrameFunctions() {\n    window.requestAnimationFrame = function (callback) {\n      return window.setTimeout(callback, 20);\n    };\n    window.cancelAnimationFrame = function (timeoutID) {\n      window.clearTimeout(timeoutID);\n    };\n  }\n\n  if (!hasDOM) {\n    return;\n  }\n  if (isIOS) {\n    // requestAnimationFrame on iOS is broken, replacing with fake one.\n    installFakeAnimationFrameFunctions();\n    return;\n  }\n  if ('requestAnimationFrame' in window) {\n    return;\n  }\n  window.requestAnimationFrame = window.mozRequestAnimationFrame ||\n                                 window.webkitRequestAnimationFrame;\n  if (window.requestAnimationFrame) {\n    return;\n  }\n  installFakeAnimationFrameFunctions();\n})();\n\n// Support: Android, iOS\n(function checkCanvasSizeLimitation() {\n  if (isIOS || isAndroid) {\n    // 5MP\n    PDFJS.maxCanvasPixels = 5242880;\n  }\n})();\n\n// Disable fullscreen support for certain problematic configurations.\n// Support: IE11+ (when embedded).\n(function checkFullscreenSupport() {\n  if (!hasDOM) {\n    return;\n  }\n  if (isIE && window.parent !== window) {\n    PDFJS.disableFullscreen = true;\n  }\n})();\n\n// Provides document.currentScript support\n// Support: IE, Chrome<29.\n(function checkCurrentScript() {\n  if (!hasDOM) {\n    return;\n  }\n  if ('currentScript' in document) {\n    return;\n  }\n  Object.defineProperty(document, 'currentScript', {\n    get() {\n      var scripts = document.getElementsByTagName('script');\n      return scripts[scripts.length - 1];\n    },\n    enumerable: true,\n    configurable: true,\n  });\n})();\n\n// Provides `input.type = 'type'` runtime failure protection.\n// Support: IE9,10.\n(function checkInputTypeNumberAssign() {\n  if (!hasDOM) {\n    return;\n  }\n  var el = document.createElement('input');\n  try {\n    el.type = 'number';\n  } catch (ex) {\n    var inputProto = el.constructor.prototype;\n    var typeProperty = Object.getOwnPropertyDescriptor(inputProto, 'type');\n    Object.defineProperty(inputProto, 'type', {\n      get() {\n        return typeProperty.get.call(this);\n      },\n      set(value) {\n        typeProperty.set.call(this, value === 'number' ? 'text' : value);\n      },\n      enumerable: true,\n      configurable: true,\n    });\n  }\n})();\n\n// Provides correct document.readyState value for legacy browsers.\n// Support: IE9,10.\n(function checkDocumentReadyState() {\n  if (!hasDOM) {\n    return;\n  }\n  if (!document.attachEvent) {\n    return;\n  }\n  var documentProto = document.constructor.prototype;\n  var readyStateProto = Object.getOwnPropertyDescriptor(documentProto,\n                                                        'readyState');\n  Object.defineProperty(documentProto, 'readyState', {\n    get() {\n      var value = readyStateProto.get.call(this);\n      return value === 'interactive' ? 'loading' : value;\n    },\n    set(value) {\n      readyStateProto.set.call(this, value);\n    },\n    enumerable: true,\n    configurable: true,\n  });\n})();\n\n// Provides support for ChildNode.remove in legacy browsers.\n// Support: IE.\n(function checkChildNodeRemove() {\n  if (!hasDOM) {\n    return;\n  }\n  if (typeof Element.prototype.remove !== 'undefined') {\n    return;\n  }\n  Element.prototype.remove = function () {\n    if (this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n})();\n\n// Provides support for Number.isNaN in legacy browsers.\n// Support: IE.\n(function checkNumberIsNaN() {\n  if (Number.isNaN) {\n    return;\n  }\n  Number.isNaN = function(value) {\n    return typeof value === 'number' && isNaN(value);\n  };\n})();\n\n// Provides support for Number.isInteger in legacy browsers.\n// Support: IE.\n(function checkNumberIsInteger() {\n  if (Number.isInteger) {\n    return;\n  }\n  Number.isInteger = function(value) {\n    return typeof value === 'number' && isFinite(value) &&\n           Math.floor(value) === value;\n  };\n})();\n\n/**\n * Polyfill for Promises:\n * The following promise implementation tries to generally implement the\n * Promise/A+ spec. Some notable differences from other promise libraries are:\n * - There currently isn't a separate deferred and promise object.\n * - Unhandled rejections eventually show an error if they aren't handled.\n *\n * Based off of the work in:\n * https://bugzilla.mozilla.org/show_bug.cgi?id=810490\n */\n(function checkPromise() {\n  if (globalScope.Promise) {\n    // Promises existing in the DOM/Worker, checking presence of all/resolve\n    if (typeof globalScope.Promise.all !== 'function') {\n      globalScope.Promise.all = function (iterable) {\n        var count = 0, results = [], resolve, reject;\n        var promise = new globalScope.Promise(function (resolve_, reject_) {\n          resolve = resolve_;\n          reject = reject_;\n        });\n        iterable.forEach(function (p, i) {\n          count++;\n          p.then(function (result) {\n            results[i] = result;\n            count--;\n            if (count === 0) {\n              resolve(results);\n            }\n          }, reject);\n        });\n        if (count === 0) {\n          resolve(results);\n        }\n        return promise;\n      };\n    }\n    if (typeof globalScope.Promise.resolve !== 'function') {\n      globalScope.Promise.resolve = function (value) {\n        return new globalScope.Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n    }\n    if (typeof globalScope.Promise.reject !== 'function') {\n      globalScope.Promise.reject = function (reason) {\n        return new globalScope.Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      };\n    }\n    if (typeof globalScope.Promise.prototype.catch !== 'function') {\n      globalScope.Promise.prototype.catch = function (onReject) {\n        return globalScope.Promise.prototype.then(undefined, onReject);\n      };\n    }\n    return;\n  }\n\n  var STATUS_PENDING = 0;\n  var STATUS_RESOLVED = 1;\n  var STATUS_REJECTED = 2;\n\n  // In an attempt to avoid silent exceptions, unhandled rejections are\n  // tracked and if they aren't handled in a certain amount of time an\n  // error is logged.\n  var REJECTION_TIMEOUT = 500;\n\n  var HandlerManager = {\n    handlers: [],\n    running: false,\n    unhandledRejections: [],\n    pendingRejectionCheck: false,\n\n    scheduleHandlers: function scheduleHandlers(promise) {\n      if (promise._status === STATUS_PENDING) {\n        return;\n      }\n\n      this.handlers = this.handlers.concat(promise._handlers);\n      promise._handlers = [];\n\n      if (this.running) {\n        return;\n      }\n      this.running = true;\n\n      setTimeout(this.runHandlers.bind(this), 0);\n    },\n\n    runHandlers: function runHandlers() {\n      var RUN_TIMEOUT = 1; // ms\n      var timeoutAt = Date.now() + RUN_TIMEOUT;\n      while (this.handlers.length > 0) {\n        var handler = this.handlers.shift();\n\n        var nextStatus = handler.thisPromise._status;\n        var nextValue = handler.thisPromise._value;\n\n        try {\n          if (nextStatus === STATUS_RESOLVED) {\n            if (typeof handler.onResolve === 'function') {\n              nextValue = handler.onResolve(nextValue);\n            }\n          } else if (typeof handler.onReject === 'function') {\n              nextValue = handler.onReject(nextValue);\n              nextStatus = STATUS_RESOLVED;\n\n              if (handler.thisPromise._unhandledRejection) {\n                this.removeUnhandeledRejection(handler.thisPromise);\n              }\n          }\n        } catch (ex) {\n          nextStatus = STATUS_REJECTED;\n          nextValue = ex;\n        }\n\n        handler.nextPromise._updateStatus(nextStatus, nextValue);\n        if (Date.now() >= timeoutAt) {\n          break;\n        }\n      }\n\n      if (this.handlers.length > 0) {\n        setTimeout(this.runHandlers.bind(this), 0);\n        return;\n      }\n\n      this.running = false;\n    },\n\n    addUnhandledRejection: function addUnhandledRejection(promise) {\n      this.unhandledRejections.push({\n        promise,\n        time: Date.now(),\n      });\n      this.scheduleRejectionCheck();\n    },\n\n    removeUnhandeledRejection: function removeUnhandeledRejection(promise) {\n      promise._unhandledRejection = false;\n      for (var i = 0; i < this.unhandledRejections.length; i++) {\n        if (this.unhandledRejections[i].promise === promise) {\n          this.unhandledRejections.splice(i);\n          i--;\n        }\n      }\n    },\n\n    scheduleRejectionCheck: function scheduleRejectionCheck() {\n      if (this.pendingRejectionCheck) {\n        return;\n      }\n      this.pendingRejectionCheck = true;\n      setTimeout(() => {\n        this.pendingRejectionCheck = false;\n        var now = Date.now();\n        for (var i = 0; i < this.unhandledRejections.length; i++) {\n          if (now - this.unhandledRejections[i].time > REJECTION_TIMEOUT) {\n            var unhandled = this.unhandledRejections[i].promise._value;\n            var msg = 'Unhandled rejection: ' + unhandled;\n            if (unhandled.stack) {\n              msg += '\\n' + unhandled.stack;\n            }\n            // Raising and catching the error, so debugger can break on it.\n            try {\n              throw new Error(msg);\n            } catch (_) {\n              console.warn(msg);\n            }\n            this.unhandledRejections.splice(i);\n            i--;\n          }\n        }\n        if (this.unhandledRejections.length) {\n          this.scheduleRejectionCheck();\n        }\n      }, REJECTION_TIMEOUT);\n    },\n  };\n\n  var Promise = function Promise(resolver) {\n    this._status = STATUS_PENDING;\n    this._handlers = [];\n    try {\n      resolver.call(this, this._resolve.bind(this), this._reject.bind(this));\n    } catch (e) {\n      this._reject(e);\n    }\n  };\n\n  /**\n   * Builds a promise that is resolved when all the passed in promises are\n   * resolved.\n   * @param {array} promises array of data and/or promises to wait for.\n   * @return {Promise} New dependent promise.\n   */\n  Promise.all = function Promise_all(promises) {\n    var resolveAll, rejectAll;\n    var deferred = new Promise(function (resolve, reject) {\n      resolveAll = resolve;\n      rejectAll = reject;\n    });\n    var unresolved = promises.length;\n    var results = [];\n    if (unresolved === 0) {\n      resolveAll(results);\n      return deferred;\n    }\n    function reject(reason) {\n      if (deferred._status === STATUS_REJECTED) {\n        return;\n      }\n      results = [];\n      rejectAll(reason);\n    }\n    for (var i = 0, ii = promises.length; i < ii; ++i) {\n      var promise = promises[i];\n      var resolve = (function(i) {\n        return function(value) {\n          if (deferred._status === STATUS_REJECTED) {\n            return;\n          }\n          results[i] = value;\n          unresolved--;\n          if (unresolved === 0) {\n            resolveAll(results);\n          }\n        };\n      })(i);\n      if (Promise.isPromise(promise)) {\n        promise.then(resolve, reject);\n      } else {\n        resolve(promise);\n      }\n    }\n    return deferred;\n  };\n\n  /**\n   * Checks if the value is likely a promise (has a 'then' function).\n   * @return {boolean} true if value is thenable\n   */\n  Promise.isPromise = function Promise_isPromise(value) {\n    return value && typeof value.then === 'function';\n  };\n\n  /**\n   * Creates resolved promise\n   * @param value resolve value\n   * @returns {Promise}\n   */\n  Promise.resolve = function Promise_resolve(value) {\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  /**\n   * Creates rejected promise\n   * @param reason rejection value\n   * @returns {Promise}\n   */\n  Promise.reject = function Promise_reject(reason) {\n    return new Promise(function (resolve, reject) {\n      reject(reason);\n    });\n  };\n\n  Promise.prototype = {\n    _status: null,\n    _value: null,\n    _handlers: null,\n    _unhandledRejection: null,\n\n    _updateStatus: function Promise__updateStatus(status, value) {\n      if (this._status === STATUS_RESOLVED ||\n          this._status === STATUS_REJECTED) {\n        return;\n      }\n\n      if (status === STATUS_RESOLVED &&\n          Promise.isPromise(value)) {\n        value.then(this._updateStatus.bind(this, STATUS_RESOLVED),\n                   this._updateStatus.bind(this, STATUS_REJECTED));\n        return;\n      }\n\n      this._status = status;\n      this._value = value;\n\n      if (status === STATUS_REJECTED && this._handlers.length === 0) {\n        this._unhandledRejection = true;\n        HandlerManager.addUnhandledRejection(this);\n      }\n\n      HandlerManager.scheduleHandlers(this);\n    },\n\n    _resolve: function Promise_resolve(value) {\n      this._updateStatus(STATUS_RESOLVED, value);\n    },\n\n    _reject: function Promise_reject(reason) {\n      this._updateStatus(STATUS_REJECTED, reason);\n    },\n\n    then: function Promise_then(onResolve, onReject) {\n      var nextPromise = new Promise(function (resolve, reject) {\n        this.resolve = resolve;\n        this.reject = reject;\n      });\n      this._handlers.push({\n        thisPromise: this,\n        onResolve,\n        onReject,\n        nextPromise,\n      });\n      HandlerManager.scheduleHandlers(this);\n      return nextPromise;\n    },\n\n    catch: function Promise_catch(onReject) {\n      return this.then(undefined, onReject);\n    },\n  };\n\n  globalScope.Promise = Promise;\n})();\n\n(function checkWeakMap() {\n  if (globalScope.WeakMap) {\n    return;\n  }\n\n  var id = 0;\n  function WeakMap() {\n    this.id = '$weakmap' + (id++);\n  }\n  WeakMap.prototype = {\n    has(obj) {\n      if ((typeof obj !== 'object' && typeof obj !== 'function') ||\n          obj === null) {\n        return false;\n      }\n      return !!Object.getOwnPropertyDescriptor(obj, this.id);\n    },\n    get(obj) {\n      return this.has(obj) ? obj[this.id] : undefined;\n    },\n    set(obj, value) {\n      Object.defineProperty(obj, this.id, {\n        value,\n        enumerable: false,\n        configurable: true,\n      });\n    },\n    delete(obj) {\n      delete obj[this.id];\n    },\n  };\n\n  globalScope.WeakMap = WeakMap;\n})();\n\n// Polyfill from https://github.com/Polymer/URL\n/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n(function checkURLConstructor() {\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  try {\n    if (typeof URL === 'function' &&\n        typeof URL.prototype === 'object' &&\n        ('origin' in URL.prototype)) {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    }\n  } catch (e) { }\n\n  if (hasWorkingUrl) {\n    return;\n  }\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if (h === '') {\n      invalid.call(this);\n    }\n    // XXX\n    return h.toLowerCase();\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ? `\n       [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) === -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ` (do not escape '?')\n       [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) === -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF, ALPHA = /[a-zA-Z]/,\n      ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message);\n    }\n\n    var state = stateOverride || 'scheme start',\n        cursor = 0,\n        buffer = '',\n        seenAt = false,\n        seenBracket = false,\n        errors = [];\n\n    loop: while ((input[cursor - 1] !== EOF || cursor === 0) &&\n                 !this._isInvalid) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (c === ':') {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if (this._scheme === 'file') {\n              state = 'relative';\n            } else if (this._isRelative && base &&\n                       base._scheme === this._scheme) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (c === EOF) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c);\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if (c === '?') {\n            this._query = '?';\n            state = 'query';\n          } else if (c === '#') {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !(isRelativeScheme(base._scheme))) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if (c === '/' && input[cursor + 1] === '/') {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if (this._scheme !== 'file') {\n            this._scheme = base._scheme;\n          }\n          if (c === EOF) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if (c === '/' || c === '\\\\') {\n            if (c === '\\\\') {\n              err('\\\\ is an invalid code point.');\n            }\n            state = 'relative slash';\n          } else if (c === '?') {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if (c === '#') {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor + 1];\n            var nextNextC = input[cursor + 2];\n            if (this._scheme !== 'file' || !ALPHA.test(c) ||\n                (nextC !== ':' && nextC !== '|') ||\n                (nextNextC !== EOF && nextNextC !== '/' && nextNextC !== '\\\\' &&\n                 nextNextC !== '?' && nextNextC !== '#')) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if (c === '/' || c === '\\\\') {\n            if (c === '\\\\') {\n              err('\\\\ is an invalid code point.');\n            }\n            if (this._scheme === 'file') {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if (this._scheme !== 'file') {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if (c === '/') {\n            state = 'authority second slash';\n          } else {\n            err('Expected \\'/\\', got: ' + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if (c !== '/') {\n            err('Expected \\'/\\', got: ' + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if (c !== '/' && c !== '\\\\') {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if (c === '@') {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if (cp === '\\t' || cp === '\\n' || cp === '\\r') {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (cp === ':' && this._password === null) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              if (this._password !== null) {\n                this._password += tempC;\n              } else {\n                this._username += tempC;\n              }\n            }\n            buffer = '';\n          } else if (c === EOF || c === '/' || c === '\\\\' ||\n                     c === '?' || c === '#') {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (c === EOF || c === '/' || c === '\\\\' || c === '?' || c === '#') {\n            if (buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                (buffer[1] === ':' || buffer[1] === '|')) {\n              state = 'relative path';\n            } else if (buffer.length === 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (c === ':' && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if (stateOverride === 'hostname') {\n              break loop;\n            }\n          } else if (c === EOF || c === '/' ||\n                     c === '\\\\' || c === '?' || c === '#') {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            if (c === '[') {\n              seenBracket = true;\n            } else if (c === ']') {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (c === EOF || c === '/' || c === '\\\\' ||\n                     c === '?' || c === '#' || stateOverride) {\n            if (buffer !== '') {\n              var temp = parseInt(buffer, 10);\n              if (temp !== relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if (c === '\\t' || c === '\\n' || c === '\\r') {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if (c === '\\\\') {\n            err('\\'\\\\\\' not allowed in path.');\n          }\n          state = 'relative path';\n          if (c !== '/' && c !== '\\\\') {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (c === EOF || c === '/' || c === '\\\\' ||\n              (!stateOverride && (c === '?' || c === '#'))) {\n            if (c === '\\\\') {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            if ((tmp = relativePathDotMapping[buffer.toLowerCase()])) {\n              buffer = tmp;\n            }\n            if (buffer === '..') {\n              this._path.pop();\n              if (c !== '/' && c !== '\\\\') {\n                this._path.push('');\n              }\n            } else if (buffer === '.' && c !== '/' && c !== '\\\\') {\n              this._path.push('');\n            } else if (buffer !== '.') {\n              if (this._scheme === 'file' && this._path.length === 0 &&\n                  buffer.length === 2 && ALPHA.test(buffer[0]) &&\n                  buffer[1] === '|') {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if (c === '?') {\n              this._query = '?';\n              state = 'query';\n            } else if (c === '#') {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if (c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && c === '#') {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (c !== EOF && c !== '\\t' && c !== '\\n' && c !== '\\r') {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  function JURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof JURL)) {\n      base = new JURL(String(base));\n    }\n\n    this._url = url;\n    clear.call(this);\n\n    var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  JURL.prototype = {\n    toString() {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid) {\n        return this._url;\n      }\n      var authority = '';\n      if (this._username !== '' || this._password !== null) {\n        authority = this._username +\n          (this._password !== null ? ':' + this._password : '') + '@';\n      }\n\n      return this.protocol +\n          (this._isRelative ? '//' + authority + this.host : '') +\n          this.pathname + this._query + this._fragment;\n    },\n    // The named parameter should be different from the setter's function name.\n    // Otherwise Safari 5 will throw an error (see issue 8541)\n    set href(value) {\n      clear.call(this);\n      parse.call(this, value);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(value) {\n      if (this._isInvalid) {\n        return;\n      }\n      parse.call(this, value + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid ? '' : this._port ?\n          this._host + ':' + this._port : this._host;\n    },\n    set host(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, value, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid ? '' : this._isRelative ?\n          '/' + this._path.join('/') : this._schemeData;\n    },\n    set pathname(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._path = [];\n      parse.call(this, value, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || this._query === '?' ?\n          '' : this._query;\n    },\n    set search(value) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._query = '?';\n      if (value[0] === '?') {\n        value = value.slice(1);\n      }\n      parse.call(this, value, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || this._fragment === '#' ?\n          '' : this._fragment;\n    },\n    set hash(value) {\n      if (this._isInvalid) {\n        return;\n      }\n      this._fragment = '#';\n      if (value[0] === '#') {\n        value = value.slice(1);\n      }\n      parse.call(this, value, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'data':\n        case 'file':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n        case 'blob':\n          // Special case of blob: -- returns valid origin of _schemeData.\n          try {\n            return new JURL(this._schemeData).origin || 'null';\n          } catch (_) {\n            // Invalid _schemeData origin -- ignoring errors.\n          }\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    },\n  };\n\n  // Copy over the static methods\n  var OriginalURL = globalScope.URL;\n  if (OriginalURL) {\n    JURL.createObjectURL = function(blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    JURL.revokeObjectURL = function(url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  globalScope.URL = JURL;\n})();\n\n}\n\n\n\n// WEBPACK FOOTER //\n// src/shared/compatibility.js","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet isReadableStreamSupported = false;\nif (typeof ReadableStream !== 'undefined') {\n  // MS Edge may say it has ReadableStream but they are not up to spec yet.\n  try {\n    // eslint-disable-next-line no-new\n    new ReadableStream({\n      start(controller) {\n        controller.close();\n      },\n    });\n    isReadableStreamSupported = true;\n  } catch (e) {\n    // The ReadableStream constructor cannot be used.\n  }\n}\nif (isReadableStreamSupported) {\n  exports.ReadableStream = ReadableStream;\n} else {\n  if (typeof PDFJSDev !== 'undefined' && PDFJSDev.test('CHROME')) {\n    throw new Error('ReadableStream polyfill is not found for Chrome bundle');\n  }\n  exports.ReadableStream =\n    require('../../external/streams/streams-lib').ReadableStream;\n}\n\n\n\n// WEBPACK FOOTER //\n// src/shared/streams_polyfill.js"]},"metadata":{},"sourceType":"script"}